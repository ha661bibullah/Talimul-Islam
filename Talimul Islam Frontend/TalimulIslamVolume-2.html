<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Bengali&display=swap" rel="stylesheet">

    <!-- Socket.IO CDN -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<title>‡¶§‡¶æ‡¶≤‡¶ø‡¶Æ‡ßÅ‡¶≤¬†‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ¬†‡ß®‡¶Ø‡¶º¬†‡¶ñ‡¶®‡ßç‡¶° </title>
</head>
<body>













<!-- ‚ïê‚ïê‚ïê‚ïêüß≠ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶¨‡¶æ‡¶∞ ‚ïê‚ïê‚ïê‚ïê -->

<style>

     @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap');
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Hind Siliguri', 'Bangla', sans-serif;
            font-family: "Noto Serif Bengali", serif;
        }
        
    :root {
        --primary-color: #2E7D32;
        --secondary-color: #4CAF50;
        --accent-color: #1B5E20;
        --text-color: #2c3e50;
        --light-text: #ffffff;
        --bg-color: #ffffff;
        --border-color: #e0e0e0;
        --hover-bg: #f8f9fa;
        --shadow: 0 2px 10px rgba(0,0,0,0.1);
        --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    [data-theme="dark"] {
        --primary-color: #4CAF50;
        --secondary-color: #66BB6A;
        --accent-color: #2E7D32;
        --text-color: #ffffff;
        --bg-color: #1a1a1a;
        --border-color: #333333;
        --hover-bg: #2d2d2d;
        --shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Hind Siliguri', 'Bangla', sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        line-height: 1.6;
        transition: var(--transition);
    }

    /* Header */
    .header {
        background: var(--bg-color);
        box-shadow: var(--shadow);
        position: sticky;
        top: 0;
        z-index: 1000;
        border-bottom: 1px solid var(--border-color);
    }

    /* Top Bar - Mobile Only */
    .top-bar {
        background: var(--primary-color);
        color: var(--light-text);
        padding: 8px 0;
        font-size: 14px;
        display: none; 
        transition: transform 0.3s ease-in-out;
    }

    .top-bar-content {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
    }

    .contact-info {
        display: flex;
        gap: 20px;
        align-items: center;
        flex-wrap: wrap;
    }

    .contact-info span {
        display: flex;
        align-items: center;
        gap: 5px;
        font-size: 13px;
    }

    /* Main Navigation */
    .navbar {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 20px;
        position: relative;
    }

    /* Mobile Navbar - special layout */
    .mobile-navbar {
        display: none;
    }

    /* Logo */
    .logo {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: var(--primary-color);
        font-weight: 700;
        font-size: 18px;
        transition: var(--transition);
        flex-shrink: 0;
    }

    .logo:hover {
        color: var(--secondary-color);
        transform: scale(1.05);
    }

    .logo img {
        height: 40px;
        width: auto;
        margin-right: 10px;
        border-radius: 8px;
        object-fit: contain;
    }

    /* Navigation Links - Made more compact */
    .nav-menu {
        display: flex;
        list-style: none;
        gap: 2px;
        align-items: center;
        flex-wrap: nowrap;
    }

    .nav-item {
        position: relative;
    }

    .nav-link {
        display: flex;
        align-items: center;
        padding: 8px 10px;
        text-decoration: none;
        color: var(--text-color);
        border-radius: 6px;
        transition: var(--transition);
        font-size: 13px;
        gap: 4px;
        white-space: nowrap;
    }

    .nav-link:hover {
        background-color: var(--hover-bg);
        color: var(--primary-color);
        transform: translateY(-1px);
    }

    .nav-link i {
        font-size: 11px;
        flex-shrink: 0;
    }

    /* Search Box - Desktop only */
    .search-container {
        position: relative;
        margin: 0 15px;
        flex-shrink: 0;
    }

    .search-box {
        display: flex;
        align-items: center;
        background: var(--hover-bg);
        border: 2px solid transparent;
        border-radius: 20px;
        padding: 6px 14px;
        width: 220px;
        transition: var(--transition);
    }

    .search-box:focus-within {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
    }

    .search-box input {
        border: none;
        background: transparent;
        outline: none;
        width: 100%;
        padding: 4px 8px;
        font-family: inherit;
        color: var(--text-color);
        font-size: 13px;
    }

    .search-box input::placeholder {
        color: #999;
    }

    .search-box i {
        color: #666;
        margin-right: 6px;
        flex-shrink: 0;
        font-size: 12px;
    }

    /* Right Section */
    .nav-actions {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-shrink: 0;
    }

    /* Language Switcher - Desktop */
    .language-switcher {
        display: flex;
        align-items: center;
        padding: 6px 10px;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        cursor: pointer;
        background: var(--hover-bg);
        transition: var(--transition);
        font-size: 12px;
        font-weight: 500;
        white-space: nowrap;
        color: var(--text-color);
    }

    .language-switcher:hover {
        background: var(--primary-color);
        color: var(--light-text);
        border-color: var(--primary-color);
    }

    .language-switcher img {
        width: 16px;
        height: 12px;
        margin-right: 4px;
        border-radius: 2px;
        object-fit: cover;
    }

    /* Login Button */
    .login-button {
        background: var(--primary-color);
        color: var(--light-text);
        padding: 8px 16px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
        font-size: 13px;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 4px;
        white-space: nowrap;
        text-decoration: none;
    }

    .login-button:hover {
        background: var(--accent-color);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
    }

    /* Theme Toggle */
    .theme-toggle {
        background: none;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        width: 36px;
        height: 36px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-color);
        transition: var(--transition);
    }

    .theme-toggle:hover {
        background: var(--hover-bg);
        border-color: var(--primary-color);
        transform: translateY(-1px);
    }

    /* Mobile Menu Toggle */
    .mobile-toggle {
        display: none;
        background: none;
        border: none;
        font-size: 20px;
        color: var(--text-color);
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
        transition: var(--transition);
    }

    /* Mobile Search Toggle */
    .mobile-search-toggle {
        background: none;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        width: 36px;
        height: 36px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-color);
        transition: var(--transition);
    }

    .mobile-search-toggle:hover {
        background: var(--hover-bg);
        border-color: var(--primary-color);
        transform: translateY(-1px);
    }

    /* Mobile Search Bar */
    .mobile-search-bar {
        display: none;
        background: var(--bg-color);
        border-top: 1px solid var(--border-color);
        padding: 25px 15px;
        animation: slideDown 0.3s ease;
    }

    .mobile-search-bar.active {
        display: block;
    }

    .mobile-search-box {
        display: flex;
        align-items: center;
        background: var(--hover-bg);
        border: 2px solid transparent;
        border-radius: 8px;
        padding: 8px 12px;
        width: 100%;
        transition: var(--transition);
    }

    .mobile-search-box:focus-within {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
    }

    .mobile-search-box input {
        border: none;
        background: transparent;
        outline: none;
        width: 100%;
        padding: 4px 8px;
        font-family: inherit;
        color: var(--text-color);
        font-size: 14px;
    }

    .mobile-search-box input::placeholder {
        color: #999;
    }

    .mobile-search-box i {
        color: #666;
        margin-right: 8px;
        flex-shrink: 0;
        font-size: 14px;
    }

    .search-close-btn {
        background: none;
        border: none;
        color: #666;
        cursor: pointer;
        padding: 4px;
        margin-left: 8px;
        border-radius: 4px;
        transition: var(--transition);
    }

    .search-close-btn:hover {
        background: var(--hover-bg);
        color: var(--primary-color);
    }

    /* Dropdown Menu Styles */
    .dropdown {
        position: relative;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        top: 100%;
        background: var(--bg-color);
        min-width: 180px;
        box-shadow: var(--shadow);
        border-radius: 8px;
        border: 1px solid var(--border-color);
        z-index: 1000;
        padding: 8px 0;
        opacity: 0;
        transform: translateY(-10px);
        transition: var(--transition);
    }

    .dropdown:hover .dropdown-content {
        display: block;
        opacity: 1;
        transform: translateY(0);
    }

    .dropdown-content a {
        display: block;
        padding: 8px 14px;
        text-decoration: none;
        color: var(--text-color);
        transition: var(--transition);
        font-size: 13px;
    }

    .dropdown-content a:hover {
        background: var(--hover-bg);
        color: var(--primary-color);
        padding-left: 18px;
    }

    /* Active state for current page */
    .nav-link.active {
        background: var(--primary-color);
        color: var(--light-text);
    }

    .nav-link.active:hover {
        background: var(--accent-color);
        color: var(--light-text);
    }

    /* Mobile Navigation Menu */
    .mobile-nav-menu {
        display: none;
        background: var(--bg-color);
        padding: 25px;
        border-top: 1px solid var(--border-color);
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .mobile-nav-menu.active {
        display: block;
        animation: slideDown 0.3s ease;
    }

    .mobile-nav-links {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
    }

    .mobile-nav-links .nav-link {
        background: var(--hover-bg);
        padding: 12px 16px;
        border-radius: 8px;
        font-size: 13px;
        font-weight: 500;
        color: var(--text-color);
        text-decoration: none;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 8px;
        text-align: left;
    }

    .mobile-nav-links .nav-link:hover,
    .mobile-nav-links .nav-link.active {
        background: var(--primary-color);
        color: var(--light-text);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
    }

    .mobile-nav-links .nav-link i {
        font-size: 14px;
        width: 16px;
        text-align: center;
    }

    /* Responsive Design */
    
    /* Large Desktop */
    @media (min-width: 1400px) {
        .search-box {
            width: 260px;
        }
        
        .nav-link {
            padding: 8px 12px;
            font-size: 14px;
        }
    }

    /* Desktop/Laptop */
    @media (max-width: 1200px) {
        .search-box {
            width: 190px;
        }
        
        .nav-link {
            padding: 7px 8px;
            font-size: 12px;
        }
        
        .logo {
            font-size: 16px;
        }
        
        .logo img {
            height: 36px;
        }
    }

    /* Small Desktop/Large Tablet */
    @media (max-width: 1024px) {
        .nav-link {
            padding: 6px 6px;
            font-size: 11px;
        }
        
        .nav-menu {
            gap: 1px;
        }
        
        .search-container {
            margin: 0 8px;
        }
        
        .search-box {
            width: 160px;
        }
    }

    /* Tablet & Mobile */
    @media (max-width: 1080px) {
        /* Show top bar on mobile */
        .top-bar {
            display: block;
        }

        /* Hide desktop navbar */
        .navbar {
            display: none;
        }

        /* Show mobile navbar */
        .mobile-navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 15px;
            background: var(--bg-color);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 999;
            transition: var(--transition);
        }

        /* When top bar is hidden, mobile navbar moves up */
        .top-bar.hidden + .mobile-navbar {
            top: 0;
        }

        .mobile-navbar {
            position: static;
            top: 0;
            width: 100%;
            z-index: 999;
            transition: all 0.3s ease-in-out;
            transform: translateY(0);
            opacity: 1;
        }

        /* ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤‡ßá fixed ‡¶π‡¶Ø‡¶º‡ßá ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶è‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶®‡¶∏‡¶π ‡¶Ü‡¶∏‡¶¨‡ßá */
        .mobile-navbar.fixed {
            position: fixed;
            top: 0;
            left: 0;
            background-color: var(--bg-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            animation: digitalSlideFade 0.4s ease forwards;
        }

        /* ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶è‡¶´‡ßá‡¶ï‡ßç‡¶ü: ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ fade, scale ‡¶ì slide */
        @keyframes digitalSlideFade {
            0% {
                opacity: 0;
                transform: translateY(-30%) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .mobile-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .mobile-toggle {
            display: block;
            order: 1;
        }

        .mobile-navbar .logo {
            order: 2;
            font-size: 16px;
        }

        .mobile-navbar .logo img {
            height: 36px;
            margin-right: 8px;
        }

        .mobile-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .mobile-right .theme-toggle,
        .mobile-right .mobile-search-toggle {
            width: 32px;
            height: 32px;
        }

        /* Language switcher for mobile - in top bar */
        .language-switcher {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            color: var(--light-text);
        }

        .language-switcher:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.5);
            color: var(--light-text);
        }

        /* Show mobile navigation menu */
        .mobile-nav-menu {
            display: none;
        }

        .mobile-nav-menu.active {
            display: block;
        }

        /* Hide desktop login button in mobile view */
        .navbar .login-button {
            display: none;
        }

        /* Show mobile login button in mobile view */
        .mobile-navbar .login-button {
            display: flex;
        }

        /* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .dropdown-content {
            position: fixed !important;
            width: 200px !important;
            right: 10px !important;
            left: auto !important;
            top: auto !important;
            margin-top: 5px !important;
            z-index: 1001 !important;
        }
        
        .dropdown-content.show-dropdown {
            display: block !important;
            animation: fadeIn 0.3s ease forwards;
        }
        
        .profile-dropdown {
            position: relative;
        }
    }

    /* Mobile */
    @media (max-width: 480px) {
        .top-bar-content {
            flex-direction: row;
            gap: 8px;
            text-align: center;
            padding: 0 15px;
        }

        .contact-info {
            justify-content: center;
            gap: 15px;
        }

        .contact-info span {
            font-size: 11px;
        }

        .mobile-navbar {
            padding: 8px 15px;
        }

        .mobile-navbar .logo {
            font-size: 14px;
        }

        .mobile-navbar .logo img {
            height: 32px;
            margin-right: 6px;
        }

        .mobile-right .theme-toggle,
        .mobile-right .mobile-search-toggle {
            width: 30px;
            height: 30px;
            font-size: 12px;
        }

        .language-switcher {
            font-size: 11px;
            padding: 4px 8px;
        }

        .language-switcher img {
            width: 14px;
            height: 10px;
        }

        .mobile-nav-links {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .mobile-nav-links .nav-link {
            font-size: 12px;
            padding: 10px 14px;
        }

        .login-button {
            padding: 8px 12px;
            font-size: 12px;
        }

        /* Small Mobile Profile Dropdown */
        .dropdown-content {
            width: 180px;
            font-size: 13px;
        }
        
        .dropdown-content a {
            padding: 8px 12px;
        }
        
        .profile-icon {
            width: 32px;
            height: 32px;
            font-size: 14px;
        }
    }

    /* Desktop - Hide top bar */
    @media (min-width: 1081px) {
        .top-bar {
            display: none !important;
        }

        /* Hide mobile login button in desktop view */
        .mobile-navbar .login-button {
            display: none;
        }

        /* Show desktop login button in desktop view */
        .navbar .login-button {
            display: flex;
        }
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Focus states for accessibility */
    
    .login-button:focus,
    .theme-toggle:focus,
    .language-switcher:focus,
    .mobile-search-toggle:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
    }

    .search-box input:focus,
    .mobile-search-box input:focus {
        outline: none;
    }

    /* Loading animation */
    .loading {
        opacity: 0.7;
        pointer-events: none;
    }

    /* Smooth scrolling */
    html {
        scroll-behavior: smooth;
    }

    /* Mobile Top Bar Hide on Scroll */
    .top-bar.hidden {
        transform: translateY(-100%);
    }

    /* Print styles */
    @media print {
        .header {
            box-shadow: none;
            border-bottom: 1px solid #ccc;
        }
        
        .nav-actions,
        .search-container,
        .mobile-toggle,
        .top-bar,
        .mobile-search-toggle {
            display: none !important;
        }
    }

    /* Profile Dropdown Styles */
    .profile-dropdown {
        position: relative;
        display: none;
    }

    .profile-icon {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background-color: var(--primary-color);
        color: var(--light-text);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-weight: bold;
        transition: var(--transition);
    }

    /* Desktop hover dropdown */
    @media (min-width: 1081px) {
        .desktop-profile-dropdown:hover .dropdown-content {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Mobile click dropdown */
    @media (max-width: 1080px) {
        .dropdown-content {
            display: none;
            right: 0;
            left: auto;
        }
        
        .show-dropdown {
            display: block;
            animation: fadeIn 0.3s ease;
        }
    }

    .dropdown-content {
        position: absolute;
        right: 0;
        background-color: var(--bg-color);
        min-width: 160px;
        box-shadow: var(--shadow);
        z-index: 1000;
        border-radius: 6px;
        border: 1px solid var(--border-color);
        overflow: hidden;
        pointer-events: auto;
    }

    .dropdown-content a {
        color: var(--text-color);
        padding: 10px 16px;
        text-decoration: none;
        display: block;
        font-size: 14px;
        transition: var(--transition);
    }

    .dropdown-content a:hover {
        background-color: var(--hover-bg);
        color: var(--primary-color);
    }

    .dropdown-content a i {
        margin-right: 8px;
        width: 16px;
        text-align: center;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-5px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* Desktop Profile Dropdown */
    .desktop-profile-dropdown {
        margin-left: 8px;
    }

    /* Mobile Profile Dropdown */
    .mobile-profile-dropdown {
        display: none;
    }

    @media (max-width: 1080px) {
        .mobile-profile-dropdown {
            display: block;
        }
        
        .desktop-profile-dropdown {
            display: none;
        }
    }

    /* ‡¶≤‡¶ó‡¶á‡¶® ‡¶™‡¶™‡¶Ü‡¶™ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
    .blur-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        z-index: 98;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
    }

    .blur-overlay.active {
        opacity: 1;
        visibility: visible;
    }

    .login-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.9);
        width: 90%;
        max-width: 400px;
        border-radius: 10px;
        z-index: 1002;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
    }

    .login-popup.active {
        opacity: 1;
        visibility: visible;
        transform: translate(-50%, -50%) scale(1);
    }

    .container {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 450px;
        padding: 20px 20px;
        text-align: center;
    }

    .title {
        font-size: 28px;
        color: #333;
        margin-bottom: 20px;
    }

    .form-container {
        display: block;
        width: 100%;
    }

    .form-group {
        margin-bottom: 15px;
        text-align: left;
    }

    label {
        display: block;
        margin-bottom: 8px;
        font-size: 16px;
        font-weight: bold;
        color: #333;
    }

    input {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 16px;
        transition: border-color 0.3s;
    }

    input:focus {
        outline: none;
        border-color: #2E7D32;
    }

    .error-message {
        color: #e74c3c;
        font-size: 14px;
        margin-top: 5px;
        display: none;
    }

    .show-error {
        display: block;
    }

    .password-container {
        position: relative;
    }

    .toggle-password {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: #666;
        cursor: pointer;
        font-size: 14px;
    }

    .button {
        background-color: #2E7D32;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 12px 20px;
        width: 100%;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s;
        margin-top: 10px;
        opacity: 0.9;
    }

    .button:hover {
        opacity: 1;
        transition: opacity 0.5s ease-in-out;
    }

    .form-footer {
        margin-top: 20px;
        font-size: 15px;
        color: #666;
    }

    .form-footer a {
        color: #2E7D32;
        text-decoration: none;
        font-weight: bold;
    }

    .form-footer a:hover {
        text-decoration: underline;
    }

    .form-switch {
        margin-top: 30px;
    }

    #emailCheckForm, #otpVerificationForm, #signupForm, #forgotPasswordForm, #resetPasswordForm {
        display: none;
    }

    .success-message {
        background-color: #d4edda;
        color: #155724;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 20px;
        display: none;
    }

    .otp-container {
        margin: 20px 0;
    }

    .otp-input {
        display: flex;
        justify-content: center;
        margin: 15px 0;
    }

    .otp-input input {
        width: 50px;
        height: 50px;
        font-size: 24px;
        text-align: center;
        margin: 0 5px;
    }

    .timer {
        color: #2E7D32;
        font-size: 16px;
        margin-top: 10px;
        font-weight: bold;
    }

    .resend-button {
        background: none;
        border: none;
        color: #2E7D32;
        text-decoration: underline;
        cursor: pointer;
        font-size: 14px;
        margin-top: 10px;
    }

    .resend-button:disabled {
        color: #999;
        text-decoration: none;
        cursor: not-allowed;
    }

    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        justify-content: center;
        align-items: center;
    }

    .modal-content {
        background-color: white;
        padding: 30px;
        border-radius: 5px;
        max-width: 400px;
        text-align: center;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    .modal-title {
        font-size: 22px;
        margin-bottom: 15px;
        color: #333;
    }

    .modal-body {
        margin-bottom: 20px;
        font-size: 16px;
        color: #666;
    }

    .modal-button {
        background-color: #2E7D32;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
    }

    /* ‡¶≤‡ßã‡¶°‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
    .loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10000;
    }

    .spinner {
        width: 40px;
        height: 40px;
        border: 4px solid #f3f3f3;
        border-top: 4px solid #2E7D32;
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    /* ‡¶ï‡ßç‡¶≤‡ßã‡¶ú ‡¶¨‡¶æ‡¶ü‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
    .close-login {
        position: absolute;
        top: 18px;
        right: 24px;
        background: none;
        border: none;
        color: #888;
        font-size: 26px;
        cursor: pointer;
        z-index: 1003;
        transition: transform 0.25s cubic-bezier(.68,-0.55,.27,1.55), color 0.2s;
        outline: none;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .close-login:hover {
        color: #2E7D32;
        transform: rotate(90deg) scale(1.2);
    }
    .close-login:active {
        color: #43a047;
        transform: scale(0.95);
    }

    /* ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶•‡¶ø‡¶Æ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü */
    body[data-theme="dark"] .login-popup {
        background-color: #1f1f1f;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    body[data-theme="dark"] .container {
        background-color: #2d2d2d;
        color: #e0e0e0;
    }

    body[data-theme="dark"] .title {
        color: #e0e0e0;
    }

    body[data-theme="dark"] label {
        color: #e0e0e0;
    }

    body[data-theme="dark"] input {
        background-color: #3d3d3d;
        border-color: #4d4d4d;
        color: #e0e0e0;
    }

    body[data-theme="dark"] .success-message {
        background-color: #155724;
        color: #d4edda;
    }

    body[data-theme="dark"] .modal-content {
        background-color: #2d2d2d;
        color: #e0e0e0;
    }

    body[data-theme="dark"] .modal-title {
        color: #e0e0e0;
    }

    body[data-theme="dark"] .modal-body {
        color: #aaa;
    }

    /* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
    @media (max-width: 480px) {
        .container {
            padding: 30px 15px;
        }
        
        .title {
            font-size: 24px;
        }
        
        input {
            padding: 10px 12px;
        }
    }



    .user-menu {
            position: fixed;
            top: 60px;
            right: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            min-width: 200px;
        }
        
        .user-menu-content {
            padding: 15px;
        }
        
        .user-menu-content p {
            margin: 0 0 10px 0;
            font-weight: bold;
            color: #333;
        }
        
        .logout-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
        }
        
        .logout-btn:hover {
            background: #c0392b;
        }
        
        .success-notification {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .loading-content {
            text-align: center;
            color: white;
        }
        
        .spinner {
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }


                /* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        @media (max-width: 1080px) {
            .mobile-nav-links {
                display: grid;
                grid-template-columns: 1fr 1fr 1fr 1fr;
                gap: 8px;
            }
            
            .mobile-dropdown {
                position: relative;
            }
            
            .mobile-dropdown-content {
                display: none;
                padding-left: 20px;
                margin-top: 5px;
            }
            
            .mobile-dropdown.active .mobile-dropdown-content {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 5px;
            }
            
            .mobile-dropdown-content a {
                padding: 8px 12px;
                background: rgba(0,0,0,0.05);
                border-radius: 6px;
                font-size: 12px;
            }
        }
         @media (max-width: 500px){
             .mobile-nav-links {
                display: grid;
                grid-template-columns: 1fr 1fr 1fr;
                gap: 8px;
            }
         }


          /* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.mobile-dropdown {
    position: relative;
    grid-column: 1 / -1; /* ‡¶™‡ßÅ‡¶∞‡ßã ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶• ‡¶ú‡ßÅ‡¶°‡¶º‡ßá ‡¶®‡ßá‡¶¨‡ßá */
}

.mobile-dropdown-content {
    display: none;
    grid-template-columns: 1fr; /* ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá ‡¶è‡¶ï ‡¶ï‡¶≤‡¶æ‡¶Æ */
    gap: 8px;
    padding: 10px;
    background-color: var(--hover-bg);
    border-radius: 8px;
    margin-top: 5px;
    animation: fadeIn 0.3s ease;
}

.mobile-dropdown.active .mobile-dropdown-content {
    display: grid;
}

.mobile-dropdown-content a {
    padding: 10px 12px;
    background: var(--bg-color);
    border-radius: 6px;
    font-size: 13px;
    color: var(--text-color);
    text-decoration: none;
    transition: var(--transition);
    text-align: center;
    border: 1px solid var(--border-color);
}

.mobile-dropdown-content a:hover {
    background: var(--primary-color);
    color: var(--light-text);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
}

/* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶ü‡¶ó‡¶≤ ‡¶¨‡¶æ‡¶ü‡¶® */
.mobile-dropdown-toggle {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    background: var(--hover-bg);
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    color: var(--text-color);
    text-decoration: none;
    transition: var(--transition);
    border: none;
    cursor: pointer;
    font-family: inherit;
}

.mobile-dropdown-toggle:hover,
.mobile-dropdown-toggle.active {
    background: var(--primary-color);
    color: var(--light-text);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
}

.mobile-dropdown-toggle i:last-child {
    transition: transform 0.3s ease;
    font-size: 10px;
}

.mobile-dropdown.active .mobile-dropdown-toggle i:last-child {
    transform: rotate(180deg);
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ‚úÖ ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏‡¶ø‡¶≠ ‡¶¨‡ßç‡¶∞‡ßá‡¶ï‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü */
@media (min-width: 576px) {
    .mobile-dropdown-content {
        grid-template-columns: 1fr 1fr; /* ‡¶õ‡ßã‡¶ü ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡¶≤‡ßá‡¶ü‡ßá ‡ß® ‡¶ï‡¶≤‡¶æ‡¶Æ */
    }
}

@media (min-width: 768px) {
    .mobile-dropdown-content {
        grid-template-columns: 1fr 1fr 1fr; /* ‡¶¨‡ßú ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡¶≤‡ßá‡¶ü‡ßá ‡ß© ‡¶ï‡¶≤‡¶æ‡¶Æ */
    }
}

@media (min-width: 1024px) {
    .mobile-dropdown-content {
        grid-template-columns: 1fr 1fr 1fr 1fr; /* ‡¶°‡ßá‡¶∏‡ßç‡¶ï‡¶ü‡¶™‡ßá ‡ß™ ‡¶ï‡¶≤‡¶æ‡¶Æ */
    }
}

</style>   
<section class="header">
    <!-- Top Bar - Mobile Only -->
    <div class="top-bar" id="topBar">
        <div class="top-bar-content">
            <div class="contact-info">
                <span><i class="fas fa-phone"></i> ‡ß¶‡ßØ‡ß¨‡ß©‡ßÆ-‡ßß‡ßß‡ß©‡ß®‡ß®</span>
                <span><i class="fas fa-clock"></i> ‡¶∏‡¶ï‡¶æ‡¶≤ ‡ßß‡ß¶‡¶ü‡¶æ - ‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤ ‡ß´‡¶ü‡¶æ</span>
            </div>
            <div class="language-switcher" onclick="toggleLanguage()" tabindex="0">
                <img id="flag" src="https://flagcdn.com/w40/bd.png" alt="‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ">
                <span id="lang">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</span>
            </div>
        </div>
    </div>

    <!-- Desktop Navigation -->
    <nav class="navbar">
        <a href="Talimul Islam Academi.html" class="logo">
            <img src="img/talimul islam academy logo.png" alt="‡¶§‡¶æ‡¶≤‡¶ø‡¶Æ‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø">
        </a>

        <ul class="nav-menu" id="navMenu">
            <li class="nav-item">
                <a href="Talimul Islam Academi.html" class="nav-link active">
                    <i class="fas fa-home"></i>
                    <span>‡¶π‡ßã‡¶Æ</span>
                </a>
            </li>
            <li class="nav-item dropdown" onclick="toggleDropdown(this)">
                <a href="#" class="nav-link">
                    <i class="fas fa-book-open"></i>
                    <span>‡¶ï‡ßã‡¶∞‡ßç‡¶∏</span>
                    <i class="fas fa-chevron-down" style="margin-left: 2px; font-size: 8px;"></i>
                </a>
                <div class="dropdown-content">
                    <a href="#">‡¶∏‡¶ï‡¶≤ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏</a>
                    <a href="Live course.html">‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏</a>
                    <a href="#">‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶Ü‡¶á‡¶®</a>
                    <a href="#">‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶≠‡¶æ‡¶∑‡¶æ</a>
                    <a href="#">‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏</a>
                    <a href="#">‡¶´‡¶ø‡¶ï‡¶π ‡¶∂‡¶æ‡¶∏‡ßç‡¶§‡ßç‡¶∞</a>
                </div>
            </li>
            <li class="nav-item">
                <a href="Book.html" class="nav-link">
                    <i class="fas fa-book"></i>
                    <span>‡¶¨‡¶á</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="Teacher.html" class="nav-link">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <span>‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="Advisors.html" class="nav-link">
                    <i class="fas fa-book-reader"></i>
                    <span>‡¶â‡¶™‡¶¶‡ßá‡¶∑‡ßç‡¶ü‡¶æ</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="blog page.html" class="nav-link">
                    <i class="fas fa-blog"></i>
                    <span>‡¶¨‡ßç‡¶≤‡¶ó</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="About us.html" class="nav-link">
                    <i class="fas fa-info-circle"></i>
                    <span>‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="Contact.html" class="nav-link">
                    <i class="fas fa-envelope"></i>
                    <span>‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó</span>
                </a>
            </li>
        </ul>

        <!-- Desktop Search -->
        <div class="search-container">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶¨‡¶æ ‡¶¨‡¶á ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®..." id="searchInput">
            </div>
        </div>

        <div class="nav-actions">
            <!-- Language Switcher - Desktop Only -->
            <div class="language-switcher" onclick="toggleLanguage()" tabindex="0">
                <img id="desktopFlag" src="https://flagcdn.com/w40/bd.png" alt="‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ">
                <span id="desktopLang">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</span>
            </div>

            <button class="theme-toggle" onclick="toggleTheme()" title="‡¶•‡¶ø‡¶Æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®">
                <i class="fas fa-moon"></i>
            </button>
            
            <!-- Desktop Profile Dropdown (shown when logged in) -->
            <div class="profile-dropdown desktop-profile-dropdown" id="desktopProfileDropdown">
                <div class="profile-icon" id="desktopProfileIcon" onclick="toggleProfileDropdown('desktopDropdownContent')">
                    <i class="fas fa-user"></i>
                </div>
                <!-- In your header section -->
<!-- In your header section -->
<div class="dropdown-content" id="desktopDropdownContent">
    <a href="#"><i class="fas fa-user"></i> ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø</a>
    <a href="Our-Course.html" class="nav-link"><i class="fas fa-book"></i> ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏</a>
    <a href="#" id="desktopLogoutButton"><i class="fas fa-sign-out-alt"></i> ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</a>
</div>
            </div>
            
            <!-- Single Login Button for Desktop (shown when not logged in) -->
            <button class="login-button" id="desktopLoginButton">
                <i class="fas fa-sign-in-alt"></i>
                <span>‡¶≤‡¶ó‡¶á‡¶®</span>
            </button>
        </div>
    </nav>

    <!-- Mobile Navigation -->
    <nav class="mobile-navbar">
        <div class="mobile-left">
            <button class="mobile-toggle" onclick="toggleMobileMenu()" aria-label="‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶Æ‡ßá‡¶®‡ßÅ">
                <i class="fas fa-bars"></i>
            </button>
            <a href="Talimul Islam Academi.html" class="logo">
                <img src="img/talimul islam academy logo.png" alt="‡¶§‡¶æ‡¶≤‡¶ø‡¶Æ‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø">
            </a>
        </div>
        
        <div class="mobile-right">
            <button class="mobile-search-toggle" onclick="toggleMobileSearch()" title="‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡ßÅ‡¶®">
                <i class="fas fa-search"></i>
            </button>
            
            <button class="theme-toggle" onclick="toggleTheme()" title="‡¶•‡¶ø‡¶Æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®">
                <i class="fas fa-moon"></i>
            </button>
            
            <!-- Mobile Profile Dropdown (shown when logged in) -->
            <div class="profile-dropdown mobile-profile-dropdown" id="mobileProfileDropdown">
                <div class="profile-icon" id="mobileProfileIcon" onclick="toggleProfileDropdown('mobileDropdownContent')">
                    <i class="fas fa-user"></i>
                </div>
                <div class="dropdown-content" id="mobileDropdownContent">
                    <a href="#"><i class="fas fa-user"></i> ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø</a>
                        <a href="Our-Course.html" class="nav-link"><i class="fas fa-book"></i> ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏</a>
                    <a href="#" id="mobileLogoutButton"><i class="fas fa-sign-out-alt"></i> ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</a>
                </div>
            </div>
            
            <!-- Single Login Button for Mobile (shown when not logged in) -->
            <button class="login-button" id="mobileLoginButton">
                <i class="fas fa-sign-in-alt"></i>
                <span>‡¶≤‡¶ó‡¶á‡¶®</span>
            </button>
        </div>
    </nav>

    <!-- Mobile Search Bar -->
    <div class="mobile-search-bar" id="mobileSearchBar">
        <div class="mobile-search-box">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶¨‡¶æ ‡¶¨‡¶á ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®..." id="mobileSearchInput">
            <button class="search-close-btn" onclick="closeMobileSearch()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div class="mobile-nav-menu" id="mobileNavMenu">
        <div class="mobile-nav-links">
            <a href="Talimul Islam Academi.html" class="nav-link active">
                <i class="fas fa-home"></i>
                ‡¶π‡ßã‡¶Æ
            </a>
            <div class="mobile-dropdown" id="mobileCoursesDropdown">
            <button class="mobile-dropdown-toggle" onclick="toggleMobileDropdown('mobileCoursesDropdown')">
                <span>
                    <i class="fas fa-book-open"></i>
                    ‡¶ï‡ßã‡¶∞‡ßç‡¶∏
                </span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="mobile-dropdown-content">
                <a href="#">‡¶∏‡¶ï‡¶≤ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏</a>
                <a href="Live course.html">‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏</a>
                <a href="#">‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶Ü‡¶á‡¶®</a>
                <a href="#">‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶≠‡¶æ‡¶∑‡¶æ</a>
                <a href="#">‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏</a>
                <a href="#">‡¶´‡¶ø‡¶ï‡¶π ‡¶∂‡¶æ‡¶∏‡ßç‡¶§‡ßç‡¶∞</a>
            </div>
        </div>
            <a href="Book.html" class="nav-link">
                <i class="fas fa-book"></i>
                ‡¶¨‡¶á
            </a>
            <a href="Teacher.html" class="nav-link">
                <i class="fas fa-chalkboard-teacher"></i>
                ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï
            </a>
            <a href="Advisors.html" class="nav-link">
                <i class="fas fa-book-reader"></i>
                ‡¶â‡¶™‡¶¶‡ßá‡¶∑‡ßç‡¶ü‡¶æ
            </a>
            <a href="blog page.html" class="nav-link">
                <i class="fas fa-blog"></i>
                ‡¶¨‡ßç‡¶≤‡¶ó
            </a>
            <a href="About us.html" class="nav-link">
                <i class="fas fa-info-circle"></i>
                ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá
            </a>
            <a href="Contact.html" class="nav-link">
                <i class="fas fa-envelope"></i>
                ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó
            </a>
        </div>
    </div>
</section>
<div class="blur-overlay" id="mainBlurOverlay"></div>
<div class="login-popup" id="loginPopup">
    <button class="close-login" onclick="closeLoginPopup()">
        <i class="fas fa-times"></i>
    </button>
    <div class="container">        
        <div id="loginSection">
            <h1 class="title">‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h1>
            
            <div class="success-message" id="registrationSuccess">
                ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶è‡¶ñ‡¶® ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
            </div>
            
            <form id="loginForm" class="form-container" autocomplete="off">
                <div class="form-group">
                    <label for="loginEmail">‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label>
                    <input name="login_email" id="loginEmail" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" autocomplete="off">
                    <p class="error-message" id="loginEmailError">‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>
                
                <div class="form-group">
                    <label for="loginPassword">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</label>
                    <div class="password-container">
                        <input type="password" name="login_password" id="loginPassword" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" autocomplete="off">
                        <button type="button" class="toggle-password" onclick="togglePasswordVisibility('loginPassword', 'loginPasswordToggle')" id="loginPasswordToggle">‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                    </div>
                    <p class="error-message" id="loginPasswordError">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®</p>
                </div>
                
                <button type="submit" class="button">‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                
                <div class="form-footer">
                    ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡ßá‡¶á? <a href="#" onclick="toggleForm('emailCheck'); return false;">‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®</a>
                    <br>
                    <a href="#" onclick="toggleForm('forgotPassword'); return false;">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≠‡ßÅ‡¶≤‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡¶®?</a>
                </div>
            </form>
        </div>
        
        <!-- ‡¶ß‡¶æ‡¶™ ‡ßß: ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶ö‡ßá‡¶ï ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="emailCheckSection">
            <h1 class="title">‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®</h1>
            
            <form id="emailCheckForm" class="form-container">
                <div class="form-group">
                    <label for="checkEmail">‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label>
                    <input type="email" id="checkEmail" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
                    <p class="error-message" id="checkEmailError">‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>
                
                <button type="submit" class="button">‡¶è‡¶ó‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶®</button>
                
                <div class="form-footer">
                    ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶Ü‡¶õ‡ßá? <a href="#" onclick="toggleForm('login'); return false;">‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</a>
                </div>
            </form>
        </div>
        
        <!-- ‡¶ß‡¶æ‡¶™ ‡ß®: OTP ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="otpVerificationSection">
            <h1 class="title">‡¶Ö‡¶ü‡¶ø‡¶™‡¶ø ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡¶∞‡¶£</h1>
            
            <form id="otpVerificationForm" class="form-container">
                <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá (<span id="userEmail"></span>) ‡ß™ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶Ö‡¶ü‡¶ø‡¶™‡¶ø ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá</p>
                
                <div class="otp-container">
                    <label>‡¶Ö‡¶ü‡¶ø‡¶™‡¶ø ‡¶¶‡¶ø‡¶®</label>
                    <div class="otp-input">
                        <input type="text" maxlength="1" id="otp1" class="otp-digit" inputmode="numeric" pattern="[0-9]*">
                        <input type="text" maxlength="1" id="otp2" class="otp-digit" inputmode="numeric" pattern="[0-9]*">
                        <input type="text" maxlength="1" id="otp3" class="otp-digit" inputmode="numeric" pattern="[0-9]*">
                        <input type="text" maxlength="1" id="otp4" class="otp-digit" inputmode="numeric" pattern="[0-9]*">
                    </div>
                    <p class="error-message" id="otpError">‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶Ö‡¶ü‡¶ø‡¶™‡¶ø ‡¶¶‡¶ø‡¶®</p>
                    
                    <div class="timer" id="otpTimer">‡¶¨‡¶æ‡¶ï‡¶ø ‡¶∏‡¶Æ‡¶Ø‡¶º: <span id="timer">02:00</span></div>
                    <button type="button" class="resend-button" id="resendOtp" disabled>‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡¶Ø‡¶º ‡¶Ö‡¶ü‡¶ø‡¶™‡¶ø ‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
                </div>
                
                <button type="submit" class="button">‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                
                <div class="form-footer">
                    <a href="#" onclick="toggleForm('emailCheck'); return false;">‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</a>
                </div>
            </form>
        </div>
        
        <!-- ‡¶ß‡¶æ‡¶™ ‡ß©: ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="signupSection">
            <h1 class="title">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h1>
            
            <form id="signupForm" class="form-container">
                <div class="form-group">
                    <label for="signupName">‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ</label>
                    <input type="text" id="signupName" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
                    <p class="error-message" id="signupNameError">‡¶®‡¶æ‡¶Æ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®</p>
                </div>
                
                <div class="form-group">
                    <label for="signupPassword">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</label>
                    <div class="password-container">
                        <input type="password" id="signupPassword" placeholder="‡¶è‡¶ï‡¶ü‡¶ø ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
                        <button type="button" class="toggle-password" onclick="togglePasswordVisibility('signupPassword', 'signupPasswordToggle')" id="signupPasswordToggle">‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                    </div>
                    <p class="error-message" id="signupPasswordError">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá</p>
                </div>
                
                <div class="form-group">
                    <label for="signupConfirmPassword">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                    <div class="password-container">
                        <input type="password" id="signupConfirmPassword" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
                        <button type="button" class="toggle-password" onclick="togglePasswordVisibility('signupConfirmPassword', 'confirmPasswordToggle')" id="confirmPasswordToggle">‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                    </div>
                    <p class="error-message" id="signupConfirmPasswordError">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ</p>
                </div>
                
                <button type="submit" class="button">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </form>
        </div>
        
        <!-- ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≠‡ßÅ‡¶≤‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡¶® ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="forgotPasswordSection">
            <h1 class="title">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</h1>
            
            <form id="forgotPasswordForm" class="form-container">
                <div class="form-group">
                    <label for="forgotEmail">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßç‡¶° ‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label>
                    <input type="email" id="forgotEmail" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
                    <p class="error-message" id="forgotEmailError">‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>
                
                <button type="submit" class="button">OTP ‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
                
                <div class="form-footer">
                    <a href="#" onclick="toggleForm('login'); return false;">‡¶≤‡¶ó‡¶á‡¶® ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶Ø‡¶º ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</a>
                </div>
            </form>
        </div>
        
        <!-- ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="resetPasswordSection">
            <h1 class="title">‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</h1>
            
            <form id="resetPasswordForm" class="form-container">
                <div class="form-group">
                    <label for="resetNewPassword">‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</label>
                    <div class="password-container">
                        <input type="password" id="resetNewPassword" placeholder="‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
                        <button type="button" class="toggle-password" onclick="togglePasswordVisibility('resetNewPassword', 'resetPasswordToggle')" id="resetPasswordToggle">‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                    </div>
                    <p class="error-message" id="resetNewPasswordError">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá</p>
                </div>
                
                <div class="form-group">
                    <label for="resetConfirmPassword">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                    <div class="password-container">
                        <input type="password" id="resetConfirmPassword" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
                        <button type="button" class="toggle-password" onclick="togglePasswordVisibility('resetConfirmPassword', 'resetConfirmPasswordToggle')" id="resetConfirmPasswordToggle">‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                    </div>
                    <p class="error-message" id="resetConfirmPasswordError">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ</p>
                </div>
                
                <button type="submit" class="button">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                
                <div class="form-footer">
                    <a href="#" onclick="toggleForm('login'); return false;">‡¶≤‡¶ó‡¶á‡¶® ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶Ø‡¶º ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</a>
                </div>
            </form>
        </div>
    </div>
    
    <!-- ‡¶∏‡¶æ‡¶ï‡¶∏‡ßá‡¶∏ ‡¶Æ‡¶°‡¶æ‡¶≤ -->
    <div class="modal" id="successModal">
        <div class="modal-content">
            <h2 class="modal-title">‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®!</h2>
            <p class="modal-body">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶è‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§</p>
            <button class="modal-button" id="autoLoginButton">‡¶¨‡ßÅ‡¶ù‡ßá‡¶õ‡¶ø ‡¶ì ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </div>
    </div>
    
    <!-- ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶∏‡¶æ‡¶ï‡¶∏‡ßá‡¶∏ ‡¶Æ‡¶°‡¶æ‡¶≤ -->
    <div class="modal" id="passwordResetSuccessModal">
        <div class="modal-content">
            <h2 class="modal-title">‡¶∏‡¶´‡¶≤!</h2>
            <p class="modal-body">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶è‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§</p>
            <button class="modal-button" id="goToLoginButton">‡¶≤‡¶ó‡¶á‡¶® ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶Ø‡¶º ‡¶Ø‡¶æ‡¶®</button>
        </div>
    </div>
</div>
<script>
    // ====================
    // Language Toggle Module
    // ====================
    const LanguageModule = (() => {
        const languages = {
            en: {
                flag: 'https://flagcdn.com/w40/us.png',
                name: 'English',
                alt: 'English'
            },
            bn: {
                flag: 'https://flagcdn.com/w40/bd.png',
                name: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ',
                alt: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ'
            }
        };

        let currentLang = 'bn';

        const toggleLanguage = () => {
            currentLang = currentLang === 'en' ? 'bn' : 'en';
            const lang = languages[currentLang];
            
            // Update mobile language switcher
            const flag = document.getElementById('flag');
            const langText = document.getElementById('lang');
            if (flag && langText) {
                flag.src = lang.flag;
                flag.alt = lang.alt;
                langText.textContent = lang.name;
            }

            // Update desktop language switcher
            const desktopFlag = document.getElementById('desktopFlag');
            const desktopLangText = document.getElementById('desktopLang');
            if (desktopFlag && desktopLangText) {
                desktopFlag.src = lang.flag;
                desktopFlag.alt = lang.alt;
                desktopLangText.textContent = lang.name;
            }

            console.log('Language switched to:', currentLang);
        };

        return {
            toggleLanguage
        };
    })();

    // ====================
    // Theme Toggle Module
    // ====================
    const ThemeModule = (() => {
        const toggleTheme = () => {
            const body = document.body;
            const isDark = body.getAttribute('data-theme') === 'dark';
            
            body.setAttribute('data-theme', isDark ? 'light' : 'dark');
            
            // Update icon
            const icons = document.querySelectorAll('.theme-toggle i');
            icons.forEach(icon => {
                icon.className = isDark ? 'fas fa-moon' : 'fas fa-sun';
            });
        };

        return {
            toggleTheme
        };
    })();

    // ====================
    // Mobile Menu Module
    // ====================
    const MobileMenuModule = (() => {
        const toggleMobileMenu = () => {
            const mobileNavMenu = document.getElementById('mobileNavMenu');
            const toggleIcon = document.querySelector('.mobile-toggle i');
            
            if (mobileNavMenu && toggleIcon) {
                const isActive = mobileNavMenu.classList.contains('active');
                
                if (isActive) {
                    mobileNavMenu.classList.remove('active');
                    toggleIcon.className = 'fas fa-bars';
                } else {
                    mobileNavMenu.classList.add('active');
                    toggleIcon.className = 'fas fa-times';
                    // Close search bar if open
                    SearchModule.closeMobileSearch();
                }
            }
        };

        return {
            toggleMobileMenu
        };
    })();

    // ====================
    // Search Module
    // ====================
    const SearchModule = (() => {
        const toggleMobileSearch = () => {
            const searchBar = document.getElementById('mobileSearchBar');
            const searchInput = document.getElementById('mobileSearchInput');
            
            if (searchBar) {
                const isActive = searchBar.classList.contains('active');
                
                if (isActive) {
                    closeMobileSearch();
                } else {
                    searchBar.classList.add('active');
                    // Close mobile menu if open
                    const mobileNavMenu = document.getElementById('mobileNavMenu');
                    const toggleIcon = document.querySelector('.mobile-toggle i');
                    if (mobileNavMenu && mobileNavMenu.classList.contains('active')) {
                        mobileNavMenu.classList.remove('active');
                        if (toggleIcon) toggleIcon.className = 'fas fa-bars';
                    }
                    // Focus on search input
                    setTimeout(() => {
                        if (searchInput) searchInput.focus();
                    }, 300);
                }
            }
        };

        const closeMobileSearch = () => {
            const searchBar = document.getElementById('mobileSearchBar');
            const searchInput = document.getElementById('mobileSearchInput');
            
            if (searchBar) {
                searchBar.classList.remove('active');
                if (searchInput) searchInput.value = '';
            }
        };

        const handleSearch = (query) => {
            if (query && query.trim()) {
                alert(`‡¶ñ‡ßÅ‡¶Å‡¶ú‡¶õ‡ßá‡¶®: "${query}"`);
                console.log('Searching for:', query);
            }
        };

        return {
            toggleMobileSearch,
            closeMobileSearch,
            handleSearch
        };
    })();

    // ====================
    // Dropdown Module
    // ====================
    const DropdownModule = (() => {
        const toggleDropdown = (element) => {
            const dropdown = element.querySelector('.dropdown-content');
            if (dropdown) {
                const isVisible = dropdown.style.display === 'block';
                dropdown.style.display = isVisible ? 'none' : 'block';
            }
        };

        const toggleProfileDropdown = (dropdownId) => {
            // Close all other dropdowns first
            document.querySelectorAll('.dropdown-content').forEach(dropdown => {
                if (dropdown.id !== dropdownId) {
                    dropdown.classList.remove('show-dropdown');
                }
            });
            
            // Toggle the clicked dropdown
            const dropdown = document.getElementById(dropdownId);
            dropdown.classList.toggle('show-dropdown');
            
            // For mobile, adjust position if needed
            if (window.innerWidth <= 1080) {
                const profileIcon = document.getElementById(dropdownId.replace('DropdownContent', 'ProfileIcon'));
                if (profileIcon && dropdown) {
                    const rect = profileIcon.getBoundingClientRect();
                    dropdown.style.right = '10px'; // ‡¶°‡¶æ‡¶® ‡¶¶‡¶ø‡¶ï‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶∏‡ßç‡¶™‡ßá‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                    dropdown.style.left = 'auto';
                    dropdown.style.top = `${rect.bottom + window.scrollY + 5}px`; // ‡¶Ü‡¶á‡¶ï‡¶®‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶™‡¶ú‡¶ø‡¶∂‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
                }
            }
        };

        // Close dropdown when clicking outside (for mobile)
        const setupDropdownCloseListeners = () => {
            document.addEventListener('click', function(event) {
                const desktopProfileIcon = document.getElementById('desktopProfileIcon');
                const desktopDropdown = document.getElementById('desktopDropdownContent');
                const mobileProfileIcon = document.getElementById('mobileProfileIcon');
                const mobileDropdown = document.getElementById('mobileDropdownContent');
                
                // Check if click is outside profile dropdowns
                const isDesktopClickOutside = desktopProfileIcon && !desktopProfileIcon.contains(event.target) && 
                                            desktopDropdown && !desktopDropdown.contains(event.target);
                
                const isMobileClickOutside = mobileProfileIcon && !mobileProfileIcon.contains(event.target) && 
                                           mobileDropdown && !mobileDropdown.contains(event.target);
                
                if (isDesktopClickOutside) {
                    desktopDropdown.classList.remove('show-dropdown');
                }
                
                if (isMobileClickOutside) {
                    mobileDropdown.classList.remove('show-dropdown');
                }
            });
        };

        return {
            toggleDropdown,
            toggleProfileDropdown,
            setupDropdownCloseListeners
        };
    })();

    // ====================
    // Scroll Module
    // ====================
    const ScrollModule = (() => {
        let lastScrollTop = 0;
        let isScrolling = false;
        let scrollStartPosition = 0;

        const initScrollHide = () => {
            window.addEventListener('scroll', () => {
                const topBar = document.getElementById('topBar');
                if (topBar && window.innerWidth <= 1080) {
                    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                    
                    if (!isScrolling) {
                        isScrolling = true;
                        scrollStartPosition = scrollTop;
                    }
                    
                    if (scrollTop > 0 && scrollTop > scrollStartPosition) {
                        topBar.classList.add('hidden');
                    }
                    
                    if (scrollTop === 0) {
                        topBar.classList.remove('hidden');
                        isScrolling = false;
                    }
                    
                    lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
                }
            });

            // Reset isScrolling when scroll stops
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    if (window.pageYOffset === 0) {
                        isScrolling = false;
                    }
                }, 150);
            });
        };

        const initNavbarScrollEffect = () => {
            window.addEventListener('scroll', function() {
                const navbar = document.querySelector('.mobile-navbar');
                if (navbar && window.innerWidth <= 1080) {
                    if (window.scrollY > 50) {
                        navbar.classList.add('fixed');
                    } else {
                        navbar.classList.remove('fixed');
                    }
                }
            });
        };

        return {
            initScrollHide,
            initNavbarScrollEffect
        };
    })();

    // ====================
    // Navigation Module
    // ====================
    const NavigationModule = (() => {
        const setActiveNavLink = (clickedLink) => {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            clickedLink.classList.add('active');
        };

        const initNavLinks = () => {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    if (!this.parentElement.classList.contains('dropdown')) {
                        setActiveNavLink(this);
                    }
                });
            });
        };

        return {
            initNavLinks
        };
    })();

    // ====================
    // Login Module
    // ====================
    const LoginModule = (() => {
        // ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú
        const localUsers = JSON.parse(localStorage.getItem('localUsers')) || [];
        
        // ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶≠‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶¨‡¶≤
        let otpTimer;
        let tokenRefreshInterval;
        let currentUserEmail = '';
        let generatedOTP = '';
        
        // ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶≠‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶¨‡¶≤
        let resetPasswordEmail = '';
        let isOTPVerifiedForReset = false; // Added flag to track OTP verification

        // ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡¶∏‡¶π ‡¶´‡ßá‡¶ö ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        const fetchWithTimeout = async (url, options, timeout = 5000) => {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), timeout);

            try {
                const response = await fetch(url, {
                    ...options,
                    signal: controller.signal
                });
                clearTimeout(timeoutId);
                return response;
            } catch (error) {
                clearTimeout(timeoutId);
                if (error.name === 'AbortError') {
                    throw new Error('‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
                }
                throw error;
            }
        };

        // ‡¶´‡¶∞‡ßç‡¶Æ ‡¶ü‡¶ó‡¶≤ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® - ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ï‡ßã‡¶™‡ßá ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß
        window.toggleForm = function(formType) {
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('emailCheckSection').style.display = 'none';
            document.getElementById('otpVerificationSection').style.display = 'none';
            document.getElementById('signupSection').style.display = 'none';
            document.getElementById('forgotPasswordSection').style.display = 'none';
            document.getElementById('resetPasswordSection').style.display = 'none';
            
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('emailCheckForm').style.display = 'none';
            document.getElementById('otpVerificationForm').style.display = 'none';
            document.getElementById('signupForm').style.display = 'none';
            document.getElementById('forgotPasswordForm').style.display = 'none';
            document.getElementById('resetPasswordForm').style.display = 'none';
            
            if (formType === 'login') {
                document.getElementById('loginSection').style.display = 'block';
                document.getElementById('loginForm').style.display = 'block';
                document.getElementById('loginEmail').focus();
            } else if (formType === 'emailCheck') {
                document.getElementById('emailCheckSection').style.display = 'block';
                document.getElementById('emailCheckForm').style.display = 'block';
                document.getElementById('checkEmail').focus();
            } else if (formType === 'otpVerification') {
                document.getElementById('otpVerificationSection').style.display = 'block';
                document.getElementById('otpVerificationForm').style.display = 'block';
                document.getElementById('otp1').focus();
            } else if (formType === 'signup') {
                document.getElementById('signupSection').style.display = 'block';
                document.getElementById('signupForm').style.display = 'block';
                document.getElementById('signupName').focus();
            } else if (formType === 'forgotPassword') {
                document.getElementById('forgotPasswordSection').style.display = 'block';
                document.getElementById('forgotPasswordForm').style.display = 'block';
                document.getElementById('forgotEmail').focus();
            } else if (formType === 'resetPassword') {
                document.getElementById('resetPasswordSection').style.display = 'block';
                document.getElementById('resetPasswordForm').style.display = 'block';
                document.getElementById('resetNewPassword').focus();
            }
        };
        
        // ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≠‡¶ø‡¶ú‡¶ø‡¶¨‡¶ø‡¶≤‡¶ø‡¶ü‡¶ø ‡¶ü‡¶ó‡¶≤
        function togglePasswordVisibility(inputId, toggleId) {
            const passwordInput = document.getElementById(inputId);
            const toggleButton = document.getElementById(toggleId);
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleButton.textContent = '‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®';
            } else {
                passwordInput.type = 'password';
                toggleButton.textContent = '‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
            }
        }
        
        // OTP ‡¶ü‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®
        function startOTPTimer() {
            let totalSeconds = 120; // 2 ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü
            
            clearInterval(otpTimer);
            document.getElementById('resendOtp').disabled = true;
            
            // ‡¶ü‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞ ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            document.getElementById('timer').textContent = 
                (minutes < 10 ? '0' + minutes : minutes) + ':' + 
                (seconds < 10 ? '0' + seconds : seconds);
            
            otpTimer = setInterval(function() {
                totalSeconds--;
                
                const minutes = Math.floor(totalSeconds / 60);
                const seconds = totalSeconds % 60;
                
                document.getElementById('timer').textContent = 
                    (minutes < 10 ? '0' + minutes : minutes) + ':' + 
                    (seconds < 10 ? '0' + seconds : seconds);
                
                if (totalSeconds <= 0) {
                    clearInterval(otpTimer);
                    document.getElementById('resendOtp').disabled = false;
                }
            }, 1000);
        }
        
        // ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶∏‡ßç‡¶™‡¶ø‡¶®‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
        function createLoader() {
            const loader = document.createElement('div');
            loader.className = 'loader';
            loader.id = 'pageLoader';
            loader.style.zIndex = '10000';
            
            const spinner = document.createElement('div');
            spinner.className = 'spinner';
            
            loader.appendChild(spinner);
            document.body.appendChild(loader);
        }
        
        // ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
        function showLoading() {
            if (!document.getElementById('pageLoader')) {
                createLoader();
            }
            document.getElementById('pageLoader').style.display = 'flex';
        }
        
        // ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®
        function hideLoading() {
            const loader = document.getElementById('pageLoader');
            if (loader) {
                loader.style.display = 'none';
            }
        }
        
        // ‡¶è‡¶∞‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
        function showError(elementId, message) {
            const errorElement = document.getElementById(elementId);
            errorElement.textContent = message;
            errorElement.classList.add('show-error');
        }
        
        // ‡¶è‡¶∞‡¶∞ ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®
        function hideError(elementId) {
            document.getElementById(elementId).classList.remove('show-error');
        }
        
        // ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        // ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
        function showNotification(message, type = 'success') {
            const existingNotification = document.getElementById('customNotification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            const notification = document.createElement('div');
            notification.id = 'customNotification';
            notification.className = `custom-notification ${type}`;
            
            notification.innerHTML = `
                <div class="notification-content">
                    <span class="notification-message">${message}</span>
                    <span class="notification-close">&times;</span>
                </div>
            `;
            
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.backgroundColor = type === 'success' ? '#4CAF50' : '#f44336';
            notification.style.color = 'white';
            notification.style.padding = '15px';
            notification.style.borderRadius = '5px';
            notification.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
            notification.style.zIndex = '9999';
            notification.style.transition = 'all 0.3s ease';
            notification.style.opacity = '0';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '1';
            }, 10);
            
            const closeButton = notification.querySelector('.notification-close');
            closeButton.style.marginLeft = '15px';
            closeButton.style.cursor = 'pointer';
            closeButton.style.fontWeight = 'bold';
            
            closeButton.addEventListener('click', function() {
                notification.style.opacity = '0';
                setTimeout(() => {
                    notification.remove();
                }, 300);
            });
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 5000);
        }
        
        // ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®
        function openModal() {
            document.getElementById('successModal').style.display = 'flex';
        }
        
        // ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
        function closeModal() {
            document.getElementById('successModal').style.display = 'none';
            toggleForm('login');
        }
        
        // ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶∏‡¶æ‡¶ï‡¶∏‡ßá‡¶∏ ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®
        function openPasswordResetSuccessModal() {
            document.getElementById('passwordResetSuccessModal').style.display = 'flex';
        }
        
        // ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶∏‡¶æ‡¶ï‡¶∏‡ßá‡¶∏ ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
        function closePasswordResetSuccessModal() {
            document.getElementById('passwordResetSuccessModal').style.display = 'none';
            toggleForm('login');
        }
        
        // 4-digit OTP ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        function generateOTP() {
            generatedOTP = Math.floor(1000 + Math.random() * 9000).toString();
            console.log('Generated OTP:', generatedOTP);
            return generatedOTP;
        }
        
        // OTP ‡¶™‡¶æ‡¶†‡¶æ‡¶® (‡¶∏‡¶ø‡¶Æ‡ßÅ‡¶≤‡ßá‡¶ü‡ßá‡¶°)
        // OTP ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
async function sendOTP(email, otp) {
    showLoading();
    try {
        const response = await fetch('https://tttt-tbz0.onrender.com/api/send-otp', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ email, otp })
        });

        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.message || 'OTP ‡¶™‡¶æ‡¶†‡¶æ‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
        }

        return true;
    } catch (error) {
        console.error('Error sending OTP:', error);
        showNotification('error', error.message || 'OTP ‡¶™‡¶æ‡¶†‡¶æ‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
        return false;
    } finally {
        hideLoading();
    }
}
        
// OTP ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        // OTP ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
async function verifyOTP(email, otp) {
  showLoading();
  try {
    const response = await fetch('https://tttt-tbz0.onrender.com/api/verify-otp', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ email, otp })
    });

    const result = await response.json();
    
    if (!response.ok) {
      throw new Error(result.message || 'OTP verification failed');
    }

    return result.success;
  } catch (error) {
    console.error('Error verifying OTP:', error);
    // Show user-friendly error message
    let errorMessage = 'OTP verification failed';
    if (error.message.includes('expired')) {
      errorMessage = 'OTP has expired. Please request a new one.';
    } else if (error.message.includes('match')) {
      errorMessage = 'Incorrect OTP. Please try again.';
    }
    showNotification(errorMessage, 'error');
    return false;
  } finally {
    hideLoading();
  }
}     

// ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
       // Registration function update
async function registerUser(name, email, password) {
    showLoading();
    try {
        const response = await fetch('https://tttt-tbz0.onrender.com/api/register', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                name: name,
                email: email,
                password: password
            })
        });

        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.message || '‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
        }

        // Store token and user data locally
        localStorage.setItem('authToken', result.token);
        localStorage.setItem('currentUser', JSON.stringify(result.user));
        
        showNotification('‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
        document.getElementById('registrationSuccess').style.display = 'block';
        return true;
    } catch (error) {
        console.error('Registration error:', error);
        showNotification(error.message || '‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'error');
        return false;
    } finally {
        hideLoading();
    }
}
        // ‡¶≤‡¶ó‡¶á‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞
        // Login function update
async function loginUser(email, password) {
    showLoading();
    try {
        const response = await fetch('https://tttt-tbz0.onrender.com/api/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                email: email,
                password: password
            })
        });

        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.message || '‡¶≤‡¶ó‡¶á‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
        }

        // Store token and user data locally
        localStorage.setItem('authToken', result.token);
        localStorage.setItem('currentUser', JSON.stringify(result.user));
        
        checkLoginStatus();
        checkCourseAccess();
        
        document.querySelector('.login-popup').classList.remove('active');
        document.querySelector('.blur-overlay').classList.remove('active');
        
        showNotification('‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
        return true;
    } catch (error) {
        console.error('Login error:', error);
        showNotification(error.message || '‡¶≤‡¶ó‡¶á‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'error');
        return false;
    } finally {
        hideLoading();
    }
}

        // ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
       // Password reset function update
async function resetPassword(email, newPassword) {
    showLoading();
    try {
        const response = await fetch('https://tttt-tbz0.onrender.com/api/reset-password', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                email: email,
                newPassword: newPassword
            })
        });

        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.message || '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
        }

        showNotification('‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
        setTimeout(() => {
            toggleForm('login');
        }, 2000);
        return true;
    } catch (error) {
        console.error('Password reset error:', error);
        showNotification(error.message || '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'error');
        return false;
    } finally {
        hideLoading();
    }
}
        // ‡¶≤‡¶ó‡¶á‡¶® ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
        function checkLoginStatus() {
            const token = localStorage.getItem('authToken');
            const user = JSON.parse(localStorage.getItem('currentUser'));
            
            const desktopLoginButton = document.getElementById('desktopLoginButton');
            const mobileLoginButton = document.getElementById('mobileLoginButton');
            const desktopProfileDropdown = document.getElementById('desktopProfileDropdown');
            const mobileProfileDropdown = document.getElementById('mobileProfileDropdown');
            const desktopProfileIcon = document.getElementById('desktopProfileIcon');
            const mobileProfileIcon = document.getElementById('mobileProfileIcon');
            
            if (token && user) {
                if (desktopLoginButton) desktopLoginButton.style.display = 'none';
                if (mobileLoginButton) mobileLoginButton.style.display = 'none';
                
                if (desktopProfileDropdown) {
                    desktopProfileDropdown.style.display = 'block';
                    desktopProfileIcon.textContent = user.name.charAt(0).toUpperCase();
                }
                if (mobileProfileDropdown) {
                    mobileProfileDropdown.style.display = 'block';
                    mobileProfileIcon.textContent = user.name.charAt(0).toUpperCase();
                }
            } else {
                if (desktopLoginButton) desktopLoginButton.style.display = 'flex';
                if (mobileLoginButton) mobileLoginButton.style.display = 'flex';
                
                if (desktopProfileDropdown) desktopProfileDropdown.style.display = 'none';
                if (mobileProfileDropdown) mobileProfileDropdown.style.display = 'none';
            }
        }
        
        // ‡¶≤‡¶ó‡¶á‡¶® ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
        const handleLogin = () => {
            document.querySelector('.login-popup').classList.add('active');
            document.querySelector('.blur-overlay').classList.add('active');
            toggleForm('login');
        };
        
        // ‡¶≤‡¶ó‡¶á‡¶® ‡¶™‡¶™‡¶Ü‡¶™ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
        const closeLoginPopup = () => {
            document.querySelector('.login-popup').classList.remove('active');
            document.querySelector('.blur-overlay').classList.remove('active');
        };
        
        // ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        const handleLogout = () => {
            localStorage.removeItem('authToken');
            localStorage.removeItem('currentUser');
            
            checkLoginStatus();
            
            document.getElementById('desktopDropdownContent').classList.remove('show-dropdown');
            document.getElementById('mobileDropdownContent').classList.remove('show-dropdown');
            
            showNotification('‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§', 'success');
        };
        
        // ‡¶≤‡¶ó‡¶á‡¶® ‡¶´‡¶∞‡ßç‡¶Æ ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
        const initLoginForms = () => {
            // ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶ö‡ßá‡¶ï ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶®
            document.getElementById('emailCheckForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const email = document.getElementById('checkEmail').value.trim();
                
                if (!validateEmail(email)) {
                    showError('checkEmailError', '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®');
                    return;
                } else {
                    hideError('checkEmailError');
                }
                
                showLoading();
                try {
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    const userExists = localUsers.some(u => u.email === email);
                    
                    if (userExists) {
                        showError('checkEmailError', '‡¶è‡¶á ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡¶ü‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
                        return;
                    }
                    
                    const otp = generateOTP();
                    const otpSent = await sendOTP(email, otp);
                    
                    if (otpSent) {
                        currentUserEmail = email;
                        document.getElementById('userEmail').textContent = email;
                        toggleForm('otpVerification');
                        startOTPTimer();
                    }
                } catch (error) {
                    console.error('Error checking email:', error);
                    showNotification('‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'error');
                } finally {
                    hideLoading();
                }
            });
            
            // OTP ‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡¶Ø‡¶º ‡¶™‡¶æ‡¶†‡¶æ‡¶® ‡¶¨‡¶æ‡¶ü‡¶®
            document.getElementById('resendOtp').addEventListener('click', async function() {
                const otp = generateOTP();
                const otpSent = await sendOTP(currentUserEmail, otp);
                
                if (otpSent) {
                    startOTPTimer();
                }
            });
            
            // OTP ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶®
           // OTP ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶®
document.getElementById('otpVerificationForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const otp1 = document.getElementById('otp1').value;
    const otp2 = document.getElementById('otp2').value;
    const otp3 = document.getElementById('otp3').value;
    const otp4 = document.getElementById('otp4').value;
    
    const otp = otp1 + otp2 + otp3 + otp4;
    
    if (otp.length !== 4 || !/^\d+$/.test(otp)) {
        showError('otpError', '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡ß™ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶Ö‡¶ü‡¶ø‡¶™‡¶ø ‡¶¶‡¶ø‡¶®');
        return;
    }
    
    hideError('otpError');
    
    try {
        // ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶´‡ßç‡¶≤‡ßã ‡¶π‡¶≤‡ßá
        if (resetPasswordEmail) {
            const response = await fetch('https://tttt-tbz0.onrender.com/api/verify-reset-otp', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    email: resetPasswordEmail,
                    otp: otp
                })
            });
            
            const result = await response.json();
            
            if (!response.ok) {
                throw new Error(result.message || 'OTP verification failed');
            }
            
            if (result.success) {
                toggleForm('resetPassword');
            } else {
                showError('otpError', '‡¶Ö‡¶ü‡¶ø‡¶™‡¶ø ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ, ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®');
            }
        } 
        // ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶´‡ßç‡¶≤‡ßã ‡¶π‡¶≤‡ßá
        else {
            const verified = await verifyOTP(currentUserEmail, otp);
            
            if (verified) {
                toggleForm('signup');
            } else {
                showError('otpError', '‡¶Ö‡¶ü‡¶ø‡¶™‡¶ø ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ, ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®');
            }
        }
    } catch (error) {
        console.error('OTP verification error:', error);
        showError('otpError', error.message || '‡¶Ö‡¶ü‡¶ø‡¶™‡¶ø ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
    }
});
// ‡¶∏‡¶æ‡¶á‡¶®‡¶Ü‡¶™ ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶®
            document.getElementById('signupForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const name = document.getElementById('signupName').value.trim();
                const password = document.getElementById('signupPassword').value;
                const confirmPassword = document.getElementById('signupConfirmPassword').value;
                
                if (name.length < 2) {
                    showError('signupNameError', '‡¶®‡¶æ‡¶Æ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®');
                    return;
                } else {
                    hideError('signupNameError');
                }
                
                if (password.length < 6) {
                    showError('signupPasswordError', '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá');
                    return;
                } else {
                    hideError('signupPasswordError');
                }
                
                if (password !== confirmPassword) {
                    showError('signupConfirmPasswordError', '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ');
                    return;
                } else {
                    hideError('signupConfirmPasswordError');
                }
                
                const registrationSuccess = await registerUser(name, currentUserEmail, password);
                
                if (registrationSuccess) {
                    openModal();
                }
            });
            
            // ‡¶≤‡¶ó‡¶á‡¶® ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶®
            document.getElementById('loginForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const email = document.getElementById('loginEmail').value.trim();
                const password = document.getElementById('loginPassword').value;
                
                if (!validateEmail(email)) {
                    showError('loginEmailError', '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®');
                    return;
                } else {
                    hideError('loginEmailError');
                }
                
                if (password.length === 0) {
                    showError('loginPasswordError', '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®');
                    return;
                } else {
                    hideError('loginPasswordError');
                }
                
                await loginUser(email, password);
            });
            
            // ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≠‡ßÅ‡¶≤‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡¶® ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶®
            document.getElementById('forgotPasswordForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const email = document.getElementById('forgotEmail').value.trim();
                
                if (!validateEmail(email)) {
                    showError('forgotEmailError', '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®');
                    return;
                } else {
                    hideError('forgotEmailError');
                }
                
                showLoading();
                try {
                    const response = await fetch('https://tttt-tbz0.onrender.com/api/forgot-password', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ email })
                    });

                    const result = await response.json();
                    
                    if (!response.ok) {
                        showError('forgotEmailError', result.message || '‡¶è‡¶á ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡¶ü‡¶ø ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡¶Ø‡¶º');
                        return;
                    }

                    if (result.success) {
                        resetPasswordEmail = email;
                        document.getElementById('userEmail').textContent = email;
                        toggleForm('otpVerification');
                        startOTPTimer();
                        showNotification('OTP ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'success');
                    }
                } catch (error) {
                    console.error('Error in forgot password:', error);
                    showError('forgotEmailError', '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
                } finally {
                    hideLoading();
                }
            });
            
            // ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶®
            document.getElementById('resetPasswordForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const newPassword = document.getElementById('resetNewPassword').value;
    const confirmPassword = document.getElementById('resetConfirmPassword').value;
    
    if (newPassword.length < 6) {
        showError('resetNewPasswordError', '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá');
        return;
    } else {
        hideError('resetNewPasswordError');
    }
    
    if (newPassword !== confirmPassword) {
        showError('resetConfirmPasswordError', '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ');
        return;
    } else {
        hideError('resetConfirmPasswordError');
    }
    
    showLoading();
    try {
        const otp1 = document.getElementById('otp1').value;
        const otp2 = document.getElementById('otp2').value;
        const otp3 = document.getElementById('otp3').value;
        const otp4 = document.getElementById('otp4').value;
        const otp = otp1 + otp2 + otp3 + otp4;
        
        const response = await fetch('https://tttt-tbz0.onrender.com/api/reset-password', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                email: resetPasswordEmail,
                otp: otp,
                newPassword: newPassword
            })
        });
        
        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.message || '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
        }
        
        showNotification('‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
        setTimeout(() => {
            toggleForm('login');
        }, 2000);
        
    } catch (error) {
        console.error('Password reset error:', error);
        showError('resetNewPasswordError', error.message || '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
    } finally {
        hideLoading();
    }
});
            // ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï
            // ‡¶°‡ßá‡¶∏‡ßç‡¶ï‡¶ü‡¶æ‡¶™ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
document.getElementById('desktopDropdownContent').addEventListener('click', function(e) {
    const target = e.target.closest('a');
    
    if (target) {
        // ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø
        if (target.textContent.includes('‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤')) {
            e.preventDefault();
            const user = JSON.parse(localStorage.getItem('currentUser'));
            if (user) {
                alert(`‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø:\n‡¶®‡¶æ‡¶Æ: ${user.name}\n‡¶á‡¶Æ‡ßá‡¶á‡¶≤: ${user.email}`);
            } else {
                alert('‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§ ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
            }
        }
        // "‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏" ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ï‡¶∞‡¶¨‡ßá ‡¶®‡¶æ (‡¶∏‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶¨‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá)
    }
});
            // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
document.getElementById('mobileDropdownContent').addEventListener('click', function(e) {
    const target = e.target.closest('a');
    
    if (target) {
        // ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø
        if (target.textContent.includes('‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤')) {
            e.preventDefault();
            const user = JSON.parse(localStorage.getItem('currentUser'));
            if (user) {
                alert(`‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø:\n‡¶®‡¶æ‡¶Æ: ${user.name}\n‡¶á‡¶Æ‡ßá‡¶á‡¶≤: ${user.email}`);
            } else {
                alert('‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§ ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
            }
        }
        // "‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏" ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ï‡¶∞‡¶¨‡ßá ‡¶®‡¶æ
    }
});
            // ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï
            document.getElementById('desktopLogoutButton').addEventListener('click', function(e) {
                e.preventDefault();
                handleLogout();
            });
            
            document.getElementById('mobileLogoutButton').addEventListener('click', function(e) {
                e.preventDefault();
                handleLogout();
            });
            
            // OTP ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶Ö‡¶ü‡ßã-‡¶´‡ßã‡¶ï‡¶æ‡¶∏ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø
            // OTP ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶´‡¶ø‡¶≤‡ßç‡¶°‡ßá ‡¶Ö‡¶ü‡ßã ‡¶´‡ßã‡¶ï‡¶æ‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶®
const otpInputs = document.querySelectorAll('.otp-digit');
otpInputs.forEach((input, index) => {
    input.addEventListener('input', function(e) {
        if (this.value.length === 1) {
            if (index < otpInputs.length - 1) {
                otpInputs[index + 1].focus();
            }
        }
    });
    
    input.addEventListener('keydown', function(e) {
        if (e.key === 'Backspace' && this.value.length === 0) {
            if (index > 0) {
                otpInputs[index - 1].focus();
            }
        }
    });
});
            // ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
            document.getElementById('autoLoginButton').addEventListener('click', function() {
                closeModal();
                toggleForm('login');
                document.getElementById('loginEmail').value = currentUserEmail;
                document.getElementById('loginPassword').focus();
            });
            
            document.getElementById('goToLoginButton').addEventListener('click', function() {
                closePasswordResetSuccessModal();
                toggleForm('login');
            });
        };

        return {
            handleLogin,
            initLoginForms,
            checkLoginStatus,
            closeLoginPopup,
            handleLogout
        };
    })();

    // ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶¨‡ßç‡¶≤‡¶æ‡¶∞ ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü
    function setHeaderBlur(active) {
        const header = document.querySelector('.header');
        if (!header) return;
        if (active) {
            header.style.filter = 'blur(5px)';
            header.style.pointerEvents = 'none';
        } else {
            header.style.filter = '';
            header.style.pointerEvents = '';
        }
    }

    // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶ü‡¶™-‡¶¨‡¶æ‡¶∞ ‡¶¨‡ßç‡¶≤‡¶æ‡¶∞ ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü
    function setTopBarBlur(active) {
        const topBar = document.getElementById('topBar');
        if (!topBar) return;
        if (active) {
            topBar.style.filter = 'blur(5px)';
            topBar.style.pointerEvents = 'none';
        } else {
            topBar.style.filter = '';
            topBar.style.pointerEvents = '';
        }
    }

    // ‡¶¨‡ßç‡¶≤‡¶æ‡¶∞ ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
    const blurOverlay = document.getElementById('mainBlurOverlay');
    const loginPopup = document.querySelector('.login-popup');
    function updateBlurEffect() {
        const isActive = blurOverlay.classList.contains('active');
        setHeaderBlur(isActive);
        setTopBarBlur(isActive);
    }
    const observer = new MutationObserver(updateBlurEffect);
    observer.observe(blurOverlay, { attributes: true, attributeFilter: ['class'] });

    if (loginPopup) {
        const popupObserver = new MutationObserver(updateBlurEffect);
        popupObserver.observe(loginPopup, { attributes: true, attributeFilter: ['class'] });
    }

    // DOM ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
    document.addEventListener('DOMContentLoaded', function() {
        LoginModule.initLoginForms();
        LoginModule.checkLoginStatus();
        DropdownModule.setupDropdownCloseListeners();
        
        // ‡¶≤‡¶ó‡¶á‡¶® ‡¶¨‡¶æ‡¶ü‡¶® ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞ ‡¶∏‡¶Ç‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®
        document.querySelectorAll('.login-button').forEach(button => {
            button.addEventListener('click', LoginModule.handleLogin);
        });
        
        // ‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
        document.querySelectorAll('[onclick*="toggleForm"]').forEach(link => {
            link.addEventListener('click', function(e) {
                if (this.getAttribute('onclick').includes('emailCheck')) {
                    LoginModule.closeLoginPopup();
                    setTimeout(() => {
                        LoginModule.handleLogin();
                        toggleForm('emailCheck');
                    }, 300);
                }
            });
        });
        
        // ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶≤‡¶ó‡¶á‡¶® ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
        LoginModule.checkLoginStatus();
        
        // ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤ ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
        ScrollModule.initScrollHide();
        ScrollModule.initNavbarScrollEffect();
        
        // ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
        NavigationModule.initNavLinks();
        
        // ‡¶∏‡ßç‡¶Æ‡ßÅ‡¶• ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡ßã‡¶≤‡¶ø‡¶Ç ‡¶´‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ô‡ßç‡¶ï‡¶∞ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡¶∏
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // ‡¶ï‡ßÄ-‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                const mobileNavMenu = document.getElementById('mobileNavMenu');
                const mobileSearchBar = document.getElementById('mobileSearchBar');
                const toggleIcon = document.querySelector('.mobile-toggle i');
                
                if (mobileNavMenu && mobileNavMenu.classList.contains('active')) {
                    mobileNavMenu.classList.remove('active');
                    if (toggleIcon) {
                        toggleIcon.className = 'fas fa-bars';
                    }
                }

                if (mobileSearchBar && mobileSearchBar.classList.contains('active')) {
                    SearchModule.closeMobileSearch();
                }
            }
        });
        
        // ‡¶∞‡¶ø‡¶∏‡¶æ‡¶á‡¶ú ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞
        window.addEventListener('resize', () => {
            const mobileNavMenu = document.getElementById('mobileNavMenu');
            const mobileSearchBar = document.getElementById('mobileSearchBar');
            const toggleIcon = document.querySelector('.mobile-toggle i');
            
            if (window.innerWidth > 1080) {
                if (mobileNavMenu) {
                    mobileNavMenu.classList.remove('active');
                }
                if (mobileSearchBar) {
                    mobileSearchBar.classList.remove('active');
                }
                if (toggleIcon) {
                    toggleIcon.className = 'fas fa-bars';
                }
            }
        });
    });

    // ====================
    // Global Functions for HTML onClick
    // ====================
    function toggleLanguage() {
        LanguageModule.toggleLanguage();
    }

    function toggleTheme() {
        ThemeModule.toggleTheme();
    }

    function toggleMobileMenu() {
        MobileMenuModule.toggleMobileMenu();
    }

    function toggleMobileSearch() {
        SearchModule.toggleMobileSearch();
    }

    function closeMobileSearch() {
        SearchModule.closeMobileSearch();
    }

    function toggleDropdown(element) {
        DropdownModule.toggleDropdown(element);
    }
    
    function toggleProfileDropdown(dropdownId) {
        DropdownModule.toggleProfileDropdown(dropdownId);
    }
    
    function closeLoginPopup() {
        LoginModule.closeLoginPopup();
    }


    // ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ï‡ßã‡¶™‡ßá ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶°‡¶ø‡¶´‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® (HTML-‡¶è‡¶∞ onclick ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)
window.togglePasswordVisibility = function(inputId, toggleId) {
    const passwordInput = document.getElementById(inputId);
    const toggleButton = document.getElementById(toggleId);
    
    if (passwordInput && toggleButton) {
        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            toggleButton.textContent = '‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®';
        } else {
            passwordInput.type = 'password';
            toggleButton.textContent = '‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
        }
    }
};


// ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶¨‡¶æ‡¶∞‡ßá ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ
function setActiveNavLink() {
    // ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® URL ‡¶™‡¶æ‡¶®
    const currentUrl = window.location.href;
    
    // ‡¶∏‡¶ï‡¶≤ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶™‡¶æ‡¶®
    const navLinks = document.querySelectorAll('.nav-link');
    
    // ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
    navLinks.forEach(link => {
        // ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡ßá‡¶∞ URL ‡¶™‡¶æ‡¶®
        const linkUrl = link.href;
        
        // URL ‡¶§‡ßÅ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® (‡¶π‡ßã‡¶Æ‡¶™‡ßá‡¶ú‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ)
        if (currentUrl === linkUrl || 
            (currentUrl.endsWith('/') && linkUrl.endsWith('Talimul Islam Academi.html')) ||
            (currentUrl.endsWith('index.html') && linkUrl.endsWith('Talimul Islam Academi.html'))) {
            // ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
            link.classList.add('active');
        } else {
            // ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶∏‡¶∞‡¶æ‡¶®
            link.classList.remove('active');
        }
    });
    
    // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡¶ì ‡¶è‡¶ï‡¶á ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
    const mobileNavLinks = document.querySelectorAll('.mobile-nav-links .nav-link');
    mobileNavLinks.forEach(link => {
        const linkUrl = link.href;
        
        if (currentUrl === linkUrl || 
            (currentUrl.endsWith('/') && linkUrl.endsWith('Talimul Islam Academi.html')) ||
            (currentUrl.endsWith('index.html') && linkUrl.endsWith('Talimul Islam Academi.html'))) {
            link.classList.add('active');
        } else {
            link.classList.remove('active');
        }
    });
}

// ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
document.addEventListener('DOMContentLoaded', function() {
    setActiveNavLink();
});

// ‡¶Ø‡¶¶‡¶ø AJAX ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º ‡¶§‡¶¨‡ßá ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶ì ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
window.addEventListener('popstate', setActiveNavLink);


 // ‡¶°‡ßá‡¶∏‡ßç‡¶ï‡¶ü‡¶™ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶ü‡¶ó‡¶≤ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function toggleDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            dropdown.classList.toggle('active');
            
            // ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
            document.querySelectorAll('.dropdown').forEach(item => {
                if (item.id !== dropdownId) {
                    item.classList.remove('active');
                }
            });
        }
        
        // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶ü‡¶ó‡¶≤ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function toggleMobileDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            dropdown.classList.toggle('active');
            
            // ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
            document.querySelectorAll('.mobile-dropdown').forEach(item => {
                if (item.id !== dropdownId) {
                    item.classList.remove('active');
                }
            });
        }
        
        // ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡¶¨‡ßá
        document.addEventListener('click', function(event) {
            // ‡¶°‡ßá‡¶∏‡ßç‡¶ï‡¶ü‡¶™ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶®
            if (!event.target.closest('.dropdown')) {
                document.querySelectorAll('.dropdown').forEach(dropdown => {
                    dropdown.classList.remove('active');
                });
            }
            
            // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶®
            if (!event.target.closest('.mobile-dropdown')) {
                document.querySelectorAll('.mobile-dropdown').forEach(dropdown => {
                    dropdown.classList.remove('active');
                });
            }
        });
        
        // ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶∞‡¶ø‡¶∏‡¶æ‡¶á‡¶ú ‡¶π‡¶≤‡ßá ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
        window.addEventListener('resize', function() {
            document.querySelectorAll('.dropdown').forEach(dropdown => {
                dropdown.classList.remove('active');
            });
            
            document.querySelectorAll('.mobile-dropdown').forEach(dropdown => {
                dropdown.classList.remove('active');
            });
        });



        // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶ü‡¶ó‡¶≤ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function toggleMobileDropdown(dropdownId) {
        const dropdown = document.getElementById(dropdownId);
        dropdown.classList.toggle('active');
        
        // ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
        document.querySelectorAll('.mobile-dropdown').forEach(item => {
            if (item.id !== dropdownId) {
                item.classList.remove('active');
            }
        });
    }
    
    // ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡¶¨‡ßá
    document.addEventListener('click', function(event) {
        // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶®
        if (!event.target.closest('.mobile-dropdown')) {
            document.querySelectorAll('.mobile-dropdown').forEach(dropdown => {
                dropdown.classList.remove('active');
            });
        }
    });
    
    // ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶∞‡¶ø‡¶∏‡¶æ‡¶á‡¶ú ‡¶π‡¶≤‡ßá ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
    window.addEventListener('resize', function() {
        document.querySelectorAll('.mobile-dropdown').forEach(dropdown => {
            dropdown.classList.remove('active');
        });
    });
</script>   






<style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap');
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Hind Siliguri', 'Bangla', sans-serif;
        }
        
        :root {
            --primary-color: #5e35b1;
            --secondary-color: #43a047;
            --accent-color: #ff6f00;
            --text-color: #2d3436;
            --light-bg: #f5f5f5;
            --card-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            --gradient-bg: linear-gradient(135deg, #5e35b1 0%, #3949ab 100%);
            --border-radius: 12px;
        }
        
        body {
            font-family: 'Hind Siliguri', 'Bangla', sans-serif; 
            font-family: "Noto Serif Bengali", serif;
            background-color: var(--light-bg);
            color: var(--text-color);
            line-height: 1.6;
            font-size: 16px;
        }
        
        .container2 {
            max-width: 1200px;
            margin: 0 auto;
            padding: 25px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 35px;
            background: var(--gradient-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
        }
        
        header h1 {
            font-size: 38px;
            font-weight: bold;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            letter-spacing: 0.5px;
        }
        
        .tab-container {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 12px 24px;
            background-color: white;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            font-weight: 500;
            border: 1px solid transparent;
            position: relative;
            z-index: 1;
        }
        
        .tab.active {
            background: var(--gradient-bg);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(94, 53, 177, 0.3);
            border-bottom: 2px solid transparent;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            z-index: 2;
        }
        
        .tab:hover:not(.active) {
            background: linear-gradient(135deg, #ede7f6 0%, #e3f2fd 100%);
            border-color: var(--primary-color);
            transform: translateY(-2px);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
        }
        
        .course-details {
            display: flex;
            gap: 35px;
        }
        
        .main-content {
            flex: 2;
        }
        
        .sidebar {
            flex: 1;
        }
        
        .course-image {
            width: 100%;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease;
            overflow: hidden;
        }
        
        .course-image:hover {
            transform: scale(1.02);
        }
        
        .course-instructor {
            display: flex;
            align-items: center;
            padding: 0;
            margin: 0;
            margin-bottom: 25px;
        }
        
        .instructor-image {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            margin-right: 20px;
            object-fit: cover;
            border: 3px solid var(--primary-color);
            box-shadow: 0 4px 10px rgba(94, 53, 177, 0.3);
        }
        
        .instructor-details h3 {
            font-size: 20px;
            margin-bottom: 5px;
            color: var(--primary-color);
        }
        
        .instructor-details p {
            color: #555;
            font-size: 15px;
            margin-bottom: 5px;
        }
        
        .instructor-details .experience {
            color: var(--primary-color);
            font-weight: 500;
            display: inline-block;
            padding: 3px 8px;
            background: rgba(94, 53, 177, 0.1);
            border-radius: 4px;
        }
        
        .course-pricing {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
            text-align: center;    
        }
        
        .course-pricing::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-bg);
        }
        
        .price {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .current-price {
            font-size: 32px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .original-price {
            font-size: 20px;
            text-decoration: line-through;
            color: #999;
            margin-left: 12px;
        }
        
        .buy-btn {
            background: var(--gradient-bg);
            color: white;
            border: none;
            padding: 14px;
            width: 100%;
            border-radius: var(--border-radius);
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(94, 53, 177, 0.3);
            letter-spacing: 0.5px;
            text-decoration: none;
            display: block;
            text-align: center;
        }
        
        .active-course-btn {
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 14px;
            width: 100%;
            border-radius: var(--border-radius);
            font-size: 18px;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(67, 160, 71, 0.3);
            letter-spacing: 0.5px;
            text-align: center;
        }
        
        .course-stats {
            margin-top: 20px;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px 0;
            border-bottom: 1px dashed rgba(94, 53, 177, 0.2);
        }
        
        .stat-item:last-child {
            border-bottom: none;
        }
        
        .stat-icon {
            color: var(--primary-color);
            margin-right: 12px;
            font-size: 18px;
        }
        
        .content-box {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }
        
        .content-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--gradient-bg);
        }
        
        .content-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary-color);
            border-bottom: 1px solid rgba(94, 53, 177, 0.2);
            padding-bottom: 12px;
            position: relative;
        }
        
        .content-text {
            color: #444;
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        .read-more {
            color: var(--primary-color);
            font-weight: 500;
            cursor: pointer;
            display: inline-block;
            margin-top: 10px;
            padding: 5px 10px;
            border-radius: 4px;
            background: rgba(94, 53, 177, 0.1);
            transition: all 0.3s;
        }
        
        .read-more:hover {
            background: rgba(94, 53, 177, 0.2);
            transform: translateX(5px);
        }
        
        .hidden-content {
            display: none;
        }
        
        /* Tab Content Styles */
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Video Section */
        .video-container {
            height: 450px;
            overflow-y: auto;
            border: 1px solid rgba(94, 53, 177, 0.2);
            border-radius: var(--border-radius);
            padding: 15px;
            background: white;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #f1f1f1;
        }
        
        .video-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .video-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .video-container::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }
        
        .video-item {
            display: flex;
            align-items: center;
            padding: 18px;
            border-bottom: 1px solid rgba(94, 53, 177, 0.1);
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 8px;
        }
        
        .video-item:hover {
            background-color: rgba(94, 53, 177, 0.05);
            transform: translateX(5px);
        }
        
        .video-item.locked {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .video-item.locked:hover {
            transform: none;
            background-color: transparent;
        }
        
        .video-icon {
            margin-right: 15px;
            color: var(--primary-color);
            font-size: 20px;
        }
        
        .video-title {
            flex: 1;
            font-weight: 500;
        }
        
        .video-duration {
            color: #666;
            font-size: 14px;
            background: rgba(94, 53, 177, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
        }
        
        .video-lock {
            color: #999;
            margin-left: 12px;
        }
        
        .video-free {
            color: var(--secondary-color);
            margin-left: 12px;
            font-weight: 500;
            background: rgba(67, 160, 71, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
        }
        
        /* Notes Section */
        .notes-container {
            height: 450px;
            overflow-y: auto;
            border: 1px solid rgba(94, 53, 177, 0.2);
            border-radius: var(--border-radius);
            padding: 15px;
            background: white;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #f1f1f1;
        }
        
        .notes-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .notes-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .notes-container::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }
        
        .note-item {
            display: flex;
            align-items: center;
            padding: 18px;
            border-bottom: 1px solid rgba(94, 53, 177, 0.1);
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 8px;
        }
        
        .note-item:hover {
            background-color: rgba(94, 53, 177, 0.05);
            transform: translateX(5px);
        }
        
        .note-item.locked {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .note-item.locked:hover {
            transform: none;
            background-color: transparent;
        }
        
        .note-icon {
            margin-right: 15px;
            color: var(--primary-color);
            font-size: 20px;
        }
        
        .note-title {
            flex: 1;
            font-weight: 500;
        }
        
        .note-lock {
            color: #999;
            margin-left: 12px;
        }
        
        .note-free {
            color: var(--secondary-color);
            margin-left: 12px;
            font-weight: 500;
            background: rgba(67, 160, 71, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
        }
        
        /* Reviews Section */
        .reviews-container {
            height: 450px;
            overflow-y: auto;
            padding: 10px 0;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #f1f1f1;
        }
        
        .reviews-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .reviews-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .reviews-container::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }
        
        .review {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            position: relative;
            transition: all 0.3s;
        }
        
        .review:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .review::before {
            content: '"';
            position: absolute;
            right: 20px;
            top: 10px;
            font-size: 60px;
            color: rgba(94, 53, 177, 0.1);
            font-family: serif;
            line-height: 1;
        }
        
        .review-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .reviewer-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 15px;
            background: var(--gradient-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 18px;
            box-shadow: 0 4px 10px rgba(94, 53, 177, 0.3);
        }
        
        .reviewer-name {
            font-weight: 600;
            font-size: 17px;
            color: var(--primary-color);
        }
        
        .review-date {
            color: #777;
            font-size: 12px;
            margin-left: auto;
            background: rgba(0, 0, 0, 0.05);
            padding: 3px 8px;
            border-radius: 4px;
        }
        
        .star-rating {
            color: #FFD700;
            margin-bottom: 12px;
            font-size: 18px;
        }
        
        .review-text {
            color: #555;
            line-height: 1.7;
            font-size: 15px;
        }
        
        .review-form {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            margin-top: 25px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }
        
        .review-form.hidden {
            display: none;
        }
        
        .review-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-bg);
        }
        
        .review-form h3 {
            margin-bottom: 20px;
            color: var(--primary-color);
            font-size: 22px;
        }
        
        .rating-select {
            margin-bottom: 20px;
        }
        
        .rating-select select {
            width: 100%;
            padding: 10px;
            border: 1px solid rgba(94, 53, 177, 0.2);
            border-radius: 8px;
            font-family: inherit;
        }
        
        .review-textarea {
            width: 100%;
            height: 120px;
            padding: 15px;
            border: 1px solid rgba(94, 53, 177, 0.2);
            border-radius: 8px;
            margin-bottom: 20px;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s;
        }
        
        .review-textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(94, 53, 177, 0.1);
        }
        
        .submit-review {
            background: var(--gradient-bg);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(94, 53, 177, 0.3);
        }
        
        .submit-review:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(94, 53, 177, 0.5);
        }
        
        .purchase-note {
            font-size: 13px;
            color: #666;
            margin-top: 15px;
            font-style: italic;
            background: rgba(0, 0, 0, 0.03);
            padding: 8px;
            border-radius: 4px;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 25px;
            border-radius: var(--border-radius);
            width: 80%;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        .close-modal {
            color: var(--primary-color);
            float: right;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .close-modal:hover {
            background: rgba(94, 53, 177, 0.1);
            transform: rotate(90deg);
        }
        
        .modal-title {
            margin-bottom: 25px;
            color: var(--primary-color);
            font-size: 26px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(94, 53, 177, 0.2);
        }
        
        .modal-pdf {
            width: 100%;
            height: 70vh;
            border: none;
            border-radius: 8px;
        }
        
        .modal-video {
            width: 100%;
            max-height: 70vh;
            border-radius: 8px;
        }
        
        .locked-message {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 20px;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 8px;
            margin: 20px 0;
        }
        
        /* Payment Form Styles */
        .payment-form {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-top: 20px;
        }
        
        .payment-form input,
        .payment-form select {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
        }
        
        .payment-form button {
            width: 100%;
            padding: 12px;
            background: var(--gradient-bg);
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-form button:hover {
            opacity: 0.9;
        }
        
        .payment-message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
        }
        
        .success {
            background-color: rgba(67, 160, 71, 0.1);
            color: var(--secondary-color);
        }
        
        .error {
            background-color: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }
        
        .active-course-badge {
            background: var(--secondary-color);
            color: white;
            padding: 12px;
            border-radius: var(--border-radius);
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(67, 160, 71, 0.3);
        }
        
        @media (max-width: 768px) {
            .course-details {
                flex-direction: column-reverse;
            }
            
            .sidebar {
                order: -1;
            }
            
            .tab-container {
                overflow-x: auto;
                white-space: nowrap;
                padding-bottom: 8px;
                font-size: 14px;
                gap: 8px;
                padding: 0;
                margin-bottom: 20px;
                scrollbar-width: thin;
                scrollbar-color: var(--primary-color) #f1f1f1;
            }
            
            .tab-container::-webkit-scrollbar {
                height: 4px;
            }
            
            .tab-container::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }
            
            .tab-container::-webkit-scrollbar-thumb {
                background: var(--primary-color);
                border-radius: 10px;
            }
            
            .tab {
                display: inline-block;
                padding: 10px 16px;
                font-size: 14px;
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
            }
            
            .modal-pdf, .modal-video {
                height: 60vh;
            }
            
            header h1 {
                font-size: 28px;
            }
            
            .content-title {
                font-size: 20px;
            }
            
            .current-price {
                font-size: 28px;
            }
        }


        .buy-now-btn {
  background-color: #4CAF50;
  color: #fff;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease-in-out, transform 0.3s ease-in-out;
}

.buy-now-btn:hover {
  background-color: #3e8e41;
  transform: scale(1.1);
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}

.buy-now-btn:active {
  transform: scale(0.9);
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}



   /* ‡¶™‡¶™‡¶Ü‡¶™ ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
    .custom-popup {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 99999;
        max-width: 350px;
        width: 90%;
        animation: slideIn 0.3s ease-out forwards;
    }
    
    .custom-popup.hide {
        animation: slideOut 0.3s ease-in forwards;
    }
    
    .popup-content {
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        display: flex;
        align-items: center;
        position: relative;
        overflow: hidden;
    }
    
    .popup-success {
        background: #d4edda;
        color: #155724;
        border-left: 4px solid #28a745;
    }
    
    .popup-error {
        background: #f8d7da;
        color: #721c24;
        border-left: 4px solid #dc3545;
    }
    
    .popup-warning {
        background: #fff3cd;
        color: #856404;
        border-left: 4px solid #ffc107;
    }
    
    .popup-info {
        background: #d1ecf1;
        color: #0c5460;
        border-left: 4px solid #17a2b8;
    }
    
    .popup-icon {
        margin-right: 15px;
        font-size: 24px;
    }
    
    .popup-close {
        margin-left: auto;
        cursor: pointer;
        background: none;
        border: none;
        font-size: 20px;
        opacity: 0.7;
        transition: opacity 0.2s;
    }
    
    .popup-close:hover {
        opacity: 1;
    }
    
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
    }



    /* ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.review-form {
    background: white;
    border-radius: var(--border-radius);
    padding: 25px;
    margin-top: 25px;
    box-shadow: var(--card-shadow);
    position: relative;
    overflow: hidden;
}

.review-form::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
    background: var(--gradient-bg);
}

.review-form h3 {
    margin-bottom: 20px;
    color: var(--primary-color);
    font-size: 22px;
}

.rating-select {
    margin-bottom: 20px;
}

.rating-select select {
    width: 100%;
    padding: 10px;
    border: 1px solid rgba(94, 53, 177, 0.2);
    border-radius: 8px;
    font-family: inherit;
}

.review-textarea {
    width: 100%;
    height: 120px;
    padding: 15px;
    border: 1px solid rgba(94, 53, 177, 0.2);
    border-radius: 8px;
    margin-bottom: 20px;
    font-family: inherit;
    resize: vertical;
    transition: all 0.3s;
}

.review-textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(94, 53, 177, 0.1);
}

.submit-review {
    background: var(--gradient-bg);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s;
    box-shadow: 0 4px 10px rgba(94, 53, 177, 0.3);
}

.submit-review:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(94, 53, 177, 0.5);
}




/* Add to existing styles */
.payment-method {
    margin-bottom: 20px;
    padding: 15px;
    border-radius: 8px;
    background: #f9f9f9;
    border-left: 4px solid var(--primary-color);
}

.payment-method h4 {
    margin-bottom: 10px;
    color: var(--primary-color);
}

.payment-method-details {
    font-size: 14px;
    color: #555;
}

.payment-method-details strong {
    color: var(--text-color);
}

.active-course-badge {
    background: var(--secondary-color);
    color: white;
    padding: 12px;
    border-radius: var(--border-radius);
    text-align: center;
    margin-bottom: 20px;
    box-shadow: 0 4px 10px rgba(67, 160, 71, 0.3);
}

.active-course-badge i {
    margin-right: 8px;
}

.active-course-btn {
    background: var(--secondary-color);
    color: white;
    border: none;
    padding: 14px;
    width: 100%;
    border-radius: var(--border-radius);
    font-size: 18px;
    font-weight: 600;
    box-shadow: 0 4px 10px rgba(67, 160, 71, 0.3);
    letter-spacing: 0.5px;
    text-align: center;
    display: block;
    text-decoration: none;
}

.active-course-btn i {
    margin-right: 8px;
}


.course-unlocked {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin: 20px 0;
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .unlocked-content {
            opacity: 1 !important;
            pointer-events: all !important;
            cursor: pointer !important;
        }
        
        .locked-overlay {
            display: none !important;
        }

        /* Dynamic reviews styling */
.review.dynamic-review {
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Make sure static reviews are distinct */
.review.static-review {
    background-color: rgba(94, 53, 177, 0.05);
    border-left: 3px solid var(--primary-color);
}

.modal-video {
    width: 100%;
    height: 80vh;   /* viewport height ‡¶è‡¶∞ 80% */
    display: block;
    margin: 0 auto; /* horizontally center */
    border-radius: 10px;
}

</style> 


<div class="container2">
        <header>
            <h1>‡¶§‡¶æ‡¶≤‡¶ø‡¶Æ‡ßÅ‡¶≤¬†‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ¬†‡ß®‡¶Ø‡¶º¬†‡¶ñ‡¶®‡ßç‡¶° </h1>
        </header>
        
        <div class="tab-container">
            <div class="tab active" onclick="openTab('details')" style="border-radius: 12px 12px 0 0; margin:0; border:1px solid #e0e0e0; border-bottom:none; box-shadow:0 4px 10px rgba(0,0,0,0.05);">‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶™‡¶°‡¶º‡ßÅ‡¶®</div>
            <div class="tab" onclick="openTab('video')" style="border-radius: 12px 12px 0 0; margin:0; border:1px solid #e0e0e0; border-bottom:none; box-shadow:0 4px 10px rgba(0,0,0,0.05);">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì</div>
            <div class="tab" onclick="openTab('notes')" style="border-radius: 12px 12px 0 0; margin:0; border:1px solid #e0e0e0; border-bottom:none; box-shadow:0 4px 10px rgba(0,0,0,0.05);">‡¶®‡ßã‡¶ü</div>
            <div class="tab" onclick="openTab('reviews')" style="border-radius: 12px 12px 0 0; margin:0; border:1px solid #e0e0e0; border-bottom:none; box-shadow:0 4px 10px rgba(0,0,0,0.05);">‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</div>
        </div>
        
        <div class="course-details">
            <div class="main-content">
                <div id="details" class="tab-content active">
                    <div class="content-box">
                        <div class="course-instructor">
                            <img src="#" alt="‡¶Æ‡¶æ‡¶ì‡¶≤‡¶æ‡¶®‡¶æ ‡¶Æ‡ßÅ‡¶®‡¶§‡¶æ‡¶π‡¶æ ‡¶Ü‡¶π‡¶Æ‡¶¶" class="instructor-image">
                            <div class="instructor-details">
                                <h3>‡¶Æ‡¶æ‡¶ì‡¶≤‡¶æ‡¶®‡¶æ ‡¶Æ‡ßÅ‡¶®‡¶§‡¶æ‡¶π‡¶æ ‡¶Ü‡¶π‡¶Æ‡¶¶</h3>
                                <p>‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑‡¶ú‡ßç‡¶û, ‡¶Ü‡¶≤-‡¶Ü‡¶ú‡¶π‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º</p>
                                <p class="experience">‡ßß‡ß´+ ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡¶§‡¶æ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ</p>
                            </div>
                        </div>
                        <h2 class="content-title">‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡ßÅ‡¶®</h2>
                        <p class="content-text">
                            ‡¶Ö‡¶®‡ßá‡¶ï ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶™‡¶°‡¶º‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶® ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶∏‡¶π‡¶ú‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡ßÅ‡¶ù‡¶ø‡¶Ø‡¶º‡ßá ‡¶¨‡¶≤‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶® ‡¶®‡¶æ‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßá‡¶ï‡ßá ‡¶¨‡¶á ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶°‡¶º‡ßá ‡¶∂‡ßã‡¶®‡¶æ‡¶® ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ-‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶® ‡¶®‡¶æ‡•§ ‡¶è‡¶á ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶è‡¶á ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡•§
                        </p>
                        <p class="content-text hidden-content" id="more-content">
                            ‡¶è‡¶á ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶∂‡¶ø‡¶ñ‡¶¨‡ßá‡¶® ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∏‡¶π‡¶ú‡ßá ‡¶™‡¶°‡¶º‡¶§‡ßá ‡¶ì ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶π‡¶Ø‡¶º‡•§ ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶§‡¶æ‡¶á ‡¶®‡¶Ø‡¶º, ‡¶Ö‡¶®‡ßç‡¶Ø‡¶¶‡ßá‡¶∞‡¶ì ‡¶∂‡ßá‡¶ñ‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§ ‡¶®‡¶æ‡¶π‡ßÅ-‡¶∏‡¶∞‡¶´‡ßá‡¶∞ ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ï‡¶æ‡¶®‡ßÅ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßá ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º‡ßá‡¶∞ ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ‡¶á ‡¶∞‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶è‡¶á ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡ßá‡•§ ‡¶á‡¶®‡¶∂‡¶æ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶è‡¶á ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∂‡ßá‡¶∑‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ï‡¶ú‡¶® ‡¶¶‡¶ï‡ßç‡¶∑ ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§
                        </p>
                        <span class="read-more" onclick="toggleContent()">‡¶Ü‡¶∞‡ßã ‡¶™‡¶°‡¶º‡ßÅ‡¶®</span>
                    </div>
                </div>
                
                <div id="video" class="tab-content">
                    <div class="content-box">
                        <h2 class="content-title">‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡ßá‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∏‡¶Æ‡ßÇ‡¶π</h2>
                        <div class="video-container">
                            <div class="video-item" onclick="openVideoModal('lesson-1')">
                                <div class="video-icon">‚ñ∂Ô∏è</div>
                                <div class="video-title">‡ßß. ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨ ‡¶ì ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º‡¶§‡¶æ</div>
                                <div class="video-duration">‡ß™‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</div>
                                <div class="video-free">‡¶´‡ßç‡¶∞‡¶ø</div>
                            </div>
                            <div class="video-item locked" data-video-id="lesson-2">
                                <div class="video-icon">‚ñ∂Ô∏è</div>
                                <div class="video-title">‡ß®. ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶¨‡¶∞‡ßç‡¶£‡¶Æ‡¶æ‡¶≤‡¶æ ‡¶ì ‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£</div>
                                <div class="video-duration">‡ß´‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</div>
                                <div class="video-lock">üîí</div>
                            </div>
                            <div class="video-item locked" data-video-id="lesson-3">
                                <div class="video-icon">‚ñ∂Ô∏è</div>
                                <div class="video-title">‡ß©. ‡¶®‡¶æ‡¶π‡ßÅ (‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£) ‡¶è‡¶∞ ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ</div>
                                <div class="video-duration">‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ</div>
                                <div class="video-lock">üîí</div>
                            </div>
                            <div class="video-item locked" data-video-id="lesson-4">
                                <div class="video-icon">‚ñ∂Ô∏è</div>
                                <div class="video-title">‡ß™. ‡¶∏‡¶∞‡¶´ (‡¶∂‡¶¨‡ßç‡¶¶‡¶§‡¶§‡ßç‡¶§‡ßç‡¶¨) ‡¶è‡¶∞ ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ</div>
                                <div class="video-duration">‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡ßß‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</div>
                                <div class="video-lock">üîí</div>
                            </div>
                            <div class="video-item locked" data-video-id="lesson-5">
                                <div class="video-icon">‚ñ∂Ô∏è</div>
                                <div class="video-title">‡ß´. ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø ‡¶ó‡¶†‡¶® ‡¶ì ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£</div>
                                <div class="video-duration">‡ß´‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</div>
                                <div class="video-lock">üîí</div>
                            </div>
                            <div class="video-item locked" data-video-id="lesson-6">
                                <div class="video-icon">‚ñ∂Ô∏è</div>
                                <div class="video-title">‡ß¨. ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶ï‡ßå‡¶∂‡¶≤</div>
                                <div class="video-duration">‡ß™‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</div>
                                <div class="video-lock">üîí</div>
                            </div>
                            <div class="video-item locked" data-video-id="lesson-7">
                                <div class="video-icon">‚ñ∂Ô∏è</div>
                                <div class="video-title">‡ß≠. ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡ßá‡¶∞ ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ï‡¶æ‡¶®‡ßÅ‡¶®</div>
                                <div class="video-duration">‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡ßß‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</div>
                                <div class="video-lock">üîí</div>
                            </div>
                            <div class="video-item locked" data-video-id="lesson-8">
                                <div class="video-icon">‚ñ∂Ô∏è</div>
                                <div class="video-title">‡ßÆ. ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®‡ßá‡¶∞ ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£</div>
                                <div class="video-duration">‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡ß®‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</div>
                                <div class="video-lock">üîí</div>
                            </div>
                            <div class="video-item locked" data-video-id="lesson-9">
                                <div class="video-icon">‚ñ∂Ô∏è</div>
                                <div class="video-title">‡ßØ. ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏‡ßá‡¶∞ ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£</div>
                                <div class="video-duration">‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡ß©‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</div>
                                <div class="video-lock">üîí</div>
                            </div>
                            <div class="video-item locked" data-video-id="lesson-10">
                                <div class="video-icon">‚ñ∂Ô∏è</div>
                                <div class="video-title">‡ßß‡ß¶. ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶æ‡¶Ø‡¶º‡ßã‡¶ó‡¶ø‡¶ï ‡¶ï‡ßå‡¶∂‡¶≤</div>
                                <div class="video-duration">‡ß´‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</div>
                                <div class="video-lock">üîí</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="notes" class="tab-content">
                    <div class="content-box">
                        <h2 class="content-title">‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡ßá‡¶∞ ‡¶®‡ßã‡¶ü ‡¶∏‡¶Æ‡ßÇ‡¶π</h2>
                        <div class="notes-container">
                            <div class="note-item" onclick="openNoteModal('note-1')">
                                <div class="note-icon">üìÑ</div>
                                <div class="note-title">‡ßß. ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ</div>
                                <div class="note-free">‡¶´‡ßç‡¶∞‡¶ø</div>
                            </div>
                            <div class="note-item locked" data-note-id="note-2">
                                <div class="note-icon">üìÑ</div>
                                <div class="note-title">‡ß®. ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£‡ßá‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶æ‡¶¨‡¶≤‡ßÄ</div>
                                <div class="note-lock">üîí</div>
                            </div>
                            <div class="note-item locked" data-note-id="note-3">
                                <div class="note-icon">üìÑ</div>
                                <div class="note-title">‡ß©. ‡¶®‡¶æ‡¶π‡ßÅ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ß‡¶æ‡¶™‡¶∏‡¶Æ‡ßÇ‡¶π</div>
                                <div class="note-lock">üîí</div>
                            </div>
                            <div class="note-item locked" data-note-id="note-4">
                                <div class="note-icon">üìÑ</div>
                                <div class="note-title">‡ß™. ‡¶∏‡¶∞‡¶´ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ß‡¶æ‡¶™‡¶∏‡¶Æ‡ßÇ‡¶π</div>
                                <div class="note-lock">üîí</div>
                            </div>
                            <div class="note-item locked" data-note-id="note-5">
                                <div class="note-icon">üìÑ</div>
                                <div class="note-title">‡ß´. ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£‡ßá‡¶∞ ‡¶ï‡ßå‡¶∂‡¶≤</div>
                                <div class="note-lock">üîí</div>
                            </div>
                            <div class="note-item locked" data-note-id="note-6">
                                <div class="note-icon">üìÑ</div>
                                <div class="note-title">‡ß¨. ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡ßá‡¶∞ ‡¶®‡ßÄ‡¶§‡¶ø‡¶Æ‡¶æ‡¶≤‡¶æ</div>
                                <div class="note-lock">üîí</div>
                            </div>
                            <div class="note-item locked" data-note-id="note-7">
                                <div class="note-icon">üìÑ</div>
                                <div class="note-title">‡ß≠. ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®‡¶ø ‡¶á‡¶¨‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶¨‡ßà‡¶∂‡¶ø‡¶∑‡ßç‡¶ü‡ßç‡¶Ø</div>
                                <div class="note-lock">üîí</div>
                            </div>
                            <div class="note-item locked" data-note-id="note-8">
                                <div class="note-icon">üìÑ</div>
                                <div class="note-title">‡ßÆ. ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏‡¶ø ‡¶á‡¶¨‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶¨‡ßà‡¶∂‡¶ø‡¶∑‡ßç‡¶ü‡ßç‡¶Ø</div>
                                <div class="note-lock">üîí</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="reviews" class="tab-content">
                    <div class="reviews-container">
                        <div class="review">
                            <div class="review-header">
                                <div class="reviewer-avatar">‡¶Ü</div>
                                <div>
                                    <div class="reviewer-name">‡¶Ü‡¶¨‡ßÅ ‡¶¨‡¶ï‡¶∞ ‡¶∏‡¶ø‡¶¶‡ßç‡¶¶‡¶ø‡¶ï</div>
                                    <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                </div>
                                <div class="review-date">‡ß®‡ß¶ ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá</div>
                            </div>
                            <div class="review-text">
                                ‡¶Ö‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏! ‡¶Æ‡¶æ‡¶ì‡¶≤‡¶æ‡¶®‡¶æ ‡¶Æ‡ßÅ‡¶®‡¶§‡¶æ‡¶π‡¶æ ‡¶Ü‡¶π‡¶Æ‡¶¶ ‡¶∏‡¶æ‡¶π‡ßá‡¶¨‡ßá‡¶∞ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶Ö‡¶§‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶∞‡•§ ‡¶Ü‡¶Æ‡¶ø ‡¶è‡¶ñ‡¶® ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∏‡¶π‡¶ú‡ßá‡¶á ‡¶™‡¶°‡¶º‡¶§‡ßá ‡¶ì ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø‡•§ ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶â‡¶§‡ßç‡¶§‡¶Æ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶æ‡¶® ‡¶¶‡¶ø‡¶®‡•§
                            </div>
                        </div>
                        
                        <div class="review">
                            <div class="review-header">
                                <div class="reviewer-avatar">‡¶Æ</div>
                                <div>
                                    <div class="reviewer-name">‡¶Æ‡ßÅ‡¶π‡¶æ‡¶Æ‡ßç‡¶Æ‡¶¶ ‡¶ï‡¶æ‡¶∏‡ßá‡¶Æ</div>
                                    <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                </div>
                                <div class="review-date">‡ßß‡ß´ ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá</div>
                            </div>
                            <div class="review-text">
                                ‡¶¶‡ßÄ‡¶∞‡ßç‡¶ò‡¶¶‡¶ø‡¶® ‡¶ß‡¶∞‡ßá ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶õ‡¶ø‡¶≤‡¶æ‡¶Æ‡•§ ‡¶è‡¶á ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶≤‡ßá‡¶∏‡¶® ‡¶Ö‡¶§‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®‡ßã‡•§
                            </div>
                        </div>
                        
                        <div class="review">
                            <div class="review-header">
                                <div class="reviewer-avatar">‡¶´</div>
                                <div>
                                    <div class="reviewer-name">‡¶´‡¶æ‡¶§‡¶ø‡¶Æ‡¶æ ‡¶ñ‡¶æ‡¶§‡ßÅ‡¶®</div>
                                    <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                </div>
                                <div class="review-date">‡ßß‡ß¶ ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá</div>
                            </div>
                            <div class="review-text">
                                ‡¶Æ‡¶æ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶®‡ßç‡¶§‡¶æ‡¶®‡¶¶‡ßá‡¶∞ ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶∂‡ßá‡¶ñ‡¶æ‡¶§‡ßá ‡¶ö‡¶æ‡¶á‡¶õ‡¶ø‡¶≤‡¶æ‡¶Æ‡•§ ‡¶è‡¶á ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶∏‡ßá‡¶á ‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø‡¶§‡¶æ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶ñ‡ßÅ‡¶¨‡¶á ‡¶â‡¶™‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡•§
                            </div>
                        </div>
                        
                        <div class="review">
                            <div class="review-header">
                                <div class="reviewer-avatar">‡¶Ü</div>
                                <div>
                                    <div class="reviewer-name">‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Ü‡¶≤ ‡¶Æ‡¶æ‡¶Æ‡ßÅ‡¶®</div>
                                    <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                </div>
                                <div class="review-date">‡ß´ ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá</div>
                            </div>
                            <div class="review-text">
                                ‡¶Æ‡¶æ‡¶¶‡¶∞‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶è‡¶á ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡¶§‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶® ‡¶Ö‡¶®‡ßá‡¶ï ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡•§ ‡¶õ‡¶æ‡¶§‡ßç‡¶∞‡¶¶‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶è‡¶ñ‡¶® ‡¶Ü‡¶∞‡ßã ‡¶∏‡¶π‡¶ú‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º‡¶ü‡¶ø ‡¶â‡¶™‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø‡•§
                            </div>
                        </div>
                    </div>
                    
<div class="review-form" id="reviewForm">
    <h3>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</h3>
       <!-- ‡¶∏‡¶æ‡¶ï‡¶∏‡ßá‡¶∏ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶® -->
    <div id="reviewSuccessMessage" style="display: none; background: #d4edda; color: #155724; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
        ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶Ü‡¶∞‡¶ì ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§
    </div>
    
    <div class="rating-select">
        <select id="rating">
            <option value="">‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (‡ß´ ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞)</option>
            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê (‡ß™ ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞)</option>
            <option value="3">‚≠ê‚≠ê‚≠ê (‡ß© ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞)</option>
            <option value="2">‚≠ê‚≠ê (‡ß® ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞)</option>
            <option value="1">‚≠ê (‡ßß ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞)</option>
        </select>
    </div>
    <div id="reviewerInfo" style="margin-bottom: 15px;">
        <div style="display: flex; align-items: center; gap: 10px; background: #f5f5f5; padding: 10px; border-radius: 8px;">
            <div id="reviewerAvatar" style="width: 40px; height: 40px; border-radius: 50%; background: var(--primary-color); color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;"></div>
            <div>
                <div id="reviewerName" style="font-weight: bold;"></div>
                <div id="reviewDate" style="font-size: 12px; color: #666;"></div>
            </div>
        </div>
    </div>
    <textarea class="review-textarea" id="reviewText" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
    <button class="submit-review" onclick="submitReview()">‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</button>
    <p style="font-size: 13px; color: #666; margin-top: 10px;">
        ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶á ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡•§
    </p>
</div>
                </div>
            </div>
            
            <div class="sidebar">
                <img src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=400&h=250&fit=crop" alt="‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶á‡¶Æ‡ßá‡¶ú" class="course-image">
                
                <div id="pricing-section" class="course-pricing">
                    <div class="price">
                        <span class="current-price">‡ß≥ ‡ßß,‡ß´‡ß¶‡ß¶</span>
                        <span class="original-price">‡ß≥ ‡ß©,‡ß¶‡ß¶‡ß¶</span>
                    </div>
                    <button class="buy-now-btn" onclick="showLoginAlert()">‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®</button>
                    <div class="course-stats">
                        <div class="stat-item">
                            <span class="stat-icon">üë•</span>
                            <span>‡ßß‡ß®,‡ß´‡ß¶‡ß¶+ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">üì∫</span>
                            <span>‡ßß‡ß¶‡¶ü‡¶ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡ßá‡¶∏‡¶®</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">‚è±Ô∏è</span>
                            <span>‡¶Æ‡ßã‡¶ü ‡ßÆ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">üìÑ</span>
                            <span>‡ßÆ‡¶ü‡¶ø ‡¶™‡¶ø‡¶°‡¶ø‡¶è‡¶´ ‡¶®‡ßã‡¶ü</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">üèÜ</span>
                            <span>‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">‚ôæÔ∏è</span>
                            <span>‡¶Ü‡¶ú‡ßÄ‡¶¨‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏</span>
                        </div>
                    </div>
                </div>
                
                <div id="what-you-learn" class="content-box">
                    <h2 class="content-title">‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡ßá ‡¶Ø‡¶æ ‡¶∂‡¶ø‡¶ñ‡¶¨‡ßá‡¶®</h2>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 10px; padding-left: 25px; position: relative;">
                            <span style="position: absolute; left: 0; color: var(--secondary-color);">‚úì</span>
                            ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶ï‡ßå‡¶∂‡¶≤
                        </li>
                        <li style="margin-bottom: 10px; padding-left: 25px; position: relative;">
                            <span style="position: absolute; left: 0; color: var(--secondary-color);">‚úì</span>
                            ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶ì ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡ßá‡¶∞ ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶æ‡¶¨‡¶≤‡ßÄ
                        </li>
                        <li style="margin-bottom: 10px; padding-left: 25px; position: relative;">
                            <span style="position: absolute; left: 0; color: var(--secondary-color);">‚úì</span>
                            ‡¶®‡¶æ‡¶π‡ßÅ-‡¶∏‡¶∞‡¶´‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó‡¶ø‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞
                        </li>
                        <li style="margin-bottom: 10px; padding-left: 25px; position: relative;">
                            <span style="position: absolute; left: 0; color: var(--secondary-color);">‚úì</span>
                            ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®-‡¶π‡¶æ‡¶¶‡¶ø‡¶∏‡ßá‡¶∞ ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶¨‡ßÅ‡¶ù‡¶æ‡¶∞ ‡¶ï‡ßå‡¶∂‡¶≤
                        </li>
                        <li style="margin-bottom: 10px; padding-left: 25px; position: relative;">
                            <span style="position: absolute; left: 0; color: var(--secondary-color);">‚úì</span>
                            ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡¶§‡¶æ‡¶∞ ‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø
                        </li>
                    </ul>
                </div>
            </div>
        </div>
</div>
    


    <style>
        /* Modal for Videos  */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: #fff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .player-wrapper {
            position: relative;
            width: 100%;
            background: #000;
        }

        #video-container {
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            position: relative;
        }

        #youtube-player {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            opacity: 0; /* ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã */
            pointer-events: none; /* ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º */
            z-index: 1;
        }

        /* Custom video controls overlay */
        .custom-controls-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            z-index: 20;
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }

        .player-wrapper:hover .custom-controls-overlay {
            opacity: 1;
        }

        .video-controls {
            width: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 100%);
            padding: 10px 15px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .progress-bar-container {
            width: 100%;
            height: 5px;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            border-radius: 2px;
        }

        .progress-bar {
            height: 100%;
            width: 0%; /* Progress percentage */
            background: #ff0000;
            border-radius: 2px;
            position: relative;
        }

        .progress-handle {
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ff0000;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .progress-bar-container:hover .progress-handle {
            opacity: 1;
        }

        .controls-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .left-controls, .right-controls {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .control-btn {
            background: none;
            border: none;
            color: #fff;
            cursor: pointer;
            font-size: 16px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .time-display {
            font-size: 14px;
            color: #fff;
            font-variant-numeric: tabular-nums;
        }

        .volume-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .volume-slider {
            width: 80px;
            height: 4px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
        }

        /* Play button overlay */
        .play-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.6);
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 36px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 5;
        }

        .player-wrapper:hover .play-overlay {
            opacity: 1;
        }

        /* Skip buttons */
        .skip-btn {
            background: none;
            border: none;
            color: #fff;
            cursor: pointer;
            font-size: 14px;
            padding: 5px 8px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: background-color 0.2s;
        }

        .skip-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Custom context menu */
        .custom-context-menu {
            position: fixed;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 15px;
            border-radius: 4px;
            font-size: 14px;
            z-index: 1000;
            display: none;
            pointer-events: none;
        }

        /* Modal for Videos */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 25px;
            border-radius: 8px;
            width: 80%;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        .close-modal {
            color: #5e35b1;
            float: right;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        .close-modal:hover {
            background: rgba(94, 53, 177, 0.1);
            transform: rotate(90deg);
        }
        .modal-title {
            margin-bottom: 25px;
            color: #5e35b1;
            font-size: 26px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(94, 53, 177, 0.2);
        }
        .modal-video {
            width: 100%;
            max-height: 70vh;
            border-radius: 8px;
        }

        /* Fullscreen styles */
        .player-wrapper:-webkit-full-screen {
            width: 100%;
            height: 100%;
            background: #000;
            border-radius: 0;
        }
        
        .player-wrapper:-ms-fullscreen {
            width: 100%;
            height: 100%;
            background: #000;
            border-radius: 0;
        }
        
        .player-wrapper:fullscreen {
            width: 100%;
            height: 100%;
            background: #000;
            border-radius: 0;
        }

        /* iOS specific fullscreen styles */
        .ios-fullscreen .player-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            border-radius: 0;
        }
        
        .ios-fullscreen .container {
            max-width: 100%;
            border-radius: 0;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .ios-fullscreen #video-container {
            height: 100%;
            width: 100%;
            padding-bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .ios-fullscreen #youtube-player {
            position: relative;
            width: 100%;
            height: 100%;
            max-height: 100vh;
        }
        
        .ios-fullscreen .modal-content {
            margin: 0;
            width: 100%;
            height: 100%;
            max-width: 100%;
            border-radius: 0;
            padding: 0;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .ios-fullscreen .modal-title,
        .ios-fullscreen .close-modal {
            display: none;
        }
        
        /* iOS exit fullscreen button */
        #ios-exit-fullscreen {
            display: none;
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 10000;
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 18px;
            cursor: pointer;
        }
        
        .ios-fullscreen #ios-exit-fullscreen {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .volume-slider {
                width: 60px;
            }
            
            .control-btn {
                width: 32px;
                height: 32px;
            }
            
            .skip-btn {
                font-size: 12px;
                padding: 4px 6px;
                display: flex !important; /* Ensure skip buttons are visible on mobile */
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
                padding: 15px;
            }
            
            .modal-video {
                height: 60vh;
            }
            
            /* Mobile-specific fullscreen button styling */
            .fullscreen-btn-mobile {
                display: block !important;
            }
            
            .fullscreen-btn-desktop {
                display: none !important;
            }
            
            /* Mobile controls visibility */
            .custom-controls-overlay {
                opacity: 1; /* Always show controls on mobile */
            }
            
            .play-overlay {
                opacity: 1; /* Always show play overlay on mobile */
            }
            
            /* Hide volume controls on mobile */
            .volume-container, #mute-unmute {
                display: none !important;
            }
        }

        @media (max-width: 480px) {
            .video-controls {
                padding: 8px;
            }
            
            .left-controls, .right-controls {
                gap: 8px;
            }
            
            .volume-slider {
                width: 40px;
            }
            
            .time-display {
                font-size: 12px;
            }
            
            .skip-btn {
                display: flex !important; /* Ensure skip buttons are visible on mobile */
                padding: 3px 5px;
            }
            
            .play-overlay {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }
            
            /* Hide volume controls on mobile */
            .volume-container, #mute-unmute {
                display: none !important;
            }
        }

        /* Mobile-specific fullscreen button */
        .fullscreen-btn-mobile {
            display: none;
        }
        
        /* Prevent body scroll when modal is open */
        body.modal-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }
    </style>
    <!-- Modal for Videos -->
    <div id="videoModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('videoModal')">&times;</span>
            <h2 class="modal-title" id="videoTitle">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡ßá‡¶∏‡¶®</h2>
            <div id="videoContent">
                <div class="container">
                    <div class="player-wrapper">
                        <div id="video-container">
                            <!-- ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã YouTube Player -->
                            <div id="youtube-player"></div>
                            
                            <!-- Custom Controls Overlay -->
                            <div class="custom-controls-overlay">
                                <div class="video-controls">
                                    <div class="progress-bar-container" id="progress-container">
                                        <div class="progress-bar" id="progress-bar">
                                            <div class="progress-handle"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="controls-container">
                                        <div class="left-controls">
                                            <button class="control-btn" id="play-pause">
                                                <i class="fas fa-play"></i>
                                            </button>
                                            <button class="skip-btn" id="skip-backward">
                                                <i class="fas fa-backward-step"></i> ‡ß©‡ß¶‡¶∏‡ßá
                                            </button>
                                            <button class="skip-btn" id="skip-forward">
                                                ‡ß©‡ß¶‡¶∏‡ßá <i class="fas fa-forward-step"></i>
                                            </button>
                                            <!-- Volume controls will be hidden on mobile -->
                                            <button class="control-btn" id="mute-unmute">
                                                <i class="fas fa-volume-high"></i>
                                            </button>
                                            <div class="volume-container">
                                                <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="100">
                                            </div>
                                            <div class="time-display">
                                                <span id="current-time">0:00</span> / <span id="duration">0:00</span>
                                            </div>
                                        </div>
                                        
                                        <div class="right-controls">
                                            <!-- Desktop fullscreen button -->
                                            <button class="control-btn fullscreen-btn-desktop" id="fullscreen-btn">
                                                <i class="fas fa-expand"></i>
                                            </button>
                                            <!-- Mobile fullscreen button -->
                                            <button class="control-btn fullscreen-btn-mobile" id="fullscreen-btn-mobile">
                                                <i class="fas fa-expand"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Play overlay button -->
                            <div class="play-overlay" id="play-overlay">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- iOS Exit Fullscreen Button -->
    <button id="ios-exit-fullscreen" onclick="exitIOSFullscreen()">
        <i class="fas fa-compress"></i>
    </button>
    
    <!-- Custom context menu -->
    <div class="custom-context-menu" id="custom-context-menu">
        ‡¶∞‡¶æ‡¶á‡¶ü ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶°‡¶ø‡¶∏‡ßá‡¶¨‡¶≤ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
    </div>
    
    <!-- Lesson buttons for testing -->
    <div style="padding: 20px; text-align: center;">
        <h2>‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡ßá‡¶∏‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
        <button onclick="openVideoModal('lesson-1')">‡¶≤‡ßá‡¶∏‡¶® 1</button>
        <button onclick="openVideoModal('lesson-2')">‡¶≤‡ßá‡¶∏‡¶® 2</button>
    </div>




<!-- Modal for Notes -->
<div id="noteModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('noteModal')">&times;</span>
            <h2 class="modal-title" id="noteTitle">‡¶®‡ßã‡¶ü</h2>
            <div id="noteContent">
                <iframe class="modal-pdf" src=""></iframe>
            </div>
        </div>
</div>
<!-- Payment Form Section in your HTML -->
<div id="lockedModal" class="modal">
    <div class="modal-content" style="max-width: 500px;">
        <span class="close-modal" onclick="closeModal('lockedModal')">&times;</span>
        <h2 class="modal-title">‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
        <div class="locked-message">
            <p id="courseLockedMessage">‡¶è‡¶á ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶π‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§</p>
            
            <div class="payment-section" style="margin-top: 20px;">
                <!-- Payment methods display -->
                <div style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 15px; margin-bottom: 20px;">
                    <!-- Bkash Payment -->
                    <div style="flex: 1; min-width: 140px; background: #f0f5ff; padding: 12px; border-radius: 8px; border-left: 4px solid #e2136e;">
                        <div style="display: flex; align-items: center; margin-bottom: 8px;">
                            <img src="/TalimulFcopy/img/bkash.png" alt="‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂" style="width: 24px; height: 24px; margin-right: 8px;">
                            <strong style="font-size: 14px;">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂</strong>
                        </div>
                        <div style="font-size: 13px;">
                            <div><strong>‡¶®‡¶Æ‡ßç‡¶¨‡¶∞:</strong> ‡ß¶‡ßß‡ßØ‡ßß‡ßß-‡ß´‡ß¨‡ß≠‡ßÆ‡ßØ‡ß¶</div>
                            <div style="color: #666;">(Personal - ‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Ü‡¶≤ ‡¶Æ‡¶æ‡¶Æ‡ßÅ‡¶®)</div>
                        </div>
                    </div>
                    
                    <!-- Nagad Payment -->
                    <div style="flex: 1; min-width: 140px; background: #f0fff5; padding: 12px; border-radius: 8px; border-left: 4px solid #29a335;">
                        <div style="display: flex; align-items: center; margin-bottom: 8px;">
                            <img src="/TalimulFcopy/img/Nagad.jpeg" alt="‡¶®‡¶ó‡¶¶" style="width: 24px; height: 24px; margin-right: 8px;">
                            <strong style="font-size: 14px;">‡¶®‡¶ó‡¶¶</strong>
                        </div>
                        <div style="font-size: 13px;">
                            <div><strong>‡¶®‡¶Æ‡ßç‡¶¨‡¶∞:</strong> ‡ß¶‡ßß‡ßÆ‡ß´‡ß¶-‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨</div>
                            <div style="color: #666;">(Personal - ‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Ü‡¶≤ ‡¶Æ‡¶æ‡¶Æ‡ßÅ‡¶®)</div>
                        </div>
                    </div>
                </div>

                <!-- Bank Payment -->
                    <div style="flex: 1; min-width: 140px; background: #fff9f0; padding: 12px; border-radius: 8px; border-left: 4px solid #5e35b1;">
                        <div style="display: flex; align-items: center; margin-bottom: 8px;">
                            <img src="/TalimulFcopy/img/islami-bank.png" alt="‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï" style="width: 24px; height: 24px; margin-right: 8px;">
                            <strong style="font-size: 14px;">‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï</strong>
                        </div>
                        <div style="font-size: 13px;">
                            <div>‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï</div>
                            <div style="color: #666;">‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü: ‡ß®‡ß¶‡ß´‡ß¶‡ß©‡ß¶‡ßß‡ß¶‡ßß‡ß¶‡ß©‡ß™‡ß¨</div>
                        </div>
                    </div>
                </div>
                
                <!-- Payment Form -->
                <form id="manualPaymentForm" style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 14px; color: #555;">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞</label>
                        <input type="text" name="phone" placeholder="01XXXXXXXXX" required 
                               style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 14px; color: #555;">‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø</label>
                        <input type="text" name="txnId" placeholder="TRX123456789" required 
                               style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 14px; color: #555;">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ</label>
                        <select name="paymentMethod" required 
                                style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; background: white;">
                            <option value="">‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                            <option value="bkash">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂</option>
                            <option value="nagad">‡¶®‡¶ó‡¶¶</option>
                            <option value="bank">‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï</option>
                        </select>
                    </div>
                    
                    <input type="hidden" name="courseId" id="courseIdInput" value="Fiqh-course">
                    
                    <button type="submit" id="submitPaymentBtn"
                            style="background: var(--gradient-bg); color: white; border: none; padding: 12px; 
                                   width: 100%; border-radius: 6px; cursor: pointer; font-weight: 500; font-size: 15px;">
                        ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                    
                    <p id="paymentMessage" style="margin-top: 15px; text-align: center; font-size: 13px;"></p>
                </form>
            </div>
        </div>
</div>
</div>
<!-- Success Message Modal (hidden by default) -->
<div id="successModal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 400px; text-align: center;">
        <div style="margin: 20px 0;">
            <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" fill="#4CAF50"/>
                <path d="M8 12L11 15L16 9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <h3 style="color: #4CAF50; margin: 15px 0 10px;">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá!</h3>
            <p style="color: #555; margin-bottom: 20px;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
            <button onclick="closeModal('successModal')" 
                    style="background: #4CAF50; color: white; border: none; padding: 10px 20px; 
                           border-radius: 5px; cursor: pointer;">‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá</button>
        </div>
    </div>
</div>

<script>
// Payment account information
const paymentAccounts = {
    bkash: {
        number: "‡ß¶‡ßß‡ßØ‡ßß‡ßß-‡ß´‡ß¨‡ß≠‡ßÆ‡ßØ‡ß¶",
        name: "‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Ü‡¶≤ ‡¶Æ‡¶æ‡¶Æ‡ßÅ‡¶®",
        type: "Personal"
    },
    nagad: {
        number: "‡ß¶‡ßß‡ßÆ‡ß´‡ß¶-‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨",
        name: "‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Ü‡¶≤ ‡¶Æ‡¶æ‡¶Æ‡ßÅ‡¶®",
        type: "Personal"
    },
    bank: {
        name: "‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Ü‡¶≤ ‡¶Æ‡¶æ‡¶Æ‡ßÅ‡¶®",
        bankName: "‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶°",
        accountNumber: "‡ß®‡ß¶‡ß´‡ß¶‡ß©‡ß¶‡ßß‡ß¶‡ßß‡ß¶‡ß©‡ß™‡ß¨",
        branch: "‡¶Æ‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞-‡ßß‡ß¶, ‡¶¢‡¶æ‡¶ï‡¶æ"
    }
};

// Current course information
const currentCourse = {
    id: "TalimulIslamVolume-2",
    name: "‡¶§‡¶æ‡¶≤‡¶ø‡¶Æ‡ßÅ‡¶≤¬†‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ¬†‡ß®‡¶Ø‡¶º¬†‡¶ñ‡¶®‡ßç‡¶° "
};

// Function to update payment info in modal
function updatePaymentInfo() {
    // Update course name in message
    document.getElementById('courseLockedMessage').textContent = 
        `‡¶è‡¶á ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶π‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá "${currentCourse.name}" ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§`;
    
    // Update course ID in hidden input
    document.getElementById('courseIdInput').value = currentCourse.id;
    
    // Update bKash info
    document.getElementById('bkashNumber').textContent = paymentAccounts.bkash.number;
    document.getElementById('bkashName').textContent = paymentAccounts.bkash.name;
    
    // Update Nagad info
    document.getElementById('nagadNumber').textContent = paymentAccounts.nagad.number;
    document.getElementById('nagadName').textContent = paymentAccounts.nagad.name;
    
    // Update Bank info
    document.getElementById('bankAccountName').textContent = paymentAccounts.bank.name;
    document.getElementById('bankAccountNumber').textContent = paymentAccounts.bank.accountNumber;
    document.getElementById('bankDetails').innerHTML = `
        ${paymentAccounts.bank.bankName}<br>
        ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡¶æ‡¶Æ: ${paymentAccounts.bank.name}<br>
        ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: ${paymentAccounts.bank.accountNumber}<br>
        ‡¶∂‡¶æ‡¶ñ‡¶æ: ${paymentAccounts.bank.branch}
    `;
}

// Call this function when modal opens
function showLockedMessage() {
    updatePaymentInfo();
    document.getElementById('lockedModal').style.display = 'block';
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', function() {
    // You can also fetch payment info from server if needed
    // fetchPaymentInfo();
    
    // Set initial values
    updatePaymentInfo();
});

// Example function to fetch payment info from server
async function fetchPaymentInfo() {
    try {
        const response = await fetch('/api/payment-accounts');
        const data = await response.json();
        
        if (response.ok) {
            // Update local paymentAccounts object with server data
            Object.assign(paymentAccounts, data);
            updatePaymentInfo();
        }
    } catch (error) {
        console.error('Error fetching payment info:', error);
    }
}

    // Current payment being viewed in modal
let currentPaymentId = null;

// DOM elements for payment details
const detailElements = {
    name: document.getElementById('detail-name'),
    email: document.getElementById('detail-email'),
    phone: document.getElementById('detail-phone'),
    method: document.getElementById('detail-method'),
    txn: document.getElementById('detail-txn'),
    course: document.getElementById('detail-course'),
    date: document.getElementById('detail-date'),
    status: document.getElementById('detail-status'),
    amount: document.getElementById('detail-amount')
};

// Prevent video download and right-click in modal
function setupVideoProtection() {
    const videoModal = document.getElementById('videoModal');
    
    if (videoModal) {
        // Disable right-click in modal
        videoModal.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            showNotification('error', '‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø ‡¶®‡ßá‡¶á');
        });
        
        // Disable video download via keyboard shortcuts
        videoModal.addEventListener('keydown', function(e) {
            // Block Ctrl+S, Ctrl+Shift+S, etc.
            if ((e.ctrlKey || e.metaKey) && (e.key === 's' || e.key === 'S')) {
                e.preventDefault();
                showNotification('error', '‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø ‡¶®‡ßá‡¶á');
            }
        });
    }
    
    // Protect video element specifically
    const videoElement = document.querySelector('.modal-video');
    if (videoElement) {
        // Remove download controls
        videoElement.removeAttribute('controlsList');
        videoElement.setAttribute('controlsList', 'nodownload');
        
        // Disable right-click on video
        videoElement.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            showNotification('error', '‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø ‡¶®‡ßá‡¶á');
            return false;
        });
        
        // Disable drag-and-drop
        videoElement.addEventListener('dragstart', function(e) {
            e.preventDefault();
            return false;
        });
    }
}

// Tab functionality
function openTab(tabName) {
    var i, tabcontent, tabs;
    tabcontent = document.getElementsByClassName("tab-content");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].classList.remove("active");
    }
    tabs = document.getElementsByClassName("tab");
    for (i = 0; i < tabs.length; i++) {
        tabs[i].classList.remove("active");
    }
    document.getElementById(tabName).classList.add("active");
    event.target.classList.add("active");
}

// Toggle content functionality
function toggleContent() {
    var content = document.getElementById('more-content');
    var button = document.querySelector('.read-more');
    
    if (content.classList.contains('hidden-content')) {
        content.classList.remove('hidden-content');
        content.style.display = 'block';
        button.textContent = '‡¶ï‡¶Æ ‡¶™‡¶°‡¶º‡ßÅ‡¶®';
    } else {
        content.classList.add('hidden-content');
        content.style.display = 'none';
        button.textContent = '‡¶Ü‡¶∞‡ßã ‡¶™‡¶°‡¶º‡ßÅ‡¶®';
    }
}

// Video modal functionality

// Rest of your existing code remains the same...
// Note modal functionality
function openNoteModal(noteId) {
    const noteData = {
        'note-1': {
            title: '‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ',
            content: `
                <div style="padding: 20px;">
                    <h3 style="color: var(--primary-color); margin-bottom: 15px;">‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ</h3>
                    <p style="line-height: 1.8; margin-bottom: 15px;">
                        ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶≠‡¶æ‡¶∑‡¶æ‡¶Ø‡¶º '‡¶á‡¶¨‡¶æ‡¶∞‡¶§' ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶• ‡¶π‡¶≤‡ßã ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø ‡¶¨‡¶æ ‡¶¨‡¶ï‡ßç‡¶§‡¶¨‡ßç‡¶Ø‡•§ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶Ø‡¶º ‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶¨‡¶≤‡¶§‡ßá ‡¶¨‡ßã‡¶ù‡¶æ‡¶Ø‡¶º
                        ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®, ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏ ‡¶¨‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶ó‡ßç‡¶∞‡¶®‡ßç‡¶•‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Ç‡¶∂ ‡¶Ø‡¶æ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶ì ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶π‡¶Ø‡¶º‡•§
                    </p>
                    <h4 style="color: var(--primary-color); margin: 20px 0 10px 0;">‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨:</h4>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®-‡¶π‡¶æ‡¶¶‡¶ø‡¶∏ ‡¶¨‡ßÅ‡¶ù‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡¶∞‡¶ø‡¶π‡¶æ‡¶∞‡ßç‡¶Ø</li>
                        <li>‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶Ö‡¶∞‡ßç‡¶ú‡¶®‡ßá‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶ö‡¶æ‡¶¨‡¶ø‡¶ï‡¶æ‡¶†‡¶ø</li>
                        <li>‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶≠‡¶æ‡¶∑‡¶æ‡¶∞ ‡¶ó‡¶≠‡ßÄ‡¶∞ ‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶≤‡¶æ‡¶≠</li>
                        <li>‡¶ß‡¶∞‡ßç‡¶Æ‡ßÄ‡¶Ø‡¶º ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡¶§‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º</li>
                    </ul>
                </div>
            `,
            pdfLinks: [
                {
                    url: '/Talimul Islam Frontend/pdf/Invoice-1229656.pdf',
                    filename: '‡¶á‡¶¨‡¶æ‡¶∞‡¶§-‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞-‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï-‡¶ß‡¶æ‡¶∞‡¶£‡¶æ.pdf',
                    size: '‡ß®.‡ß´ MB',
                    pages: '‡ß®‡ßÆ'
                }
            ]
        },
        'note-2': {
            title: '‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶Æ‡ßÇ‡¶≤‡¶®‡ßÄ‡¶§‡¶ø',
            content: `
                <div style="padding: 20px;">
                    <h3 style="color: var(--primary-color); margin-bottom: 15px;">‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶Æ‡ßÇ‡¶≤‡¶®‡ßÄ‡¶§‡¶ø</h3>
                    <p style="line-height: 1.8; margin-bottom: 15px;">
                        ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶¨‡¶æ ‡¶®‡¶æ‡¶π‡ßÅ ‡¶π‡¶≤‡ßã ‡¶∏‡ßá‡¶á ‡¶∂‡¶æ‡¶∏‡ßç‡¶§‡ßç‡¶∞ ‡¶Ø‡¶æ ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶≠‡¶æ‡¶∑‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø ‡¶ó‡¶†‡¶®‡ßá‡¶∞ ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶æ‡¶¨‡¶≤‡ßÄ ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶≤‡ßã‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡ßá‡•§
                    </p>
                </div>
            `,
            pdfLinks: [
                {
                    url: '/Talimul Islam Frontend/pdf/arabic-grammar.pdf',
                    filename: '‡¶Ü‡¶∞‡¶¨‡¶ø-‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£-‡¶Æ‡ßÇ‡¶≤‡¶®‡ßÄ‡¶§‡¶ø.pdf',
                    size: '‡ß©.‡ß® MB',
                    pages: '‡ß™‡ß´'
                }
            ]
        }
    };

    if (noteData[noteId]) {
        const note = noteData[noteId];
        document.getElementById('noteTitle').textContent = note.title;
        
        let pdfLinksHtml = '';
        if (note.pdfLinks && note.pdfLinks.length > 0) {
            pdfLinksHtml = `
                <div style="margin-top: 30px; padding: 15px; background: #f8f9fa; border-radius: 6px; border-left: 4px solid var(--primary-color);">
                    <h4 style="color: var(--primary-color); margin: 0 0 15px 0; display: flex; align-items: center;">
                        <svg width="20" height="20" style="margin-right: 8px;" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                        </svg>
                        ‡¶∏‡¶Ç‡¶∂‡ßç‡¶≤‡¶ø‡¶∑‡ßç‡¶ü PDF ‡¶´‡¶æ‡¶á‡¶≤${note.pdfLinks.length > 1 ? '‡¶∏‡¶Æ‡ßÇ‡¶π' : ''}
                    </h4>
                    ${note.pdfLinks.map(pdf => `
                        <div style="margin-bottom: 15px; padding: 12px; background: white; border-radius: 5px; border: 1px solid #e0e0e0;">
                            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 8px;">
                                <a href="${pdf.url}" 
                                   target="_blank" 
                                   download="${pdf.filename}"
                                   style="display: inline-flex; align-items: center; padding: 8px 12px; background: var(--primary-color); color: white; text-decoration: none; border-radius: 4px; font-size: 13px;">
                                    <svg width="14" height="14" style="margin-right: 5px;" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"/>
                                    </svg>
                                    ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°
                                </a>
                                
                                <a href="${pdf.url}" 
                                   target="_blank"
                                   style="display: inline-flex; align-items: center; padding: 8px 12px; background: #28a745; color: white; text-decoration: none; border-radius: 4px; font-size: 13px;">
                                    <svg width="14" height="14" style="margin-right: 5px;" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"/>
                                    </svg>
                                    ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                                </a>
                            </div>
                            <p style="margin: 0; font-size: 11px; color: #666;">
                                ‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡¶æ‡¶á‡¶ú: ${pdf.size} | ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ: ${pdf.pages} | ‡¶≠‡¶æ‡¶∑‡¶æ: ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ì ‡¶Ü‡¶∞‡¶¨‡¶ø
                            </p>
                        </div>
                    `).join('')}
                </div>
            `;
        }
        
        document.getElementById('noteContent').innerHTML = note.content + pdfLinksHtml;
        document.getElementById('noteModal').style.display = 'block';
    }
}

// Show locked message
function showLockedMessage() {
    document.getElementById('lockedModal').style.display = 'block';
}

// Close modal
function closeModal(modalId) {
    document.getElementById(modalId).style.display = 'none';
}

// Close modal when clicking outside
window.onclick = function(event) {
    var modals = document.getElementsByClassName('modal');
    for (var i = 0; i < modals.length; i++) {
        if (event.target == modals[i]) {
            modals[i].style.display = 'none';
        }
    }
}

// Purchase course with waiting status
function purchaseCourse() {
    // Show the locked modal
    document.getElementById('lockedModal').style.display = 'block';
    
    // Change the buy button text to "‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®..."
    const buyBtn = document.querySelector('.buy-btn');
    if (buyBtn) {
        buyBtn.textContent = '‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®...';
        buyBtn.style.backgroundColor = '#6c757d'; // Gray color for waiting state
        buyBtn.style.cursor = 'not-allowed';
        buyBtn.onclick = null; // Disable further clicks
    }
}

// Function to render payment requests
async function renderPaymentRequests() {
    try {
        const response = await fetch('http://localhost:5000/api/admin/payments');
        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.message || '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® fetch payments');
        }

        const payments = result.payments || result;
        
        const tbody = document.getElementById('pendingPayments');
        tbody.innerHTML = '';
        
        if (payments.length === 0) {
            tbody.innerHTML = `
                <tr>
                    <td colspan="8" class="no-requests">‡¶ï‡ßã‡¶® ‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</td>
                </tr>
            `;
            return;
        }
        
        payments.forEach(payment => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td>${payment.id}</td>
                <td>${payment.name}</td>
                <td>${payment.email || 'N/A'}</td>
                <td>${payment.phone || 'N/A'}</td>
                <td>${getPaymentMethodName(payment.paymentMethod)}</td>
                <td>${payment.txnId || 'N/A'}</td>
                <td class="${getStatusClass(payment.status)}">${getStatusText(payment.status)}</td>
                <td>
                    <button class="action-btn view-btn" onclick="viewPaymentDetails('${payment.id}')">
                        ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§
                    </button>
                </td>
            `;
            tbody.appendChild(tr);
        });
    } catch (error) {
        console.error('Error fetching payments:', error);
        const tbody = document.getElementById('pendingPayments');
        tbody.innerHTML = `
            <tr>
                <td colspan="8" class="error-message">
                    ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ${error.message}
                </td>
            </tr>
        `;
    }
}

// Get payment method name in Bengali
function getPaymentMethodName(method) {
    const methods = {
        'bkash': '‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂',
        'nagad': '‡¶®‡¶ó‡¶¶',
        'rocket': '‡¶∞‡¶ï‡ßá‡¶ü',
        'bank': '‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏‡¶´‡¶æ‡¶∞',
        'card': '‡¶ï‡ßç‡¶∞‡ßá‡¶°‡¶ø‡¶ü/‡¶°‡ßá‡¶¨‡¶ø‡¶ü ‡¶ï‡¶æ‡¶∞‡ßç‡¶°'
    };
    return methods[method] || method;
}

// Get status text in Bengali
function getStatusText(status) {
    const statuses = {
        'pending': '‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç',
        'approved': '‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§',
        'rejected': '‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ‡¶§'
    };
    return statuses[status] || status;
}

// Get CSS class for status
function getStatusClass(status) {
    return `status-${status}`;
}

// View payment details in modal
async function viewPaymentDetails(paymentId) {
    try {
        const response = await fetch(`http://localhost:5000/api/admin/payments/${paymentId}`);
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        
        const payment = await response.json();
        
        if (!payment) {
            throw new Error('Payment data not found');
        }

        // Set data
        detailElements.name.textContent = payment.name || 'N/A';
        detailElements.email.textContent = payment.email || 'N/A';
        detailElements.phone.textContent = payment.phone || 'N/A';
        detailElements.method.textContent = getPaymentMethodName(payment.paymentMethod) || 'N/A';
        detailElements.txn.textContent = payment.txnId || 'N/A';
        detailElements.course.textContent = payment.courseId || 'N/A';
        detailElements.date.textContent = payment.date ? formatDateTime(payment.date) : 'N/A';
        detailElements.status.textContent = getStatusText(payment.status);
        detailElements.status.className = `detail-value ${getStatusClass(payment.status)}`;
        
        // Set amount (if available in data)
        detailElements.amount.textContent = payment.amount ? `‡ß≥ ${payment.amount}` : 'N/A';

        currentPaymentId = paymentId;
        
        document.getElementById('paymentDetailsModal').style.display = 'block';
        
    } catch (error) {
        console.error('Error loading payment details:', error);
        alert('‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ' + error.message);
    }
}

// Format date and time in Bengali
function formatDateTime(dateStr) {
    if (!dateStr) return 'N/A';
    
    const date = new Date(dateStr);
    const options = { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        hour12: true
    };
    return date.toLocaleDateString('bn-BD', options);
}


// Update payment status
// Update UI after payment submission
function updatePaymentStatus(status) {
    const buyBtn = document.querySelector('.buy-now-btn');
    
    if (status === 'submitted') {
        if (buyBtn) {
        buyBtn.textContent = '‚è≥ ‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ ‡ß®‡ß™ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá';
        buyBtn.style.backgroundColor = '#FF9800'; // Orange color
        buyBtn.style.cursor = 'not-allowed';
        buyBtn.style.pointerEvents = 'none'; // Prevent click
        buyBtn.style.border = 'none';
        buyBtn.style.color = '#fff';
        buyBtn.style.padding = '12px 20px';
        buyBtn.style.fontSize = '16px';
        buyBtn.style.fontWeight = '600';
        buyBtn.style.borderRadius = '8px';
        buyBtn.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.15)';
        buyBtn.style.transition = 'all 0.3s ease';
        }
        
        // Save to localStorage to remember the state
        localStorage.setItem('paymentStatus', 'submitted');
    } else if (status === 'approved') {
        if (buyBtn) {
            buyBtn.textContent = '‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø‡¶≠ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá';
            buyBtn.style.backgroundColor = '#4CAF50'; // Green color
            buyBtn.style.cursor = 'default';
            buyBtn.onclick = null;
        }
        
        // Unlock course content
        unlockCourseContent();
        
        // Update localStorage
        localStorage.setItem('paymentStatus', 'approved');
    }
}

// Handle payment form submission with button state management
// Handle payment form submission
document.getElementById('manualPaymentForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const form = e.target;
    const submitBtn = document.getElementById('submitPaymentBtn');
    const messageEl = document.getElementById('paymentMessage');
    
    // Disable button and show loading
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç...';
    messageEl.textContent = '';
    messageEl.style.color = '';
    
    try {
        // Simulate API call (replace with actual fetch call)
        await new Promise(resolve => setTimeout(resolve, 1500));
        
        // Get form data
        const formData = new FormData(form);
        const currentUser = JSON.parse(localStorage.getItem('currentUser')) || {};
        
        // Create payment record
        const payment = {
            id: 'pay_' + Date.now(),
            userId: currentUser.id || 'guest',
            name: currentUser.name || 'Guest',
            email: currentUser.email || '',
            phone: formData.get('phone'),
            txnId: formData.get('txnId'),
            paymentMethod: formData.get('paymentMethod'),
            courseId: formData.get('courseId'),
            amount: 900,
            status: 'pending',
            date: new Date().toISOString()
        };
        
        // Save to localStorage (replace with actual API call)
        let payments = JSON.parse(localStorage.getItem('coursePayments') || '[]');
        payments.push(payment);
        localStorage.setItem('coursePayments', JSON.stringify(payments));
        
        // Update UI
        updatePaymentStatus('submitted');
        
        // Show success modal
        document.getElementById('lockedModal').style.display = 'none';
        document.getElementById('successModal').style.display = 'block';
        
    } catch (error) {
        messageEl.textContent = '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ' + error.message;
        messageEl.style.color = 'red';
    } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®';
    }
});




// Function to check payment status periodically
async function checkPaymentStatus(paymentId) {
    try {
        const response = await fetch(`http://localhost:5000/api/payments/status/${paymentId}`);
        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.message || '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® check payment status');
        }
        
        if (result.status === 'approved') {
            document.getElementById('paymentMessage').textContent = '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡¶∞‡¶£ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®! ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...';
            
            setTimeout(() => {
                closeModal('lockedModal');
                activateCourse();
            }, 1000);
        } else if (result.status === 'rejected') {
            document.getElementById('paymentMessage').textContent = '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
            document.getElementById('paymentMessage').style.color = 'red';
            localStorage.removeItem('course_payment_id');
            
            // Reset the buy button if rejected
            const buyBtn = document.querySelector('.buy-btn');
            if (buyBtn) {
                buyBtn.textContent = '‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®';
                buyBtn.style.backgroundColor = '';
                buyBtn.style.cursor = '';
                buyBtn.onclick = purchaseCourse;
            }
        } else {
            setTimeout(() => checkPaymentStatus(paymentId), 2000);
        }
    } catch (error) {
        console.error('Error checking payment status:', error);
        document.getElementById('paymentMessage').textContent = '‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶ü‡¶ø ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
        document.getElementById('paymentMessage').style.color = 'red';
    }
}

// In CourseDetails.html, add this function
async function checkAndUpdateCourseAccess() {
    const paymentId = localStorage.getItem('course_payment.id');
    if (!paymentId) return;
    
    try {
        // Check payment status
        const statusResponse = await fetch(`http://localhost:5000/api/payments/status/${paymentId}`);
        const statusResult = await statusResponse.json();
        
        if (!statusResponse.ok) {
            throw new Error(statusResult.message || '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® check payment status');
        }
        
        // If approved, check if course is unlocked
        if (statusResult.status === 'approved') {
            const accessResponse = await fetch(`http://localhost:5000/api/courses/check-access/${paymentId}`);
            const accessResult = await accessResponse.json();
            
            if (!accessResponse.ok) {
                throw new Error('‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® check course access');
            }
            
            if (accessResult.access) {
                activateCourse();
            } else {
                // If approved but not unlocked, trigger unlock
                const unlockResponse = await fetch(`http://localhost:5000/api/courses/unlock/${paymentId}`, {
                    method: 'POST'
                });
                
                const unlockResult = await unlockResponse.json();
                
                if (!unlockResponse.ok) {
                    throw new Error(unlockResult.message || '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® unlock course');
                }
                
                activateCourse();
            }
        }
    } catch (error) {
        console.error('Error checking course access:', error);
    }
}

// Modify the activateCourse function to be more comprehensive
function activateCourse() {
    try {
        // Update pricing section
        const pricingSection = document.getElementById('pricing-section');
        if (pricingSection) {
            pricingSection.innerHTML = `
                <div class="active-course-badge">
                    <h3>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!</h3>
                    <p>‡¶è‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶ï‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ì ‡¶®‡ßã‡¶ü ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®</p>
                </div>
                <div class="course-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üë•</span>
                        <span>‡ßß‡ß®,‡ß´‡ß¶‡ß¶+ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üì∫</span>
                        <span>‡ßß‡ß¶‡¶ü‡¶ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡ßá‡¶∏‡¶®</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚è±Ô∏è</span>
                        <span>‡¶Æ‡ßã‡¶ü ‡ßÆ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üìÑ</span>
                        <span>‡ßÆ‡¶ü‡¶ø ‡¶™‡¶ø‡¶°‡¶ø‡¶è‡¶´ ‡¶®‡ßã‡¶ü</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üèÜ</span>
                        <span>‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚ôæÔ∏è</span>
                        <span>‡¶Ü‡¶ú‡ßÄ‡¶¨‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏</span>
                    </div>
                </div>
            `;
        }

        // Unlock all videos
        const videoItems = document.querySelectorAll('.video-item.locked');
        videoItems.forEach(item => {
            item.classList.remove('locked');
            const videoId = item.getAttribute('data-video-id');
            if (videoId) {
                item.onclick = () => openVideoModal(videoId);
                const lockIcon = item.querySelector('.video-lock');
                if (lockIcon) lockIcon.remove();
            }
        });

        // Unlock all notes
        const noteItems = document.querySelectorAll('.note-item.locked');
        noteItems.forEach(item => {
            item.classList.remove('locked');
            const noteId = item.getAttribute('data-note-id');
            if (noteId) {
                item.onclick = () => openNoteModal(noteId);
                const lockIcon = item.querySelector('.note-lock');
                if (lockIcon) lockIcon.remove();
            }
        });

        // Enable review form
        const reviewForm = document.getElementById('reviewForm');
        if (reviewForm) {
            reviewForm.classList.remove('hidden');
        }

        // Show success notification
        showNotification('success', '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');

    } catch (error) {
        console.error('Error activating course:', error);
        showNotification('error', '‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ' + error.message);
        
        // Reset the buy button if activation fails
        const buyBtn = document.querySelector('.buy-btn');
        if (buyBtn) {
            buyBtn.textContent = '‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®';
            buyBtn.style.backgroundColor = '';
            buyBtn.style.cursor = '';
            buyBtn.onclick = purchaseCourse;
        }
    }
}

// Show notification

// Submit review function - ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶∏‡¶π
function submitReview() {
    const rating = document.getElementById('rating').value;
    const reviewText = document.getElementById('reviewText').value;
    
    // Get current user from localStorage
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    
    if (!currentUser) {
        showLoginAlert();
        return;
    }
    
    if (!rating || !reviewText) {
        showNotification('‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç ‡¶è‡¶¨‡¶Ç ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®', 'error');
        return;
    }
    
    const reviewData = {
        courseId: 'TalimulIslamVolume-2', // ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
        reviewerName: currentUser.name,
        reviewerEmail: currentUser.email,
        rating: rating,
        reviewText: reviewText
    };
    
    fetch('https://t-islamacademy.onrender.com/api/reviews', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${localStorage.getItem('authToken')}`
        },
        body: JSON.stringify(reviewData)
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            showNotification('‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
            
            // Add the new review to the UI dynamically
            const newReview = createReviewElement({
                reviewerName: currentUser.name,
                reviewerEmail: currentUser.email,
                rating: rating,
                reviewText: reviewText,
                date: new Date().toISOString(),
                isApproved: true
            });
            
            const reviewsContainer = document.querySelector('.reviews-container');
            if (reviewsContainer) {
                reviewsContainer.insertBefore(newReview, reviewsContainer.firstChild);
            }
            
            // Clear the form
            document.getElementById('reviewText').value = '';
            
            // Show success message
            document.getElementById('reviewSuccessMessage').style.display = 'block';
            setTimeout(() => {
                document.getElementById('reviewSuccessMessage').style.display = 'none';
            }, 3000);
        } else {
            showNotification(data.message || '‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'error');
        }
    })
    .catch(error => {
        console.error('Error submitting review:', error);
        showNotification('‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'error');
    });
}

// UI-‡¶§‡ßá ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®

// UI-‡¶§‡ßá ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
function addReviewToUI(review) {
    const reviewsContainer = document.querySelector('.reviews-container');
    
    // ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
    const reviewDate = new Date(review.date);
    const formattedDate = reviewDate.toLocaleDateString('bn-BD', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    }) + ' ' + reviewDate.toLocaleTimeString('bn-BD', {
        hour: '2-digit',
        minute: '2-digit'
    });

    // ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
    const reviewElement = document.createElement('div');
    reviewElement.className = 'review';
    reviewElement.innerHTML = `
        <div class="review-header">
            <div class="reviewer-avatar">${review.name.charAt(0).toUpperCase()}</div>
            <div>
                <div class="reviewer-name">${review.name}</div>
                <div class="star-rating">${'‚≠ê'.repeat(review.rating)}</div>
            </div>
            <div class="review-date">${formattedDate}</div>
        </div>
        <div class="review-text">${review.text}</div>
    `;
    
    // ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
    reviewsContainer.insertBefore(reviewElement, reviewsContainer.firstChild);
}
// ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
// ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function setupReviewForm() {
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    const reviewForm = document.getElementById('reviewForm');
    const reviewerInfo = document.getElementById('reviewerInfo');
    
    if (!currentUser) {
        reviewForm.style.display = 'none';
        return;
    }
    
    // ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ
    const userAccess = JSON.parse(localStorage.getItem('userCourseAccess')) || {};
    const hasAccess = userAccess[currentUser.email]?.['TalimulIslamVolume-21']?.accessGranted;
    
    if (hasAccess) {
        // ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶´‡¶∞‡ßç‡¶Æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
        reviewForm.style.display = 'block';
        
        // ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
        reviewerInfo.style.display = 'block';
        document.getElementById('reviewerAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
        document.getElementById('reviewerName').textContent = currentUser.name;
        
        // ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        const currentDate = new Date();
        document.getElementById('reviewDate').textContent = currentDate.toLocaleDateString('bn-BD', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
        
        // ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡ßá‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
        loadExistingReviews();
    } else {
        // ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶´‡¶∞‡ßç‡¶Æ ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®
        reviewForm.style.display = 'none';
    }
}
// ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡ßá‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
// ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡ßá‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
function loadExistingReviews() {
    const reviews = JSON.parse(localStorage.getItem('courseReviews')) || [];
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    
    // ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
    const userReviews = reviews.filter(review => 
        review.courseId === 'TalimulIslamVolume-2' && 
        review.userId === currentUser.id
    );
    
    // ‡¶Ø‡¶¶‡¶ø ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡ßá‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶•‡¶æ‡¶ï‡ßá, ‡¶´‡¶∞‡ßç‡¶Æ‡ßá ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
    if (userReviews.length > 0) {
        const latestReview = userReviews[userReviews.length - 1];
        document.getElementById('rating').value = latestReview.rating;
        document.getElementById('reviewText').value = latestReview.text;
    }
}
// ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
document.addEventListener('DOMContentLoaded', function() {
    setupReviewForm();
    
    // ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶π‡¶≤‡ßá ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡ßü ‡¶ï‡¶∞‡ßÅ‡¶®
    if (document.querySelector('.active-course-badge')) {
        setupReviewForm();
    }
});

// Initialize page
document.addEventListener('DOMContentLoaded', function() {
    checkAndUpdateCourseAccess();
    
    // Set up periodic checking (every 5 seconds) if not already activated
    const paymentId = localStorage.getItem('course_payment.id');
    if (paymentId && !document.querySelector('.active-course-badge')) {
        setInterval(checkAndUpdateCourseAccess, 5000);
    }
    
    // Add interactive effects
    const cards = document.querySelectorAll('.content-box, .course-pricing');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.boxShadow = '0 10px 20px rgba(0,0,0,0.1)';
        });
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.05)';
        });
    });
    
    // Set up event listeners for review form
    const reviewForm = document.getElementById('reviewForm');
    if (reviewForm) {
        reviewForm.addEventListener('submit', function(e) {
            e.preventDefault();
            submitReview();
        });
    }

    // Setup video protection initially
    setupVideoProtection();
});





// ‡¶≤‡¶ó‡¶á‡¶® ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® (‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá‡¶°)
function checkLoginStatus() {
    const token = localStorage.getItem('authToken');
    const user = JSON.parse(localStorage.getItem('currentUser'));
    
    // UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
    const desktopLoginButton = document.getElementById('desktopLoginButton');
    const mobileLoginButton = document.getElementById('mobileLoginButton');
    const desktopProfileDropdown = document.getElementById('desktopProfileDropdown');
    const mobileProfileDropdown = document.getElementById('mobileProfileDropdown');
    const desktopProfileIcon = document.getElementById('desktopProfileIcon');
    const mobileProfileIcon = document.getElementById('mobileProfileIcon');
    
    if (token && user) {
        if (desktopLoginButton) desktopLoginButton.style.display = 'none';
        if (mobileLoginButton) mobileLoginButton.style.display = 'none';
        
        if (desktopProfileDropdown) {
            desktopProfileDropdown.style.display = 'block';
            desktopProfileIcon.textContent = user.name.charAt(0).toUpperCase();
        }
        if (mobileProfileDropdown) {
            mobileProfileDropdown.style.display = 'block';
            mobileProfileIcon.textContent = user.name.charAt(0).toUpperCase();
        }
    } else {
        if (desktopLoginButton) desktopLoginButton.style.display = 'flex';
        if (mobileLoginButton) mobileLoginButton.style.display = 'flex';
        
        if (desktopProfileDropdown) desktopProfileDropdown.style.display = 'none';
        if (mobileProfileDropdown) mobileProfileDropdown.style.display = 'none';
    }
    
    return !!token && !!user; // ‡¶¨‡ßÅ‡¶≤‡¶ø‡ßü‡¶æ‡¶® ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶∞‡¶¨‡ßá
}

// "‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® (‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá‡¶°)
function handleBuyNow() {
    // ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ
    if (!checkLoginStatus()) {
        showLoginAlert();
        return;
    }
    
    // ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
    document.getElementById('lockedModal').style.display = 'block';
}

// ‡¶≤‡¶ó‡¶á‡¶® ‡¶è‡¶≤‡¶æ‡¶∞‡ßç‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function showLoginAlert() {
    const oldAlert = document.getElementById('loginAlertPopup');
    if (oldAlert) oldAlert.remove();

    const overlay = document.createElement('div');
    overlay.id = 'loginAlertPopup';
    overlay.style.position = 'fixed';
    overlay.style.top = 0;
    overlay.style.left = 0;
    overlay.style.width = '100vw';
    overlay.style.height = '100vh';
    overlay.style.background = 'rgba(0,0,0,0.35)';
    overlay.style.display = 'flex';
    overlay.style.alignItems = 'center';
    overlay.style.justifyContent = 'center';
    overlay.style.zIndex = 99999;

    const box = document.createElement('div');
    box.style.background = '#fff';
    box.style.borderRadius = '12px';
    box.style.boxShadow = '0 8px 32px rgba(0,0,0,0.18)';
    box.style.padding = '32px 24px 20px 24px';
    box.style.maxWidth = '350px';
    box.style.textAlign = 'center';
    box.style.position = 'relative';

    const closeBtn = document.createElement('button');
    closeBtn.innerHTML = '&times;';
    closeBtn.style.position = 'absolute';
    closeBtn.style.top = '10px';
    closeBtn.style.right = '15px';
    closeBtn.style.background = 'none';
    closeBtn.style.border = 'none';
    closeBtn.style.fontSize = '26px';
    closeBtn.style.color = '#888';
    closeBtn.style.cursor = 'pointer';
    closeBtn.onclick = () => overlay.remove();

    const icon = document.createElement('div');
    icon.innerHTML = '<i class="fas fa-lock" style="font-size:38px;color:#6A35F2;margin-bottom:10px;"></i>';

    const msg = document.createElement('div');
    msg.style.fontSize = '18px';
    msg.style.color = '#333';
    msg.style.margin = '10px 0 18px 0';
    msg.textContent = '‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶ï‡ßç‡¶∞‡ßü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®';

    const loginBtn = document.createElement('button');
    loginBtn.textContent = '‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®';
    loginBtn.style.background = 'linear-gradient(135deg, #6A35F2 0%, #2575fc 100%)';
    loginBtn.style.color = '#fff';
    loginBtn.style.border = 'none';
    loginBtn.style.borderRadius = '6px';
    loginBtn.style.padding = '10px 28px';
    loginBtn.style.fontSize = '16px';
    loginBtn.style.fontWeight = 'bold';
    loginBtn.style.cursor = 'pointer';
    loginBtn.style.marginTop = '10px';
    loginBtn.onclick = function() {
        overlay.remove();
        if (typeof LoginModule !== 'undefined' && LoginModule.handleLogin) {
            LoginModule.handleLogin();
        } else {
            const loginPopup = document.querySelector('.login-popup');
            if (loginPopup) loginPopup.classList.add('active');
            const blur = document.querySelector('.blur-overlay');
            if (blur) blur.classList.add('active');
        }
    };

    box.appendChild(closeBtn);
    box.appendChild(icon);
    box.appendChild(msg);
    box.appendChild(loginBtn);
    overlay.appendChild(box);
    document.body.appendChild(overlay);
}

// ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶® ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
// Handle payment form submission
// ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶®
// TalimulIslamVolume-2.html ‡¶´‡¶æ‡¶á‡¶≤‡ßá‡¶∞ script ‡¶Ö‡¶Ç‡¶∂‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶ï‡ßã‡¶° ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®

// ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶® ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
// TalimulIslamVolume-2.html-‡¶è ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
// TalimulIslamVolume-2.html-‡¶è ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
document.getElementById('manualPaymentForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (!currentUser) {
        showLoginAlert();
        return;
    }

    const formData = {
        userId: currentUser.id,
        name: currentUser.name,
        email: currentUser.email,
        phone: this.phone.value,
        courseId: this.courseId.value,
        courseName: "‡¶§‡¶æ‡¶≤‡¶ø‡¶Æ‡ßÅ‡¶≤¬†‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ¬†‡ß®‡¶Ø‡¶º¬†‡¶ñ‡¶®‡ßç‡¶° ",
        paymentMethod: this.paymentMethod.value,
        txnId: this.txnId.value,
        amount: 900,
        status: 'pending'
    };

    try {
        const response = await fetch('https://t-islamacademy.onrender.com/api/payments', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${localStorage.getItem('authToken')}`
            },
            body: JSON.stringify(formData)
        });

        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.message || 'Payment submission failed');
        }

        const result = await response.json();
        showSuccessMessage();
        closeModal('lockedModal');
        
        // Store payment ID to check status later
        localStorage.setItem('currentPaymentId', result.id);
        
    } catch (error) {
        showErrorMessage(error.message);
    }
});

// ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
async function checkPaymentStatus(paymentId) {
    try {
        const response = await fetch(`/api/payments/status/${paymentId}`, {
            headers: {
                'Authorization': `Bearer ${localStorage.getItem('authToken')}`
            }
        });
        
        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.message || '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® check payment status');
        }
        
        if (result.status === 'approved') {
            // ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
            await unlockCourse(paymentId);
            localStorage.removeItem('course_payment_id');
        } else if (result.status === 'rejected') {
            document.getElementById('paymentMessage').textContent = '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
            document.getElementById('paymentMessage').style.color = 'red';
            
            // ‡¶¨‡¶æ‡¶ü‡¶® ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            const buyBtn = document.querySelector('.buy-now-btn');
            if (buyBtn) {
                buyBtn.textContent = '‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®';
                buyBtn.style.backgroundColor = '';
                buyBtn.style.cursor = '';
                buyBtn.onclick = handleBuyNow;
            }
        } else {
            // ‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡ßü ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
            setTimeout(() => checkPaymentStatus(paymentId), 5000);
        }
    } catch (error) {
        console.error('Error checking payment status:', error);
        document.getElementById('paymentMessage').textContent = '‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶ü‡¶ø ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
        document.getElementById('paymentMessage').style.color = 'red';
    }
}



// ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ
// Function to check course access
// Check course access on page load
function checkCourseAccess() {
    const user = JSON.parse(localStorage.getItem('currentUser'));
    if (!user) return;

    const userCourses = user.courses || [];
    if (userCourses.includes('TalimulIslamVolume-2')) {
        unlockCourseContent();
    }
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', function() {
    checkCourseAccess();
    setupCourseAccessListener();
});
// ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
async function unlockCourse(paymentId) {
    try {
        const response = await fetch(`/api/courses/unlock`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${localStorage.getItem('authToken')}`
            },
            body: JSON.stringify({
                paymentId,
                courseId: 'TalimulIslamVolume-2'
            })
        });

        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.message || '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® unlock course');
        }
        
        // UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        activateCourse();
        
        // ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
        document.getElementById('lockedModal').style.display = 'none';
        
        // ‡¶∏‡¶æ‡¶ï‡¶∏‡ßá‡¶∏ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
        showNotification('success', '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
        
    } catch (error) {
        console.error('Error unlocking course:', error);
        showNotification('error', '‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ' + error.message);
    }
}



// Function to handle locked content clicks
function handleLockedContentClick(contentType, contentId) {
    const user = JSON.parse(localStorage.getItem('currentUser'));
    
    if (!user) {
        showLoginAlert();
        return;
    }
    
    checkCourseAccess().then(hasAccess => {
        if (hasAccess) {
            if (contentType === 'video') {
                openVideoModal(contentId);
            } else if (contentType === 'note') {
                openNoteModal(contentId);
            }
        } else {
            document.getElementById('lockedModal').style.display = 'flex';
            updatePaymentInfo();
        }
    });
}

// ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡¶∞‡¶æ‡¶∞ UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function activateCourse() {
    // ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶∏ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
    const pricingSection = document.getElementById('pricing-section');
    if (pricingSection) {
        pricingSection.innerHTML = `
            <div class="active-course-badge">
                <h3>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!</h3>
                <p>‡¶è‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶ï‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ì ‡¶®‡ßã‡¶ü ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®</p>
            </div>
            <div class="course-stats">
                <div class="stat-item">
                    <span class="stat-icon">üë•</span>
                    <span>‡ßß‡ß®,‡ß´‡ß¶‡ß¶+ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üì∫</span>
                    <span>‡ßß‡ß¶‡¶ü‡¶ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡ßá‡¶∏‡¶®</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">‚è±Ô∏è</span>
                    <span>‡¶Æ‡ßã‡¶ü ‡ßÆ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üìÑ</span>
                    <span>‡ßÆ‡¶ü‡¶ø ‡¶™‡¶ø‡¶°‡¶ø‡¶è‡¶´ ‡¶®‡ßã‡¶ü</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üèÜ</span>
                    <span>‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">‚ôæÔ∏è</span>
                    <span>‡¶Ü‡¶ú‡ßÄ‡¶¨‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏</span>
                </div>
            </div>
        `;
    }

    // ‡¶∏‡¶¨ ‡¶≤‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
    document.querySelectorAll('.locked').forEach(item => {
        item.classList.remove('locked');
        
        // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ ‡¶Ü‡¶®‡¶≤‡¶ï
        if (item.classList.contains('video-item')) {
            const videoId = item.getAttribute('data-video-id');
            if (videoId) {
                item.onclick = () => openVideoModal(videoId);
                const lockIcon = item.querySelector('.video-lock');
                if (lockIcon) lockIcon.remove();
            }
        }
        
        // ‡¶®‡ßã‡¶ü ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ ‡¶Ü‡¶®‡¶≤‡¶ï
        if (item.classList.contains('note-item')) {
            const noteId = item.getAttribute('data-note-id');
            if (noteId) {
                item.onclick = () => openNoteModal(noteId);
                const lockIcon = item.querySelector('.note-lock');
                if (lockIcon) lockIcon.remove();
            }
        }
    });

    // ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶´‡¶∞‡ßç‡¶Æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
    const reviewForm = document.getElementById('reviewForm');
    if (reviewForm) {
        reviewForm.classList.remove('hidden');
    }
}

// ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function showNotification(type, message) {
    const popup = document.createElement('div');
    popup.className = `custom-popup`;
    
    popup.innerHTML = `
        <div class="popup-content popup-${type}">
            <div class="popup-icon">
                ${type === 'success' ? '‚úì' : '‚ö†Ô∏è'}
            </div>
            <div class="popup-message">${message}</div>
            <button class="popup-close" onclick="this.parentElement.parentElement.remove()">√ó</button>
        </div>
    `;
    
    document.body.appendChild(popup);
    
    // Auto remove after 5 seconds
    setTimeout(() => {
        popup.classList.add('hide');
        setTimeout(() => popup.remove(), 300);
    }, 5000);
}


// ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
document.addEventListener('DOMContentLoaded', function() {
    // ‡¶≤‡¶ó‡¶á‡¶® ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
    checkLoginStatus();
    
    // "‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
    const buyBtn = document.querySelector('.buy-now-btn');
    if (buyBtn) {
        buyBtn.onclick = handleBuyNow;
    }
    
    // ‡¶Ø‡¶¶‡¶ø ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶•‡¶æ‡¶ï‡ßá, ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
    const paymentId = localStorage.getItem('course_payment.id');
    if (paymentId) {
        checkPaymentStatus(paymentId);
    }
});





// Payment Form Submission
// In the course page JavaScript
document.getElementById('manualPaymentForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    
    if (!currentUser) {
        showLoginAlert();
        return;
    }

    // Create payment object
    const payment = {
        _id: 'pay' + Date.now(),
        name: currentUser.name,
        email: currentUser.email,
        phone: formData.get('phone'),
        courseName: "‡¶§‡¶æ‡¶≤‡¶ø‡¶Æ‡ßÅ‡¶≤¬†‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ¬†‡ß®‡¶Ø‡¶º¬†‡¶ñ‡¶®‡ßç‡¶° ", // Course title
        courseId: formData.get('courseId'),
        paymentMethod: formData.get('paymentMethod'),
        txnId: formData.get('txnId'),
        amount: 900, // Fixed amount for this course
        status: 'pending',
        date: new Date().toISOString()
    };

    // Save to localStorage
    let payments = JSON.parse(localStorage.getItem('pendingPayments')) || [];
    payments.push(payment);
    localStorage.setItem('pendingPayments', JSON.stringify(payments));
    
    // Show success message
    document.getElementById('paymentMessage').textContent = '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
    document.getElementById('paymentMessage').className = 'payment-message success';
    
    // Reset form
    this.reset();
    
    // Trigger event to notify admin panel
    localStorage.setItem('newPaymentAdded', JSON.stringify({
        timestamp: new Date().getTime()
    }));
});

// Helper function to show login alert
function showLoginAlert() {
    alert('‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§');
    if (typeof LoginModule !== 'undefined' && LoginModule.handleLogin) {
        LoginModule.handleLogin();
    }
}









// ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
// Unlock course content function
function unlockCourseContent() {
    // Unlock videos
    document.querySelectorAll('.video-item.locked').forEach(item => {
        item.classList.remove('locked');
        const videoId = item.getAttribute('data-video-id');
        item.onclick = () => openVideoModal(videoId);
        const lockIcon = item.querySelector('.video-lock');
        if (lockIcon) lockIcon.remove();
    });

    // Unlock notes
    document.querySelectorAll('.note-item.locked').forEach(item => {
        item.classList.remove('locked');
        const noteId = item.getAttribute('data-note-id');
        item.onclick = () => openNoteModal(noteId);
        const lockIcon = item.querySelector('.note-lock');
        if (lockIcon) lockIcon.remove();
    });

    // Enable review form
    const reviewForm = document.getElementById('reviewForm');
    if (reviewForm) {
        reviewForm.classList.remove('hidden');
    }
}

// ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶°ÊôÇ„Å´ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
function checkAccess() {
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (!currentUser) return;

    const userAccess = JSON.parse(localStorage.getItem('userCourseAccess')) || {};
    const courseId = 'TalimulIslamVolume-2'; // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶á‡¶°‡¶ø

    if (userAccess[currentUser.email]?.includes(courseId)) {
        unlockCourseContent();
    }
}

// localStorage ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶∂‡ßÅ‡¶®‡ßÅ‡¶®
function setupAccessListener() {
    window.addEventListener('storage', (e) => {
        if (e.key === 'refreshCourseAccess') {
            const data = JSON.parse(e.newValue);
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            if (currentUser && currentUser.email === data.email) {
                unlockCourseContent();
            }
        }
    });
}

// ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶°ÊôÇ„Å´ ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®
document.addEventListener('DOMContentLoaded', () => {
    checkAccess();
    setupAccessListener();
    
    // ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶≤‡¶ø ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶® (‡¶Ø‡¶¶‡¶ø ‡¶è‡¶ï‡¶á ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶ì ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶™‡ßá‡¶ú ‡¶ñ‡ßã‡¶≤‡¶æ ‡¶•‡¶æ‡¶ï‡ßá)
    setInterval(() => {
        const refreshFlag = JSON.parse(localStorage.getItem('refreshCourseAccess') || 'null');
        if (refreshFlag) {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser && currentUser.email === refreshFlag.email) {
                unlockCourseContent();
                localStorage.removeItem('refreshCourseAccess');
            }
        }
    }, 1000);
});












// Check and unlock course content
function checkAndUnlockCourse() {
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (!currentUser) return;

    const userAccess = JSON.parse(localStorage.getItem('userCourseAccess')) || {};
    const courseAccess = userAccess[currentUser.email]?.['TalimulIslamVolume-2']; // Replace with your course ID
    
    if (courseAccess?.accessGranted) {
        unlockCourseContent();
    }
}

// Unlock all course content
// Unlock course content function
function unlockCourseContent() {
    // Unlock videos
    document.querySelectorAll('.video-item.locked').forEach(item => {
        item.classList.remove('locked');
        const videoId = item.getAttribute('data-video-id');
        item.onclick = () => openVideoModal(videoId);
        const lockIcon = item.querySelector('.video-lock');
        if (lockIcon) lockIcon.remove();
    });

    // Unlock notes
    document.querySelectorAll('.note-item.locked').forEach(item => {
        item.classList.remove('locked');
        const noteId = item.getAttribute('data-note-id');
        item.onclick = () => openNoteModal(noteId);
        const lockIcon = item.querySelector('.note-lock');
        if (lockIcon) lockIcon.remove();
    });

    // Enable review form
    const reviewForm = document.getElementById('reviewForm');
    if (reviewForm) {
        reviewForm.classList.remove('hidden');
    }
}

// Listen for storage events (when admin approves from another tab)
window.addEventListener('storage', (e) => {
    if (e.key === 'refreshCourseAccess') {
        const data = JSON.parse(e.newValue);
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        
        if (currentUser && currentUser.email === data.email && data.courseId === 'TalimulIslamVolume-2') {
            unlockCourseContent();
        }
    }
});

// Also check periodically in case the event listener doesn't work
setInterval(() => {
    const refreshData = JSON.parse(localStorage.getItem('refreshCourseAccess') || 'null');
    if (refreshData) {
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        
        if (currentUser && currentUser.email === refreshData.email && refreshData.courseId === 'TalimulIslamVolume-2') {
            unlockCourseContent();
            localStorage.removeItem('refreshCourseAccess');
        }
    }
}, 1000);

// Initial check when page loads
document.addEventListener('DOMContentLoaded', checkAndUnlockCourse);






// Check and unlock course content
function checkAndUnlockCourse() {
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (!currentUser) return;

    const userAccess = JSON.parse(localStorage.getItem('userCourseAccess')) || {};
    const courseAccess = userAccess[currentUser.email]?.['TalimulIslamVolume-2ume-3'];
    
    if (courseAccess?.accessGranted) {
        unlockCourseContent();
    }
}

// Unlock all course content
function unlockCourseContent() {
    // Unlock videos
    document.querySelectorAll('.video-item.locked').forEach(item => {
        item.classList.remove('locked');
        const videoId = item.getAttribute('data-video-id');
        item.onclick = () => openVideoModal(videoId);
        const lockIcon = item.querySelector('.video-lock');
        if (lockIcon) lockIcon.remove();
    });

    // Unlock notes
    document.querySelectorAll('.note-item.locked').forEach(item => {
        item.classList.remove('locked');
        const noteId = item.getAttribute('data-note-id');
        item.onclick = () => openNoteModal(noteId);
        const lockIcon = item.querySelector('.note-lock');
        if (lockIcon) lockIcon.remove();
    });

    // Enable review form
    const reviewForm = document.getElementById('reviewForm');
    if (reviewForm) {
        reviewForm.classList.remove('hidden');
    }

    // Update buy button
    const buyBtn = document.querySelector('.buy-now-btn');
    if (buyBtn) {
        buyBtn.textContent = '‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø‡¶≠ ‡¶π‡ßü‡ßá‡¶õ‡ßá';
        buyBtn.style.backgroundColor = '#43a047';
        buyBtn.onclick = null;
    }
}

// Listen for storage events (when admin approves from another tab)
window.addEventListener('storage', (e) => {
    if (e.key === 'refreshCourseAccess') {
        const data = JSON.parse(e.newValue);
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        
        if (currentUser && currentUser.email === data.email && data.courseId === 'TalimulIslamVolume-2') {
            unlockCourseContent();
        }
    }
});

// Also check periodically in case the event listener doesn't work
setInterval(() => {
    const refreshData = JSON.parse(localStorage.getItem('refreshCourseAccess') || 'null');
    if (refreshData) {
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        
        if (currentUser && currentUser.email === refreshData.email && refreshData.courseId === 'TalimulIslamVolume-2t') {
            unlockCourseContent();
            localStorage.removeItem('refreshCourseAccess');
        }
    }
}, 1000);

// Initial check when page loads
document.addEventListener('DOMContentLoaded', checkAndUnlockCourse);






// ‡¶™‡¶™‡¶Ü‡¶™ ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ
function showPopup(type, message, duration = 5000) {
    // Remove any existing popup
    const oldPopup = document.getElementById('customPopup');
    if (oldPopup) oldPopup.remove();
    
    // Create popup element
    const popup = document.createElement('div');
    popup.id = 'customPopup';
    popup.className = `custom-popup`;
    
    // Set icon based on type
    let icon, popupClass;
    switch(type) {
        case 'success':
            icon = '<i class="fas fa-check-circle"></i>';
            popupClass = 'popup-success';
            break;
        case 'error':
            icon = '<i class="fas fa-exclamation-circle"></i>';
            popupClass = 'popup-error';
            break;
        case 'warning':
            icon = '<i class="fas fa-exclamation-triangle"></i>';
            popupClass = 'popup-warning';
            break;
        case 'info':
            icon = '<i class="fas fa-info-circle"></i>';
            popupClass = 'popup-info';
            break;
        default:
            icon = '<i class="fas fa-info-circle"></i>';
            popupClass = 'popup-info';
    }
    
    popup.innerHTML = `
        <div class="popup-content ${popupClass}">
            <div class="popup-icon">${icon}</div>
            <div class="popup-message">${message}</div>
            <button class="popup-close" onclick="this.parentElement.parentElement.remove()">&times;</button>
        </div>
    `;
    
    document.body.appendChild(popup);
    
    // Auto-close after duration
    if (duration > 0) {
        setTimeout(() => {
            popup.classList.add('hide');
            setTimeout(() => popup.remove(), 300);
        }, duration);
    }
    
    return popup;
}

// ‡¶∏‡¶ï‡¶≤ ‡¶è‡¶≤‡¶æ‡¶∞‡ßç‡¶ü ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú‡¶ï‡ßá ‡¶™‡¶™‡¶Ü‡¶™‡ßá ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function convertAlertsToPopups() {
    // 1. ‡¶≤‡¶ó‡¶á‡¶® ‡¶è‡¶≤‡¶æ‡¶∞‡ßç‡¶ü
    window.showLoginAlert = function() {
        showPopup('info', '‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶ï‡ßç‡¶∞‡ßü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®', 0);
        
        // Create login button in popup
        const popup = document.getElementById('customPopup');
        if (popup) {
            const loginBtn = document.createElement('button');
            loginBtn.textContent = '‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®';
            loginBtn.style.marginTop = '10px';
            loginBtn.style.padding = '5px 15px';
            loginBtn.style.background = 'var(--primary-color)';
            loginBtn.style.color = 'white';
            loginBtn.style.border = 'none';
            loginBtn.style.borderRadius = '4px';
            loginBtn.style.cursor = 'pointer';
            loginBtn.onclick = function() {
                if (typeof LoginModule !== 'undefined' && LoginModule.handleLogin) {
                    LoginModule.handleLogin();
                } else {
                    const loginPopup = document.querySelector('.login-popup');
                    if (loginPopup) loginPopup.classList.add('active');
                    const blur = document.querySelector('.blur-overlay');
                    if (blur) blur.classList.add('active');
                }
                popup.remove();
            };
            
            const messageDiv = popup.querySelector('.popup-message');
            if (messageDiv) {
                messageDiv.appendChild(document.createElement('br'));
                messageDiv.appendChild(loginBtn);
            }
        }
    };
    
    // 2. ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶ï‡¶∏‡ßá‡¶∏ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú
    window.showPaymentSuccess = function(message) {
        showPopup('success', message);
    };
    
    // 3. ‡¶è‡¶∞‡¶∞ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú
    window.showErrorPopup = function(message) {
        showPopup('error', message);
    };
    
    // 4. ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶®‡¶ø‡¶Ç ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú
    window.showWarningPopup = function(message) {
        showPopup('warning', message);
    };
    
    // 5. ‡¶á‡¶®‡¶´‡ßã ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú
    window.showInfoPopup = function(message) {
        showPopup('info', message);
    };
    
    // 6. ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ‡ßá‡¶∂‡¶® ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú (‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶á‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∂‡¶®)
    window.showConfirmPopup = function(message, confirmCallback, cancelCallback) {
        const popup = showPopup('info', message, 0);
        
        if (popup) {
            const buttonsDiv = document.createElement('div');
            buttonsDiv.style.display = 'flex';
            buttonsDiv.style.gap = '10px';
            buttonsDiv.style.marginTop = '10px';
            
            const confirmBtn = document.createElement('button');
            confirmBtn.textContent = '‡¶π‡ßç‡¶Ø‡¶æ‡¶Å';
            confirmBtn.style.padding = '5px 15px';
            confirmBtn.style.background = 'var(--primary-color)';
            confirmBtn.style.color = 'white';
            confirmBtn.style.border = 'none';
            confirmBtn.style.borderRadius = '4px';
            confirmBtn.style.cursor = 'pointer';
            confirmBtn.onclick = function() {
                if (typeof confirmCallback === 'function') confirmCallback();
                popup.remove();
            };
            
            const cancelBtn = document.createElement('button');
            cancelBtn.textContent = '‡¶®‡¶æ';
            cancelBtn.style.padding = '5px 15px';
            cancelBtn.style.background = '#6c757d';
            cancelBtn.style.color = 'white';
            cancelBtn.style.border = 'none';
            cancelBtn.style.borderRadius = '4px';
            cancelBtn.style.cursor = 'pointer';
            cancelBtn.onclick = function() {
                if (typeof cancelCallback === 'function') cancelCallback();
                popup.remove();
            };
            
            buttonsDiv.appendChild(confirmBtn);
            buttonsDiv.appendChild(cancelBtn);
            
            const messageDiv = popup.querySelector('.popup-message');
            if (messageDiv) {
                messageDiv.appendChild(document.createElement('br'));
                messageDiv.appendChild(buttonsDiv);
            }
        }
    };
}

// ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶™‡¶™‡¶Ü‡¶™ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
document.addEventListener('DOMContentLoaded', function() {
    convertAlertsToPopups();
    
    // ‡¶∏‡¶ï‡¶≤ alert() ‡¶ï‡ßá ‡¶∞‡¶ø‡¶™‡ßç‡¶≤‡ßá‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶®
    window.alert = function(message) {
        showPopup('info', message);
    };
    
    // ‡¶∏‡¶ï‡¶≤ console.error ‡¶ï‡ßá ‡¶ì ‡¶™‡¶™‡¶Ü‡¶™‡ßá ‡¶∂‡ßã ‡¶ï‡¶∞‡ßÅ‡¶®
    const originalConsoleError = console.error;
    console.error = function() {
        showPopup('error', Array.from(arguments).join(' '));
        originalConsoleError.apply(console, arguments);
    };
});


// ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
// Function to check course access status
function checkCourseAccess(courseId) {
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (!currentUser) return false;
    
    const userAccess = JSON.parse(localStorage.getItem('userCourseAccess')) || {};
    const userEmail = currentUser.email;
    
    // Check if user has access to the specified course
    return userAccess[userEmail] &&
           userAccess[userEmail][courseId] &&
           userAccess[userEmail][courseId].accessGranted;
}

// ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞: TalimulIslamVolume-2 ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶§‡ßá:
if (checkCourseAccess('TalimulIslamVolume-2')) {
    // ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶Ü‡¶õ‡ßá
}

// ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞: fiqh-course ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶§‡ßá:
if (checkCourseAccess('fiqh-course')) {
    // ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶Ü‡¶õ‡ßá
}

// ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
// Function to unlock course content
function unlockCourseContent() {
    // Unlock videos
    document.querySelectorAll('.video-item.locked').forEach(item => {
        item.classList.remove('locked');
        const videoId = item.getAttribute('data-video-id');
        item.onclick = () => openVideoModal(videoId);
        const lockIcon = item.querySelector('.video-lock');
        if (lockIcon) lockIcon.remove();
    });

    // Unlock notes
    document.querySelectorAll('.note-item.locked').forEach(item => {
        item.classList.remove('locked');
        const noteId = item.getAttribute('data-note-id');
        item.onclick = () => openNoteModal(noteId);
        const lockIcon = item.querySelector('.note-lock');
        if (lockIcon) lockIcon.remove();
    });

    // Enable review form
    const reviewForm = document.getElementById('reviewForm');
    if (reviewForm) {
        reviewForm.classList.remove('hidden');
    }

    // Update pricing section
    const pricingSection = document.getElementById('pricing-section');
    if (pricingSection) {
        pricingSection.innerHTML = `
            <div class="active-course-badge">
                <h3>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!</h3>
                <p>‡¶è‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶ï‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ì ‡¶®‡ßã‡¶ü ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®</p>
            </div>
            <div class="course-stats">
                <div class="stat-item">
                    <span class="stat-icon">üë•</span>
                    <span>‡ßß‡ß®,‡ß´‡ß¶‡ß¶+ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üì∫</span>
                    <span>‡ßß‡ß¶‡¶ü‡¶ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡ßá‡¶∏‡¶®</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">‚è±Ô∏è</span>
                    <span>‡¶Æ‡ßã‡¶ü ‡ßÆ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üìÑ</span>
                    <span>‡ßÆ‡¶ü‡¶ø ‡¶™‡¶ø‡¶°‡¶ø‡¶è‡¶´ ‡¶®‡ßã‡¶ü</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üèÜ</span>
                    <span>‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">‚ôæÔ∏è</span>
                    <span>‡¶Ü‡¶ú‡ßÄ‡¶¨‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏</span>
                </div>
            </div>
        `;
    }
}

// Listen for course access updates
window.addEventListener('storage', function(e) {
    if (e.key === 'courseAccessUpdated') {
        const data = JSON.parse(e.newValue);
        const user = JSON.parse(localStorage.getItem('currentUser'));
        
        if (user && user.email === data.email && data.courseId === currentCourse.id) {
            // Reload the page to reflect access changes
            location.reload();
        }
    }
});


// Check course access on page load
window.addEventListener('DOMContentLoaded', function() {
    checkCourseAccess().then(hasAccess => {
        if (hasAccess) {
            // Change "Buy Now" button to "Access Course" button
            const pricingSection = document.getElementById('pricing-section');
            if (pricingSection) {
                pricingSection.innerHTML = `
                    <div class="active-course-badge">
                        <i class="fas fa-check-circle"></i> ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
                    </div>
                `;
            }
            
            // Unlock all content
            document.querySelectorAll('.locked').forEach(item => {
                item.classList.remove('locked');
                item.querySelector('.video-lock, .note-lock')?.remove();
            });
        }
    });
});





// Listen for course access updates
// ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶° (TalimulIslamVolume-2.html)
if (typeof io !== 'undefined') {
    const socket = io('https://t-islamacademy.onrender.com');

    socket.on('courseAccessUpdated', (data) => {
        const user = JSON.parse(localStorage.getItem('currentUser'));
        if (user && user.email === data.email && data.courseId === 'TalimulIslamVolume-2') {
            unlockCourseContent();
            showPopup('‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶è‡¶ñ‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø', 'success');
        }
    });
} else {
    // Fallback for same-origin tabs using localStorage event
    window.addEventListener('storage', function(e) {
        if (e.key === 'courseAccessUpdated') {
            const data = JSON.parse(e.newValue);
            const user = JSON.parse(localStorage.getItem('currentUser'));

            if (user && user.email === data.email && data.courseId === 'TalimulIslamVolume-2') {
                unlockCourseContent();
                showPopup('‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶è‡¶ñ‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø', 'success');
            }
        }
    });
}




// ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶ï‡ßç‡¶∞‡ßü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡ßá ‡¶è‡¶á ‡¶ï‡ßã‡¶° ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
const user = JSON.parse(localStorage.getItem('currentUser'));
if (user) {
    if (!user.courses) user.courses = [];
    if (!user.courses.includes('TalimulIslamVolume-2')) {
        user.courses.push('TalimulIslamVolume-2');
        localStorage.setItem('currentUser', JSON.stringify(user));
    }
}





// TalimulIslamVolume-2.html ‡¶´‡¶æ‡¶á‡¶≤‡ßá
function showSuccessMessage() {
    const successModal = document.getElementById('successModal');
    successModal.style.display = 'block';
    
    // 3 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶¨‡¶®‡ßç‡¶ß
    setTimeout(() => {
        successModal.style.display = 'none';
    }, 3000);
}

function showErrorMessage(message) {
    const errorElement = document.createElement('div');
    errorElement.className = 'error-message';
    errorElement.textContent = message;
    
    const form = document.getElementById('manualPaymentForm');
    form.insertBefore(errorElement, form.firstChild);
    
    // 5 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®
    setTimeout(() => {
        errorElement.remove();
    }, 5000);
}







// ‡¶∏‡¶ï‡ßá‡¶ü.io ‡¶¨‡¶æ localStorage ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
// Listen for course access updates
function setupCourseAccessListener() {
    // WebSocket connection
    if (typeof io !== 'undefined') {
        const socket = io('https://t-islamacademy.onrender.comm');
        
        socket.on('courseAccessUpdated', (data) => {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            if (user && user.email === data.email && data.courseId === 'TalimulIslamVolume-2') {
                unlockCourseContent();
                showPopup('success', '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶è‡¶ñ‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø');
            }
        });
    }
    
    // localStorage event fallback
    window.addEventListener('storage', function(e) {
        if (e.key === 'courseAccessUpdated') {
            const data = JSON.parse(e.newValue);
            const user = JSON.parse(localStorage.getItem('currentUser'));
            
            if (user && user.email === data.email && data.courseId === 'TalimulIslamVolume-2ume-3') {
                unlockCourseContent();
                showPopup('success', '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶è‡¶ñ‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø');
            }
        }
    });
}



let socket;
        let currentUser = null;
        let courseUnlocked = false;

        // Initialize Socket.IO connection
        function initializeSocket() {
            try {
                socket = io('https://t-islamacademy.onrender.com', {
                    transports: ['websocket', 'polling'],
                    timeout: 20000,
                    reconnection: true,
                    reconnectionAttempts: 5,
                    reconnectionDelay: 1000
                });

                socket.on('connect', () => {
                    console.log('Socket connected successfully');
                    
                    // Join user-specific room if logged in
                    if (currentUser && currentUser.email) {
                        socket.emit('joinUserRoom', currentUser.email);
                    }
                });

                socket.on('disconnect', () => {
                    console.log('Socket disconnected');
                });

                socket.on('courseAccessUpdated', (data) => {
                    console.log('Course access update received:', data);
                    
                    if (currentUser && data.email === currentUser.email && data.courseId === 'TalimulIslamVolume-2') {
                        console.log('Course unlocked for current user!');
                        unlockCourseContent();
                        showCourseUnlockedNotification(data);
                    }
                });

                socket.on('connect_error', (error) => {
                    console.error('Socket connection error:', error);
                });

            } catch (error) {
                console.error('Socket initialization error:', error);
            }
        }

        async function checkCourseAccess() {
            currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!currentUser || !currentUser.email) {
                console.log('No user logged in');
                return false;
            }

            try {
                // Check user's courses from server
                const response = await fetch(`https://t-islamacademy.onrender.com/api/users/${currentUser.email}/courses`);
                
                if (!response.ok) {
                    throw new Error('Failed to fetch user courses');
                }
                
                const data = await response.json();
                const userCourses = data.courses || [];
                
                console.log('User courses:', userCourses);
                
                if (userCourses.includes('TalimulIslamVolume-2')) {
                    console.log('User has access to TalimulIslamVolume-2 course');
                    unlockCourseContent();
                    return true;
                } else {
                    console.log('User does not have access to TalimulIslamVolume-2 course');
                    return false;
                }
                
            } catch (error) {
                console.error('Error checking course access:', error);
                
                // Fallback: check localStorage
                const localUser = JSON.parse(localStorage.getItem('currentUser'));
                if (localUser && localUser.courses && localUser.courses.includes('TalimulIslamVolume-2')) {
                    unlockCourseContent();
                    return true;
                }
                
                return false;
            }
        }

        function unlockCourseContent() {
            courseUnlocked = true;
            
            // Unlock videos
            const videoItems = document.querySelectorAll('.video-item.locked');
            videoItems.forEach(item => {
                item.classList.remove('locked');
                item.classList.add('unlocked-content');
                
                // Remove lock icon and add click handler
                const lockIcon = item.querySelector('.video-lock');
                if (lockIcon) lockIcon.remove();
                
                // Add click handler for video
                const videoId = item.getAttribute('data-video-id');
                if (videoId) {
                    item.onclick = () => openVideoModal(videoId);
                }
            });

            // Unlock PDFs
            const pdfItems = document.querySelectorAll('.note-item.locked');
            pdfItems.forEach(item => {
                item.classList.remove('locked');
                item.classList.add('unlocked-content');
                
                const lockIcon = item.querySelector('.note-lock');
                if (lockIcon) lockIcon.remove();
                
                // Add click handler for PDF
                const pdfUrl = item.getAttribute('data-pdf-url');
                if (pdfUrl) {
                    item.onclick = () => openPdfModal(pdfUrl);
                }
            });

            // Unlock review section
            const reviewForm = document.getElementById('reviewForm');
            if (reviewForm) {
                reviewForm.classList.remove('hidden');
                reviewForm.style.display = 'block';
            }

            // Update buy now button
            const buyBtn = document.querySelector('.buy-now-btn');
            if (buyBtn) {
                buyBtn.style.backgroundColor = '#4CAF50';
                buyBtn.style.cursor = 'default';
                buyBtn.style.pointerEvents = 'none';
            }

            // Show success message
            showCourseUnlockedBanner();
            
            console.log('Course content unlocked successfully');
        }

        function showCourseUnlockedNotification(data) {
            const notification = document.createElement('div');
            notification.className = 'custom-popup';
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #4CAF50, #45a049);
                color: white;
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                z-index: 99999;
                max-width: 350px;
                animation: slideInRight 0.5s ease-out;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span style="font-size: 24px; margin-right: 10px;">üéâ</span>
                    <strong>‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!</strong>
                </div>
                <p style="margin: 0; font-size: 14px;">
                    "${data.courseName || '‡¶™‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶á‡¶¨‡¶æ‡¶∞‡¶§'}" ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§
                    ‡¶è‡¶ñ‡¶® ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ì ‡¶®‡ßã‡¶ü ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§
                </p>
            `;
            
            document.body.appendChild(notification);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 5000);
        }

        function showCourseUnlockedBanner() {
            const existingBanner = document.querySelector('.course-unlocked');
            if (existingBanner) return;
            
            const banner = document.createElement('div');
            banner.className = 'course-unlocked';
            banner.innerHTML = `
                <h3>üéâ ‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá</h3>
                <p>‡¶è‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì, ‡¶®‡ßã‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®</p>
            `;
            
            const mainContent = document.querySelector('.course-content') || document.querySelector('main');
            if (mainContent) {
                mainContent.insertBefore(banner, mainContent.firstChild);
            }
        }

        function openPdfModal(pdfUrl) {
            if (!courseUnlocked) {
                showLockedContentAlert('‡¶™‡¶ø‡¶°‡¶ø‡¶è‡¶´ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶ï‡¶∞‡ßÅ‡¶®');
                return;
            }
            
            const modal = document.getElementById('pdfModal');
            const modalPdf = modal.querySelector('.modal-pdf');
            
            modalPdf.src = pdfUrl;
            modal.style.display = 'block';
        }

        function showLockedContentAlert(message) {
            const alert = document.createElement('div');
            alert.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 30px;
                border-radius: 10px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                z-index: 99999;
                text-align: center;
                max-width: 400px;
            `;
            
            alert.innerHTML = `
                <div style="font-size: 48px; margin-bottom: 15px;">üîí</div>
                <h3 style="margin-bottom: 15px; color: #333;">${message}</h3>
                <button onclick="this.parentElement.remove(); handleBuyNow();" 
                        style="background: #4CAF50; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 16px;">
                    ‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®
                </button>
                <button onclick="this.parentElement.remove();" 
                        style="background: #ccc; color: #333; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 16px; margin-left: 10px;">
                    ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
            `;
            
            document.body.appendChild(alert);
        }

        document.addEventListener('DOMContentLoaded', async function() {
            console.log('Page loaded, initializing...');
            
            // Initialize socket connection
            initializeSocket();
            
            // Check course access
            await checkCourseAccess();
            
            // Set up periodic access checking (every 30 seconds)
            setInterval(checkCourseAccess, 30000);
            
            console.log('Initialization complete');
        });

        function handleBuyNow() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!user) {
                showLoginAlert();
                return;
            }
            
            // Show payment modal
            document.getElementById('lockedModal').style.display = 'block';
        }


        
const apiHelper = {
    baseURL: 'https://t-islamacademy.onrender.com/api',
    
    async makeRequest(endpoint, options = {}) {
        const url = `${this.baseURL}${endpoint}`;
        const defaultOptions = {
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
        
        const finalOptions = { ...defaultOptions, ...options };
        
        try {
            console.log(`Making request to: ${url}`, finalOptions);
            
            const response = await fetch(url, finalOptions);
            
            const contentType = response.headers.get('content-type');
            if (!contentType || !contentType.includes('application/json')) {
                throw new Error(`Server returned non-JSON response: ${contentType}`);
            }
            
            const data = await response.json();
            
            if (!response.ok) {
                throw new Error(data.message || `HTTP error! status: ${response.status}`);
            }
            
            return data;
        } catch (error) {
            console.error(`API Error for ${endpoint}:`, error);
            
            if (error.name === 'TypeError' && error.message.includes('fetch')) {
                throw new Error('‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡•§ ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
            } else if (error.message.includes('non-JSON response')) {
                throw new Error('‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶≠‡ßÅ‡¶≤ ‡¶ß‡¶∞‡¶®‡ßá‡¶∞ ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏ ‡¶è‡¶∏‡ßá‡¶õ‡ßá‡•§ ‡¶™‡ßá‡¶á‡¶ú ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
            } else {
                throw error;
            }
        }
    }
};

const ReviewSystem = {
    async loadReviews(courseId) {
        try {
            console.log(`Loading reviews for course: ${courseId}`);
            
            const data = await apiHelper.makeRequest(`/reviews/${courseId}`);
            
            if (data.success && Array.isArray(data.reviews)) {
                this.displayReviews(data.reviews);
                return data.reviews;
            } else {
                throw new Error('‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá ‡¶®‡ßá‡¶á');
            }
        } catch (error) {
            console.error('Error loading reviews:', error);
            this.showReviewError('‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ' + error.message);
            return [];
        }
    },
    
    async submitReview(reviewData) {
        try {
            console.log('Submitting review:', reviewData);
            
            if (!reviewData.courseId || !reviewData.reviewerName || !reviewData.reviewerEmail || 
                !reviewData.rating || !reviewData.reviewText) {
                throw new Error('‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®');
            }
            
            if (reviewData.rating < 1 || reviewData.rating > 5) {
                throw new Error('‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç ‡ßß ‡¶•‡ßá‡¶ï‡ßá ‡ß´ ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá');
            }
            
            const data = await apiHelper.makeRequest('/reviews', {
                method: 'POST',
                body: JSON.stringify(reviewData)
            });
            
            if (data.success) {
                this.showReviewSuccess(data.message);
                this.clearReviewForm();
                // Reload reviews after successful submission
                setTimeout(() => {
                    this.loadReviews(reviewData.courseId);
                }, 1000);
                return true;
            } else {
                throw new Error(data.message || '‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
            }
        } catch (error) {
            console.error('Error submitting review:', error);
            this.showReviewError('‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ' + error.message);
            return false;
        }
    },
    
    displayReviews(reviews) {
        const reviewsContainer = document.getElementById('reviewsContainer');
        if (!reviewsContainer) return;
        
        if (reviews.length === 0) {
            reviewsContainer.innerHTML = '<p class="no-reviews">‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶® ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶®‡ßá‡¶á‡•§ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶¶‡¶ø‡¶®!</p>';
            return;
        }
        
        const reviewsHTML = reviews.map(review => `
            <div class="review-item">
                <div class="review-header">
                    <h4>${this.escapeHtml(review.reviewerName)}</h4>
                    <div class="rating">
                        ${'‚òÖ'.repeat(review.rating)}${'‚òÜ'.repeat(5 - review.rating)}
                    </div>
                    <span class="review-date">${new Date(review.date).toLocaleDateString('bn-BD')}</span>
                </div>
                <p class="review-text">${this.escapeHtml(review.reviewText)}</p>
            </div>
        `).join('');
        
        reviewsContainer.innerHTML = reviewsHTML;
    },
    
    showReviewError(message) {
        const errorContainer = document.getElementById('reviewError');
        if (errorContainer) {
            errorContainer.textContent = message;
            errorContainer.style.display = 'block';
            errorContainer.style.color = '#dc3545';
            errorContainer.style.padding = '10px';
            errorContainer.style.backgroundColor = '#f8d7da';
            errorContainer.style.border = '1px solid #f5c6cb';
            errorContainer.style.borderRadius = '4px';
            errorContainer.style.marginBottom = '15px';
        } else {
            alert(message);
        }
    },
    
    showReviewSuccess(message) {
        const successContainer = document.getElementById('reviewSuccess');
        if (successContainer) {
            successContainer.textContent = message;
            successContainer.style.display = 'block';
            successContainer.style.color = '#155724';
            successContainer.style.padding = '10px';
            successContainer.style.backgroundColor = '#d4edda';
            successContainer.style.border = '1px solid #c3e6cb';
            successContainer.style.borderRadius = '4px';
            successContainer.style.marginBottom = '15px';
            
            // Hide success message after 5 seconds
            setTimeout(() => {
                successContainer.style.display = 'none';
            }, 5000);
        } else {
            alert(message);
        }
    },
    
    clearReviewForm() {
        const form = document.getElementById('reviewForm');
        if (form) {
            form.reset();
            // Clear any error messages
            const errorContainer = document.getElementById('reviewError');
            if (errorContainer) {
                errorContainer.style.display = 'none';
            }
        }
    },
    
    escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }
};

document.addEventListener('DOMContentLoaded', function() {
    loadReviews();
    // Initialize review system
    const courseId = 'TalimulIslamVolume-2'; // Replace with actual course ID
    ReviewSystem.loadReviews(courseId);
    
    const reviewForm = document.getElementById('reviewForm');
    if (reviewForm) {
        reviewForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Hide previous messages
            const errorContainer = document.getElementById('reviewError');
            const successContainer = document.getElementById('reviewSuccess');
            if (errorContainer) errorContainer.style.display = 'none';
            if (successContainer) successContainer.style.display = 'none';
            
            // Get form data
            const formData = new FormData(this);
            const reviewData = {
                courseId: courseId,
                reviewerName: formData.get('reviewerName')?.trim(),
                reviewerEmail: formData.get('reviewerEmail')?.trim(),
                rating: parseInt(formData.get('rating')),
                reviewText: formData.get('reviewText')?.trim()
            };
            
            // Submit review
            const submitButton = this.querySelector('button[type="submit"]');
            const originalText = submitButton.textContent;
            submitButton.textContent = '‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...';
            submitButton.disabled = true;
            
            try {
                await ReviewSystem.submitReview(reviewData);
            } finally {
                submitButton.textContent = originalText;
                submitButton.disabled = false;
            }
        });
    }
});


// Load reviews for the course
// ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
function loadReviews() {
    fetch('https://t-islamacademy.onrender.com/api/reviews/TalimulIslamVolume-2')
    .then(response => response.json())
    .then(data => {
        if (data.success && data.reviews) {
            const reviewsContainer = document.querySelector('.reviews-container');
            if (reviewsContainer) {
                // ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶® (‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶ø‡¶ï ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶¨‡¶æ‡¶¶‡ßá)
                const staticReviews = reviewsContainer.querySelectorAll('.review:not(.dynamic-review)');
                reviewsContainer.innerHTML = '';
                staticReviews.forEach(review => reviewsContainer.appendChild(review));
                
                // ‡¶®‡¶§‡ßÅ‡¶® ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                data.reviews.forEach(review => {
                    const reviewElement = createReviewElement(review);
                    reviewsContainer.appendChild(reviewElement);
                });
            }
        }
    })
    .catch(error => {
        console.error('Error loading reviews:', error);
    });
}

// DOM ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
document.addEventListener('DOMContentLoaded', function() {
    loadReviews();
    // ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶® ‡¶ï‡ßã‡¶°...
});

// Helper function to check if a review exists in static content
function isStaticReview(review) {
    const staticReviewers = ['‡¶Ü‡¶¨‡ßÅ ‡¶¨‡¶ï‡¶∞ ‡¶∏‡¶ø‡¶¶‡ßç‡¶¶‡¶ø‡¶ï', '‡¶Æ‡ßÅ‡¶π‡¶æ‡¶Æ‡ßç‡¶Æ‡¶¶ ‡¶ï‡¶æ‡¶∏‡ßá‡¶Æ', '‡¶´‡¶æ‡¶§‡¶ø‡¶Æ‡¶æ ‡¶ñ‡¶æ‡¶§‡ßÅ‡¶®', '‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Ü‡¶≤ ‡¶Æ‡¶æ‡¶Æ‡ßÅ‡¶®'];
    return staticReviewers.includes(review.reviewerName);
}

// Helper function to format date
function formatDate(dateString) {
    const date = new Date(dateString);
    const now = new Date();
    const diffDays = Math.floor((now - date) / (1000 * 60 * 60 * 24));
    
    if (diffDays === 0) return '‡¶Ü‡¶ú';
    if (diffDays === 1) return '‡¶ó‡¶§‡¶ï‡¶æ‡¶≤';
    if (diffDays < 7) return `${diffDays} ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá`;
    if (diffDays < 30) return `${Math.floor(diffDays/7)} ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡¶Ü‡¶ó‡ßá`;
    return `${Math.floor(diffDays/30)} ‡¶Æ‡¶æ‡¶∏ ‡¶Ü‡¶ó‡ßá`;
}
// Load reviews when page loads
document.addEventListener('DOMContentLoaded', loadReviews);



function checkReviewFormVisibility() {
    const user = JSON.parse(localStorage.getItem('currentUser'));
    const reviewForm = document.getElementById('reviewForm');
    
    if (user) {
        reviewForm.classList.remove('hidden');
        document.getElementById('reviewerName').textContent = user.name;
        document.getElementById('reviewerEmail').textContent = user.email;
        document.getElementById('reviewerAvatar').textContent = user.name.charAt(0).toUpperCase();
        document.getElementById('reviewDate').textContent = new Date().toLocaleDateString();
    } else {
        reviewForm.classList.add('hidden');
    }
}

// Call this function when page loads and after login
document.addEventListener('DOMContentLoaded', checkReviewFormVisibility);



// Helper function to create review element
// UI-‡¶§‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
// ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function createReviewElement(review) {
    const reviewElement = document.createElement('div');
    reviewElement.className = 'review dynamic-review';
    
    const reviewDate = new Date(review.date);
    const formattedDate = reviewDate.toLocaleDateString('bn-BD', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    }) + ' ' + reviewDate.toLocaleTimeString('bn-BD', {
        hour: '2-digit',
        minute: '2-digit'
    });

    reviewElement.innerHTML = `
        <div class="review-header">
            <div class="reviewer-avatar">${review.reviewerName.charAt(0).toUpperCase()}</div>
            <div>
                <div class="reviewer-name">${review.reviewerName}</div>
                <div class="star-rating">${'‚≠ê'.repeat(review.rating)}</div>
            </div>
            <div class="review-date">${formattedDate}</div>
        </div>
        <div class="review-text">${review.reviewText}</div>
    `;
    
    return reviewElement;
}
</script>        


<!-- / YouTube IFrame API ‡¶™‡ßç‡¶≤‡ßá‡ßü‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø -->

<script>
        // ===============================
        // YouTube IFrame API ‡¶™‡ßç‡¶≤‡ßá‡ßü‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø
        // ===============================
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        
        // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶≠‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶¨‡¶≤
        var player;
        var isPlaying = false;
        var isMuted = false;
        var updateInterval;
        var currentVideoId = '';
        var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        var isAndroid = /Android/.test(navigator.userAgent);
        var isMobile = isIOS || isAndroid;
        var isFullscreen = false;
        
        // DOM elements
        const playPauseBtn = document.getElementById('play-pause');
        const muteUnmuteBtn = document.getElementById('mute-unmute');
        const volumeSlider = document.getElementById('volume-slider');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const progressBar = document.getElementById('progress-bar');
        const progressContainer = document.getElementById('progress-container');
        const fullscreenBtn = document.getElementById('fullscreen-btn');
        const fullscreenBtnMobile = document.getElementById('fullscreen-btn-mobile');
        const playOverlay = document.getElementById('play-overlay');
        const skipForwardBtn = document.getElementById('skip-forward');
        const skipBackwardBtn = document.getElementById('skip-backward');
        const customContextMenu = document.getElementById('custom-context-menu');
        const videoModal = document.getElementById('videoModal');
        
        // Video modal functionality
        function openVideoModal(videoId) {
                       const videos = {
    'lesson-1': {
        title: '‡¶á‡¶¨‡¶æ‡¶∞‡¶§ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨ ‡¶ì ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º‡¶§‡¶æ',
        videoId: 'VEBtNGm_ym8'
    },
    'lesson-2': {
        title: '‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶¨‡¶∞‡ßç‡¶£‡¶Æ‡¶æ‡¶≤‡¶æ ‡¶ì ‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£',
        videoId: 'VEBtNGm_ym8'
    },
    'lesson-3': {
        title: '‡¶®‡¶æ‡¶π‡ßÅ (‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£) ‡¶è‡¶∞ ‡¶Æ‡ßå‡¶≤‡¶ø‡¶ï ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ',
        videoId: 'VEBtNGm_ym8'
    },
    // ... ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶≤‡ßá‡¶∏‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡¶ì ‡¶è‡¶ï‡¶á‡¶≠‡¶æ‡¶¨‡ßá videoId ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®
};

            if (videos[videoId]) {
                const video = videos[videoId];
                document.getElementById('videoTitle').textContent = video.title;
                currentVideoId = video.videoId;
                
                // YouTube ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
                if (player) {
                    player.loadVideoById(video.videoId);
                } else {
                    // If player is not ready, store the video ID and wait for API
                    window.pendingVideoId = video.videoId;
                }
                
                videoModal.style.display = 'block';
                document.body.classList.add('modal-open');
                
                // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá ‡¶∏‡ßç‡¶ï‡¶ø‡¶™ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
                if (isMobile) {
                    skipForwardBtn.style.display = 'flex';
                    skipBackwardBtn.style.display = 'flex';
                }
            }
        }

        // Close modal
        function closeModal(modalId) {
            exitIOSFullscreen();
            videoModal.style.display = 'none';
            document.body.classList.remove('modal-open');
            if (player) {
                player.pauseVideo();
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target == videoModal) {
                closeModal('videoModal');
            }
        }
        
        // ‡¶ï‡¶®‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶Æ‡ßá‡¶®‡ßÅ (‡¶∞‡¶æ‡¶á‡¶ü ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï) ‡¶°‡¶ø‡¶∏‡ßá‡¶¨‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            
            // ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
            customContextMenu.style.display = 'block';
            customContextMenu.style.left = e.pageX + 'px';
            customContextMenu.style.top = e.pageY + 'px';
            
            // 2 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶≤‡ßÅ‡¶ï‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶ø‡¶®
            setTimeout(function() {
                customContextMenu.style.display = 'none';
            }, 2000);
        });
        
        // YouTube Player API ‡¶∞‡ßá‡¶°‡¶ø ‡¶π‡¶≤‡ßá ‡¶è‡¶á ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶ï‡¶≤ ‡¶π‡¶¨‡ßá
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '100%',
                width: '100%',
                videoId: window.pendingVideoId || currentVideoId || 'VEBtNGm_ym8',
                playerVars: {
                    'playsinline': 1,
                    'modestbranding': 1,
                    'rel': 0,
                    'controls': 0,
                    'showinfo': 0,
                    'enablejsapi': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        // ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∞‡ßá‡¶°‡¶ø ‡¶π‡¶≤‡ßá
        function onPlayerReady(event) {
            // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶∞ ‡¶¶‡ßà‡¶∞‡ßç‡¶ò‡ßç‡¶Ø ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            const duration = player.getDuration();
            durationEl.textContent = formatTime(duration);
            
            // ‡¶≠‡¶≤‡¶ø‡¶â‡¶Æ ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            volumeSlider.value = player.getVolume();
            
            // ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ø‡¶§‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡ßá‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            updateInterval = setInterval(updateProgress, 100);
            
            // YouTube ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡¶ï‡ßá ‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø‡¶Æ‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
            document.getElementById('youtube-player').style.opacity = 1;
            document.getElementById('youtube-player').style.pointerEvents = 'auto';
            
            // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡ßç‡¶≤‡ßá ‡¶¨‡¶æ‡¶ü‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
            playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
            playOverlay.innerHTML = '<i class="fas fa-play"></i>';
            
            // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá ‡¶∏‡ßç‡¶ï‡¶ø‡¶™ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶≠‡¶≤‡¶ø‡¶â‡¶Æ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®
            if (isMobile) {
                skipForwardBtn.style.display = 'flex';
                skipBackwardBtn.style.display = 'flex';
                document.getElementById('mute-unmute').style.display = 'none';
                document.querySelector('.volume-container').style.display = 'none';
            } else {
                // ‡¶°‡ßá‡¶∏‡ßç‡¶ï‡¶ü‡¶™‡ßá ‡¶≠‡¶≤‡¶ø‡¶â‡¶Æ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
                document.getElementById('mute-unmute').style.display = 'flex';
                document.querySelector('.volume-container').style.display = 'flex';
            }
        }
        
        // ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶π‡¶≤‡ßá
        function onPlayerStateChange(event) {
            // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶™‡ßç‡¶≤‡ßá ‡¶π‡¶ö‡ßç‡¶õ‡ßá
            if (event.data == YT.PlayerState.PLAYING) {
                isPlaying = true;
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                playOverlay.innerHTML = '<i class="fas fa-pause"></i>';
            } 
            // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶™‡¶ú ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
            else if (event.data == YT.PlayerState.PAUSED) {
                isPlaying = false;
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                playOverlay.innerHTML = '<i class="fas fa-play"></i>';
            } 
            // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∂‡ßá‡¶∑ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
            else if (event.data == YT.PlayerState.ENDED) {
                isPlaying = false;
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                playOverlay.innerHTML = '<i class="fas fa-play"></i>';
            }
        }
        
        // ‡¶∏‡¶Æ‡ßü ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function formatTime(seconds) {
            if (isNaN(seconds)) return "0:00";
            
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            return minutes + ':' + (remainingSeconds < 10 ? '0' : '') + remainingSeconds;
        }
        
        // ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡ßá‡¶∏ ‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        function updateProgress() {
            if (player && player.getCurrentTime) {
                const currentTime = player.getCurrentTime();
                const duration = player.getDuration();
                
                if (duration > 0) {
                    const percent = (currentTime / duration) * 100;
                    progressBar.style.width = percent + '%';
                    currentTimeEl.textContent = formatTime(currentTime);
                }
            }
        }
        
        // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶™‡ßç‡¶≤‡ßá/‡¶™‡¶ú
        function togglePlayPause() {
            if (!player) return;
            
            if (isPlaying) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }
        
        // ‡ß©‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶è‡¶ó‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function skipForward() {
            if (!player) return;
            
            const currentTime = player.getCurrentTime();
            const duration = player.getDuration();
            const newTime = Math.min(currentTime + 30, duration);
            
            player.seekTo(newTime, true);
            updateProgress();
        }
        
        // ‡ß©‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶ø‡¶õ‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function skipBackward() {
            if (!player) return;
            
            const currentTime = player.getCurrentTime();
            const newTime = Math.max(currentTime - 30, 0);
            
            player.seekTo(newTime, true);
            updateProgress();
        }
        
        // ‡¶≠‡¶≤‡¶ø‡¶â‡¶Æ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤
        function toggleMute() {
            if (!player) return;
            
            if (isMuted) {
                player.unMute();
                muteUnmuteBtn.innerHTML = '<i class="fas fa-volume-high"></i>';
                volumeSlider.value = player.getVolume();
            } else {
                player.mute();
                muteUnmuteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
                volumeSlider.value = 0;
            }
            
            isMuted = !isMuted;
        }
        
        // ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡ßá‡¶∏ ‡¶¨‡¶æ‡¶∞ ‡§ï‡•ç‡§≤‡¶ø‡¶ï ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
        function seekVideo(e) {
            if (!player) return;
            
            const rect = progressContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const width = rect.width;
            const percent = x / width;
            const newTime = player.getDuration() * percent;
            
            player.seekTo(newTime, true);
            updateProgress();
        }
        
        // ‡¶´‡ßÅ‡¶≤‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶Æ‡ßã‡¶° - iOS ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶ø‡¶Ç
        function toggleFullscreen() {
            const playerWrapper = document.querySelector('.player-wrapper');
            
            if (isMobile) {
                // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶´‡ßÅ‡¶≤‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®
                document.body.classList.add('ios-fullscreen');
                isFullscreen = true;
                
                // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
                document.getElementById('video-container').style.paddingBottom = '0';
                document.getElementById('video-container').style.height = '100%';
                
                // iOS exit button ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
                document.getElementById('ios-exit-fullscreen').style.display = 'flex';
                
                // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∞‡¶ø‡¶∏‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®
                if (player && player.setSize) {
                    player.setSize(window.innerWidth, window.innerHeight);
                }
            } else {
                // ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶æ‡¶∞‡ßç‡¶° ‡¶´‡ßÅ‡¶≤‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®
                if (!document.fullscreenElement) {
                    if (playerWrapper.requestFullscreen) {
                        playerWrapper.requestFullscreen().catch(err => {
                            console.error('Error attempting to enable fullscreen:', err);
                        });
                    } else if (playerWrapper.webkitRequestFullscreen) {
                        playerWrapper.webkitRequestFullscreen();
                    } else if (playerWrapper.msRequestFullscreen) {
                        playerWrapper.msRequestFullscreen();
                    }
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen();
                    } else if (document.msExitFullscreen) {
                        document.msExitFullscreen();
                    }
                }
            }
        }
        
        // iOS ‡¶´‡ßÅ‡¶≤‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function exitIOSFullscreen() {
            document.body.classList.remove('ios-fullscreen');
            isFullscreen = false;
            const playerWrapper = document.querySelector('.player-wrapper');
            playerWrapper.style.position = '';
            playerWrapper.style.top = '';
            playerWrapper.style.left = '';
            playerWrapper.style.width = '';
            playerWrapper.style.height = '';
            playerWrapper.style.zIndex = '';
            
            document.getElementById('video-container').style.paddingBottom = '56.25%';
            document.getElementById('video-container').style.height = '';
            
            document.getElementById('ios-exit-fullscreen').style.display = 'none';
            
            // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∞‡¶ø‡¶∏‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
            if (player && player.setSize) {
                player.setSize('100%', '100%');
            }
        }
        
        // ‡¶´‡ßÅ‡¶≤‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®
        document.addEventListener('fullscreenchange', function() {
            if (!document.fullscreenElement) {
                // ‡¶´‡ßÅ‡¶≤‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶Æ‡ßã‡¶° ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßá
                exitIOSFullscreen();
            }
        });
        
        // ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞
        playPauseBtn.addEventListener('click', togglePlayPause);
        muteUnmuteBtn.addEventListener('click', toggleMute);
        playOverlay.addEventListener('click', togglePlayPause);
        skipForwardBtn.addEventListener('click', skipForward);
        skipBackwardBtn.addEventListener('click', skipBackward);
        
        volumeSlider.addEventListener('input', function() {
            if (!player) return;
            
            player.setVolume(this.value);
            
            if (this.value == 0) {
                muteUnmuteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
                isMuted = true;
            } else {
                muteUnmuteBtn.innerHTML = '<i class="fas fa-volume-high"></i>';
                isMuted = false;
            }
        });
        
        progressContainer.addEventListener('click', seekVideo);
        fullscreenBtn.addEventListener('click', toggleFullscreen);
        fullscreenBtnMobile.addEventListener('click', toggleFullscreen);
        
        // ‡¶ï‡ßÄ‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶∂‡¶∞‡ßç‡¶ü‡¶ï‡¶æ‡¶ü
        document.addEventListener('keydown', function(e) {
            // ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶ñ‡ßã‡¶≤‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶∂‡¶∞‡ßç‡¶ü‡¶ï‡¶æ‡¶ü ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá
            if (videoModal.style.display !== 'block') return;
            
            if (e.key === ' ' || e.key === 'k') {
                e.preventDefault();
                togglePlayPause();
            } else if (e.key === 'm') {
                e.preventDefault();
                toggleMute();
            } else if (e.key === 'f') {
                e.preventDefault();
                toggleFullscreen();
            } else if (e.key === 'ArrowRight') {
                e.preventDefault();
                if (player) {
                    const newTime = player.getCurrentTime() + 5;
                    player.seekTo(newTime, true);
                }
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                if (player) {
                    const newTime = Math.max(player.getCurrentTime() - 5, 0);
                    player.seekTo(newTime, true);
                }
            } else if (e.key === 'l' || e.key === 'L') {
                e.preventDefault();
                skipForward();
            } else if (e.key === 'j' || e.key === 'J') {
                e.preventDefault();
                skipBackward();
            } else if (e.key === 'Escape') {
                e.preventDefault();
                if (isFullscreen) {
                    exitIOSFullscreen();
                } else {
                    closeModal('videoModal');
                }
            }
        });
        
        // ‡¶∞‡ßá‡¶∏‡ßç‡¶™‡¶®‡ßç‡¶∏‡¶ø‡¶≠ ‡¶≠‡¶≤‡¶ø‡¶â‡¶Æ ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞
        function handleVolumeSlider() {
            if (window.innerWidth < 768) {
                volumeSlider.style.width = '60px';
            } else {
                volumeSlider.style.width = '80px';
            }
        }
        
        window.addEventListener('resize', handleVolumeSlider);
        handleVolumeSlider();
        
        // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá ‡¶∏‡ßç‡¶ï‡¶ø‡¶™ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶≠‡¶≤‡¶ø‡¶â‡¶Æ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®
        if (isMobile) {
            skipForwardBtn.style.display = 'flex';
            skipBackwardBtn.style.display = 'flex';
            document.getElementById('mute-unmute').style.display = 'none';
            document.querySelector('.volume-container').style.display = 'none';
        } else {
            // ‡¶°‡ßá‡¶∏‡ßç‡¶ï‡¶ü‡¶™‡ßá ‡¶≠‡¶≤‡¶ø‡¶â‡¶Æ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
            document.getElementById('mute-unmute').style.display = 'flex';
            document.querySelector('.volume-container').style.display = 'flex';
        }
</script>


</body>
</html>